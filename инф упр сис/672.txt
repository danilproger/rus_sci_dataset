ПРОБЛЕМА УСТОЙЧИВОСТИ ЦИФРОВЫХ РЕГУЛЯТОРОВ  С СЕТЕВЫМ СПОСОБОМ ДОСТАВКИ  УПРАВЛЯЮЩИХ ВЕЛИЧИН 

разработка метода синтеза цифровых автоматических систем, учитывающего сетевые задержки управляющих величин при их доставке в цифровой корректор, устойчивый к их пропажам из-за потери сетевых кадров и их несвоевременной доставки. Результаты: разработан метод синтеза цифровых автоматических систем с сетевым способом доставки управляющих величин, для которых определена максимальная задержка кадров в конкретной сетевой среде. Учет сетевых задержек дает возможность компенсировать их влияние на динамические свойства цифровой системы путем модификации располагаемой части и ее использования на следующем этапе синтеза. Благодаря этой процедуре удается избежать применения предикторов и компенсаторов различных типов для решения проблемы устойчивости. Предложенный в статье метод проектирования цифрового корректора позволяет обеспечить его невосприимчивость к пропажам определенного количества сетевых кадров. При программной реализации модели применен пакет Simulink с использованием инструмента Stateflow. Практическая значимость: полученные результаты позволяют учитывать задержки и пропажи сетевых кадров при синтезе и проектировании цифровых автоматических систем.

Использование сетевых технологий для доставки управляющих величин в современных бортовых цифровых системах управления создает проблему их устойчивости из-за сетевых задержек. Если используется сеть с множественным доступом, то эта проблема усугубляется из-за возможного пропадания сетевых кадров. Аналогичная ситуация возникает и в случае наличия в контуре цифровой системы спутникового сигнала, например при использовании спутниковой навигации в задачах управления, и из-за возможных помех и препятствий на пути его распространения. Задержки должны быть соотнесены с периодом дискретизации цифровой системы по времени, который выбирается при ее динамическом синтезе 1 и влияет на точность, быстродействие и запас устойчивости. Для обеспечения необходимого в этих случаях качества цифровых систем были разработаны различные методы 25. Однако большинство из них подходят к проблеме не с позиции синтеза, а принимая цифровую систему уже готовой 610. Есть методы 1115 с такими условиями, которые делают их не представляющими практического интереса. Например, чтобы случайные сетевые задержки не превышали периода дискретности 6 или всегда имели одинаковую величину 11, также не всегда учитывается пропажа кадров 12. В цифровых системах автоматического управления отсутствие детерминизма при доставке информации об ошибке или сигнале обратной связи означает, что период дискретности может оказаться случайным. Подобные системы относятся к системам со случайными параметрами 1, исследование которых требует знания закона распределения периода дискретности и сведений о статистических характеристиках, описывающих изменение периода дискретности во времени. Это обстоятельство делает проектирование подобных систем затруднительным. Таким образом, ни в одной из работ по данной тематике 215 не используется комплексный подход к синтезу цифровых автоматических систем при заданных условиях. Целью настоящей статьи является анализ этой проблемы и разработка метода, позволяющего выполнять синтез цифровых автоматических систем при наличии случайных задержек и пропаж сетевых кадров при их доставке в цифровой корректор. Задержки должны быть соотнесены с периодом дискретизации цифровой системы по времени, который выбирается при ее динамическом синтезе и влияет на точность, быстродействие и запас устойчивости. Предложенный автором подход для обеспечения устойчивости цифровой системы со случайным периодом отличается от разработанного в работах В. А. Бесекерского тем, что в качестве модели случайного процесса используется квазипериодический процесс с заданным периодом и случайными нулевыми значениями. Такой процесс описывается моделью решетчатой функции времени, отдельные отсчеты которой могут обращаться в ноль. Эта модель учитывает как пропажи сетевых кадров, так и их кажущиеся пропажи вследствие несвоевременной доставки в цифровой корректор. Для решения поставленной задачи необходимо проанализировать временные соотношения, которые возникают при доставке сетевых кадров до места их назначения. На рис. 1 представлена структурная схема цифровой системы управления с сетевым способом доставки управляющих величин, где цифровой корректор 1, 2 первый и второй сетевые интерфейсы экстраполятор исполнительное устройство управляемый объект датчик задающее воздействие ошибка скорректированная ошибка, переданная по сети управляющее воздействие управляемая величина, переданная по сети. С учетом задержки на период при распространении информационного пакета по сети очевидно, что 1 1 1. 2 Для ошибки, получаемой из сети и передаваемой на вход исполнительного устройства, можно записать равенство 1 2. Тогда для ошибки, передаваемой на корректор и затем в сеть, можно записать равенство 1. 3 Для ошибки, получаемой из сети и передаваемой на вход исполнительного устройства, можно записать равенство 1 2. 4 В результате передачи информационного пакета по сети могут пропадать значения и или . Тогда, в простейшем случае, можно использовать предыдущие значения. Рассмотрим последствия обоих случаев пропадания пакетов для равенства 4. В случае пропадания значения 2 равенство 4 примет вид 1 3. 5 В случае пропадания значения равенство 4 примет вид 2 3. 6 В случае пропадания значений 2 и равенство 4 также примет вид 6. Обобщив равенства 5, 6 на случаи многократного пропадания пакетов, можно записать следующие равенства. В случае -кратного пропадания значений 2, где 0.., равенство 4 примет вид 1 3. 7 В случае -кратного пропадания значений, где 0.., равенство 4 примет вид 2 3. 8 В случае -кратного пропадания значений 2 и, где 0.., равенство 4 также примет вид 8. Рассмотрим пример, который иллюстрирует зависимости дискретных отсчетов переходной характеристики в начале переходного процесса. Для 0 0 1 1 0 1, так как 0 0 2 2 1 2, так как 1 0 3 3 2 3, так как 2 0 4 4 3 5 5 4 1. Для 0 0 1 0 0 2 1 1 3 2 4 3 5 4 3 1 2. Из приведенного примера можно заключить о характерной задержке поступления управляющих величин в цифровой корректор. Предполагается, что сетевой кадр с управляющей величиной передается один раз для каждого периода дискретности. Временной характер передачи управляющих величин показан на рис. 2. Как видно из этого рисунка, общая задержка передачи новой управляющей величины имеет три составляющие, 9 где общая задержка передачи новой управляющей величины задержка вычисления новой управляющей величины задержка доставки управляющей величины при передаче через сеть задержка передачи управляющей величины в управление, синхронизирующая поступающие значения с периодом дискретности. Значение задержки, как правило, невелико, обычно она является константой. Значение задержки зависит от свойств сети и состоит из постоянной и случайной составляющих. Постоянная составляющая определяется минимальной задержкой доставки сетевого кадра, а случайная может добавляться к постоянной в случае загруженности сети другим трафиком. Значение задержки может быть любым, оно зависит от времени нахождения поступившего кадра во входном буфере до момента наступления следующего периода дискретности. Эта задержка вводится искусственно для того, чтобы полученные значения управляющих величин передавались в управление в моменты, соответствующие периоду дискретности. Как можно видеть из рис. 2, на характер управления может влиять задержка, причем только в том случае, если ее значение превысит величину . Если это произойдет, новая управляющая величина не будет получена к моменту текущего периода дискретности и ее нельзя будет использовать в управлении. В простейшем случае, при превышении значения задержки в новом периоде дискретизации можно использовать предыдущую управляющую величину. Пропажи кадров могут происходить при помехах, превышении пропускной способности каналов связи, переполнении буферов оборудования, нарушениях работы сети и различных ошибках. С точки зрения управления разницы между пропажей одного кадра и задержкой, удовлетворяющей неравенству 2, нет. Таким образом, при использовании в цифровой системе сети с множественным доступом увеличение периода дискретности приводит к снижению влияния случайной составляющей сетевых задержек на качество управления. Уменьшение периода дискретности приводит к улучшению таких характеристик, как точность, накапливающаяся ошибка экстраполятора и запас устойчивости, а его увеличение делает цифровую систему менее чувствительной к случайным сетевым задержкам. Тем не менее случайные сетевые задержки могут превысить время доставки, что приведет к ухудшению качества управления. Такой же результат вызовет и пропадание кадров. Известно, что период дискретизации по времени следует сначала выбирать в соответствии с методом динамического синтеза цифровых систем управления 1. Затем cледует провести сам синтез по этой методике с учетом сетевых задержек управляющих величин. Такой учет можно сделать следующим образом. Как уже было отмечено, использование регулятора с дискретным периодом предполагает передачу в управление ошибки и величины обратной связи только в моменты, соответствующие периоду дискретности. До тех пор информация, полученная по сети, может быть использована в корректоре для экстраполяции будущих значений управляющих величин. Это можно учесть, добавив оператор в замкнутый контур, как это показано на рис. 3, где задержка на период дискретности приведенная дискретная передаточная функция ПФ непрерывной части системы, экстраполятора и цифроаналогового преобразователя ПФ аналого-цифрового преобразователя. Тогда ПФ замкнутой системы, cоответствующая структурной схеме на рис. 3, может быть представлена следующей формулой 10 Отсюда можно получить ПФ разомкнутой системы, учитывающей сетевые задержки 11 Именно эту ПФ следует использовать в качестве располагаемой на следующем этапе динамического синтеза 1 цифровой системы автоматического управления. Для этого следует оценить максимальную задержку в сети, используемой для передачи управляющих величин, как с помощью анализа стандартов данной технологии, так и исходя из конкретных особенностей ее применения топологии, количества абонентов, объема передаваемого трафика. Эта величина может быть определена экспериментально, путем моделирования, с помощью аналитических оценок. Для оценки величины следует учитывать следующие факторы 1 параметры используемой сетевой технологии согласно стандартам 2 загруженность сети всеми абонентами 3 возможные сбои, не несущие необратимый характер. Один из способов расчета с учетом первых двух пунктов для технологии Ethernet приведен в работе 3. Учет влияния сбоев сложнее подвергается формализации, так как зависит от конкретных параметров системы, требований и условий эксплуатации. Если сеть способна передавать управляющие величины чаще периода дискретизации или даже несколько раз за период дискретности, то можно воспользоваться предлагаемым в этой работе методом. Величину можно разбить на равных интервалов, рассматривая это как ее дискретизацию. Тогда цифровая система становится нечувствительной к задержкам или пропажам 1 подряд идущих сетевых кадров. Временной характер передачи управляющих величин при 3 показан на рис. 4. Как можно видеть на рисунке, использование регулятора с дискретным периодом при 3 делает цифровую систему нечувствительной к пропажам или задержкам для двух подряд поступающих сетевых кадров. В управление в таком случае передается раз одна и та же величина ошибки 1 2. В обратной связи также раз передается величина . Однако задающее воздействие может генерироваться с частотой большей, чем выбранный период дискретизации. Выходную величину обратной связи в некоторых случаях также можно получать чаще периода дискретизации. Учитывая это, можно использовать другой вариант регулятора с дискретным периодом, когда в течение периода дискретизации раз передается значение ошибки с постоянным, но изменяющимся задающим воздействием . Такой подход отчасти схож с методом событийного управления 16, однако он им не является, так как управляющие величины передаются в управление только в моменты, соответствующие периоду дискретизации. В случае, когда в цифровой автоматической системе с каналом множественного доступа имеют место случайные задержки доставки управляющих величин или пропажы кадров, одним из вариантов анализа таких систем является полагание периода дискретности случайным. Случайность периода дискретности может вызвать нарушение условий устойчивости и изменение динамических свойств системы управления по сравнению с тем, когда период дискретности постоянен 1. При таком подходе к решению проблемы 1 учет случайности периода дискретности имеет смысл только для высокочастотных частей логарифмической амплитудной частотной характеристики ЛАХ разомкнутой системы, так как низкочастотные части практически от него не зависят. Высокочастотная часть ЛАХ не влияет на точность работы системы управления, но может повлиять на запас устойчивости. Это проявляется в подъеме усиления на высоких частотах, что снижает запас устойчивости и может привести к неустойчивости 1. В высокочастотной области ЛАХ существует ограничение для подъема усиления, определяемого принятым показателем колебательности. Максимум подъема усиления при этом не достигает значения 1 12 гдe максимальная амплитуда подъема усиления сумма малых постоянных времени дисперсия периода дискретности математическое ожидание периода дискретности. Достаточное условие сохранения принятого при расчете показателя колебательности имеет вид 1 13 где показатель колебательности псевдочастота среза временное запаздывание в канале управления. Из этих неравенств получено условие 1, ограничивающее дисперсию периода дискретности 14 Эти формулы справедливы при 0 0,5 . Случай, когда 0, приводит к снижению запаса устойчивости при любом подъеме усиления в области высоких частот, однако в реальных системах такое условие никогда не выполняется. В случае же, если 0,5, учет случайности периода дискретности теряет практический смысл, так как период дискретности оказывает слабое влияние на динамику системы управления, которая по своим свойствам приближается к непрерывной системе. Описанный выше метод позволяет учитывать случайность периода дискретности для обеспечения требований устойчивости, однако для его использования необходимы априорные сведения о математическом ожидании и дисперсии периода дискретности. Доставка управляющих величин с помощью сети, однако, не делает период дискретности случайным в точном значении этого слова, а лишь привносит задержки, которые могут приводить к пропажам сетевых кадров. Поэтому в качестве модели случайного процесса используется квазипериодический процесс с заданным периодом и случайными нулевыми значениями. Такой процесс описывается моделью решетчатой функции времени, отдельные отсчеты которой могут обращаться в ноль. Такая модель учитывает как пропажи сетевых кадров, так и их кажущиеся пропажи вследствие несвоевременной доставки в цифровой корректор. Модель цифрового регулятора с дискретным периодом создана в пакете Simulink в среде MatLab с использованием инструмента Stateflow для цифровой автоматической системы с каналом множественного доступа. Передача управляющих величин реализована на основе модели Гилберта Элиота 17, которая часто используется для моделирования каналов связи с ошибками. В качестве непрерывной ПФ исполнительного устройства в модели использована ПФ, применяющаяся для описания исполнительных приводов электрического, гидравлического и пневматического типов, вида 15 где 3 с 0,5 с 0,1 с. ПФ цифрового корректора для функции 15 была синтезирована по методу, изложенному в работе 1, для периода дискретизации 0,5 с, исходя из следующих требований коэффициент ошибки по скорости 3, запас по фазе 50, показатель колебательности 1,3. В результате синтеза была получена цифровая ПФ корректирующего фильтра 16 Переходная характеристика модели с ПФ исполнительного устройства 15 и корректора 16 представлена на рис. 5. Схема модели, реализованная в пакете Simulink в среде MatLab, учитывающая постоянные сетевые задержки, представлена на рис. 6, . Переходная характеристика для этой модели показана на рис. 7, . Управляющие величины передаются четыре раза за период дискретности. Как можно заметить, имеет место перерегулирование, возникающее из-за запаздывания. В случае если в цифровой системе раз за период дискретности должны передаваться каждый раз новые значения управляющих величин, то модель примет вид, показанный на рис. 6, . Переходная характеристика при передаче изменяющихся значений управляющих величин показана на рис. 7, . Сравнение рис. 7, и дает возможность судить о преимуществах данного метода. Полученные результаты иллюстрируют работоспособность и эффективность предложенных методов решения проблемы устойчивости сетевых автоматических систем. Решена проблема синтеза сетевых систем управления в условиях влияния задержек сетевых кадров на их устойчивость. Предложен метод рекурсивного синтеза, учитывающего такие задержки. Показано, что оценка максимальной задержки кадров в конкретной сетевой среде открывает возможность построения цифрового корректора невосприимчивого к их пропажам. Результаты компьютерного моделирования доказывают эффективность предложенных методов анализа и синтеза сетевых автоматических систем. 