МЕТОД ОТОЖДЕСТВЛЕНИЯ МНОГОМАТРИЧНОЙ  ВИДЕОКАМЕРЫ С ПОЛУЧЕННЫМИ ЕЮ СНИМКАМИ 

Излагается метод определения мультиматричной видеокамеры, сформировавшей данное для идентификации изображение, применимый относительно видеокамер, сконструированных на базе матричных фоточувствительных приборов с зарядовой связью.

Основу современной техники, предназначен ной для получения цифровых растровых изобра жений, составляют фоточувствительные прибо ры с зарядовой связью ФПЗС. Для регистрации изображений с разрешением в десятки тысяч пикселей по ширине кадра видеосистемы кон струируются по технологии компоновки в нее не которого множества блоков ФПЗС. Примером та кой видеосистемы являются оптикоэлектронные преобразователи ОЭП бортового базирования, например ОЭП мобильных платформ наблюде ния МПН. На МПН могут базироваться несколько ОЭП. При этом в процессе съемки участка местности используются одновременно все ОЭП либо неко торые из них. В ходе эксплуатации сложных технических систем, к которым относятся МПН, вероятно воз никновение нештатных ситуаций. Нештатная си туация на борту МПН может привести к потере информации об источнике ОЭП, с помощью ко торого получено данное изображение. Соотнесе ние изображения к конкретному источнику иден тификация ОЭП помогает в таких случаях лока лизовать и выявить причину нештатной ситуации. В статье излагается разработанный автором и апробированный на практике метод идентифи кации ОЭП источника изображения. Метод пока зал почти 100ю достоверность результата иден тификации. Высокая степень достоверности объ ясняется тем, что метод основан на извлечении из изображения информации о взаимном располо жении матриц, составляющих ОЭП источника изображения. То есть из изображения извлекает ся информация, которая отображает как бы от печатки пальцев ОЭП, являющиеся уникальны ми для каждого ОЭП. В статье рассматриваются ОЭП с мультима тричными ФПЗС. Для определенности будем счи тать, что в составе ОЭП имеется 6 матриц ФПЗС в конкретной системе таких матриц может быть в несколько раз больше, что в рамках рассматри ваемого метода позволит только увеличить досто верность результатов решения рассматриваемой задачи. Обычно эти ФПЗС располагаются в фо кальной плоскости ОЭП, по структуре ассоции руемой с коленчатым валом рис. 1, в которой матрицы ФПЗС располагаются в два параллель ных ряда. Набор матриц ФПЗС интегрируется в ОЭП ме ханической сборкой. Поэтому взаимное располо жение любой пары соседних матриц будет не сколько отличаться от взаимного расположения любой другой пары соседних матриц. Эти разли чия могут составлять микроны, но они обязатель но есть. Причем в каждой сборке матриц последо вательность взаимных сдвигов соседних матриц является уникальной, так же, как уникальны отпечатки пальцев человека. Чем больше матриц имеется в составе видеокамеры, тем больше отли чий имеют различные сборки матриц. Предлагаемый метод идентификации ОЭП ис точника изображения основан на выявлении гео метрических особенностей сборки матриц в ОЭП взаимного геометрического расположения от дельных матриц. Эти особенности выявляются в результате высокоточной субпиксельной обра ботки изображений. Последовательность фоточувствительных яче ек ПЗС пикселей матрицы, расположенных го ризонтально относительно положения матриц на рис. 1, назовем строкой матрицы. Условимся, что вдоль строки матрицы изменяется координата пикселей. В направлении, ортогональном оси и расположенном в фокальной плоскости, изме няется координата пикселей. Строки матрицы пронумерованы матрица может состоять и из одной строки пикселей. При решении задачи выявляются только осо бенности взаимного расположения матриц в го ризонтальном направлении в направлении из менения координаты . При этом предполагает ся, что матрицы расположены в двух строго па раллельных рядах. Игнорирование имеющейся на самом деле непараллельности расположения матриц вносит несущественные искажения в по лучаемые результаты обработки. Метрикой расстояний определим расстояние между центрами соседних ПЗСячеек матриц. Такое расстояние задает размер пикселя изобра жения на фокальной плоскости оптической си стемы. Будем считать, что относительно каждой ви деокамеры известен вектор, задающий взаим ное расположение соседних матриц вдоль оси, где расстояние в пикселях между крайними ПЗСячейками соседних ма триц рис. 2. Для структуры с рис. 1, . Для конкретной сборки вектор может быть получен разными способами в результате достаточно точных измерений на готовой сборке на основании результатов статистической обработки достаточного количества изображе ний, полученных на этапе функционирования системы до возникновения нештатной ситуации по результатам обработки изображения спе циального полигона, для объектов которого из вестно точное расположение. Считаем, что имеется информация об особенно стях сборки мультиматричных ОЭП одинаковой структуры, представленная набором векторов Дано изображение, снятое одним из ОЭП, сле дующей структуры каждая матрица порождает полосу изобра жения шириной, равной количеству ПЗСячеек в строке матрицы полосы изображений от разных матриц склеены в единое изображение по следующему принципу справа к й строке пикселей, получен ной от й матрицы, приклеена я строка пиксе лей, полученная от 1й матрицы. В результате собранное изображение содержит в строке пикселей, где количество матриц в сборке. Считаем, что динамика изменения углов ори ентации носителя оптической системы за время формирования изображения достаточно слаба. Требуется определить, какой конкретно ОЭП сформировал данное изображение. Ось оптической системы, перпендикулярную фокальной плоскости, назовем осью рыскания, а угол поворота оптической системы относитель но этой оси углом рыскания. Взаимное перекрытие соседних матриц см. рис. 1 порождает вектор и приводит к тому, что в склеенном изображении полос, порожден ных отдельными матрицами, справа и слева от границ склеивания имеются пиксели, отобража ющие одни и те же объекты. То есть в склеенном изображении имеются лишние пиксели, которые в результате обработки должны быть выявлены и удалены. Совокупность этих лишних пикселей, расположенных вдоль данной границы склеива ния полос, назовем швом. Количество лишних пикселей в данной строке назовем шириной шва. Задачу вычисления шва и реализующую ее про цедуру назовем сшивкой полос 1. Во время формирования изображения угол рыскания может иметь различные значения и даже изменяться в процессе съемки рис. 3. Поэтому ширина данного шва может быть разной не только для разных изображений, но и для раз ных строк данного изображения. Если ши рина го шва, а номер строки изображения, то и, где это с рис. 2. В приведенном рассуждении выделен угол ры скания потому, что его изменения влияют на ши рину шва значительно сильнее других углов ори ентации. Сложная функциональная зависимость ши рины шва приводит к тому, что прямое определе ние по одному изображению вектора в общем случае невозможно. Поэтому в основу метода ре шения поставленной задачи положим наблюде ния, которые можно сделать по рис. 3. На рис. 3 показаны два варианта ориентации проекций и вектора скорости движения но сителя оптической системы на фокальную пло скость относительно матриц ОЭП. Ориентация этих векторов относительно строк матриц одно значно определяет угол рыскания . При этом углу 0 соответствует вектор, ориентиро ванный по нормали к строкам матриц. Формирование ширины двух соседних швов при разных направлениях вектора также иллюстрирует рис. 3. Очевидно . Но из элементарных геоме трических соотношений ясно при условии, что матрицы располагаются в параллельных рядах, при изменении направления вектора сохраня ются значения сумм . 1 Таким образом, суммы из 1 не зависят от век тора, т. е. не зависят от угла рыскания . Несложно заметить, что должны сохраняться значения сумм ширины любых двух швов, в ко торых при изменении направления вектора ско рости ширина одного шва уменьшается, а друго го увеличивается. Поэтому для структуры ОЭП см. рис. 1 должны сохраняться значения следу ющих шести сумм, 2 где, константы для данной сбор ки матриц компоненты вектора, . Значения сумм вида из 2 можно вы числить, решая задачу сшивки полос изображе ния. Значения сумм вида из 2 вычисляют ся по данным об особенностях сборки каждого из ОЭП. Таким образом, поставленная задача опре деления ОЭП, сформировавшего данное изобра жение, решается выбором того ОЭП, для которо го все суммы вида из 2 наиболее точно со впадают с суммами вида из 2, вычислен ными при решении задачи сшивки полос изобра жения. Можно использовать различные меры совпа дения сумм из 2. При этом можно ограничиться числовой обработкой данных, не используя какие либо визуальные представления результатов об работки. Для большей наглядности демонстра ции конкретных результатов решения задачи об работки изображения используем представление сумм из 2 в виде диаграмм примем, что имеется ОЭП одинаковой структуры, каждый из них содержит в себе блоков матриц, изображенных на рис. 1, и эти блоки склеены в один ряд, сонаправленный со строками матриц каждый ОЭП при съемке формирует фай лов изображений один файл от каждого блока. В таких условиях ОЭП источник изображения определяется по совокупности файлов изображе ний. Наличие отдельного файла изображения от каждой сборки не является обязательным. Все изображений могут быть склеены в одном файле. Предлагаемый метод состоит из следующих шагов. 1. Для каждого го блока матриц 1 го ОЭП 1 на основе известного для дан ного блока вектора, вычисляется вектор, . 2. Каждый вектор отображается диаграм мой, характеризующей геометрические особенности сборки го блока го ОЭП. 3. Для каждого из исследуемых изображе ний вычисляются с субпиксельной точностью с точностью доли пикселя по 5 протоколов 1, 1, 5 сшивки полос 1 один протокол для каждой пары соседних полос изо бражения. Каждый протокол содержит значения ширины шва, выраженные в пикселях, с привяз кой к строкам изображения. Конкретный способ вычисления протоколов сшивки полос в рамках предлагаемого метода не имеет значения. Можно, например, использовать режим ручного задания в окрестности склеивания соседних полос изо бражения пикселей, отображающих одни и те же объекты. Но при этом необходимо уточнить положения соответствующих точек на смежных полосах для обеспечения точности в доли пиксе ля. Такое уточнение можно сделать, используя, например, взаимную корреляцию фрагментов полос в окрестности указанных вручную пиксе лей. Автор вычислял протоколы сшивки 1 авто матически с помощью программы, обеспечиваю щей точность протокола до 0,2 пикселя и лучше. Программа создана на основе метода функциона лизации параметров изображений совместно с его разработчиком П. К. Кузнецовым 2. 4. Вычисляются на основе полученных прото колов 1, 5 сшивки полос, среднеста тистические по каждому му шву значения ше сти сумм из 2, представленные в виде вектора, . 5. Каждый из векторов отображается в виде диаграммы, 1, . 6. На заключительном шаге набор диаграмм, 1, сравнивается с каждым из наборов 1, . Для этого каждая диаграмма совмещается с каждой диаграммой в общей системе координат. Визуальный поиск го набора диаграмм с наи меньшими отличиями в совмещенных диаграм мах между и, 1, решает постав ленную задачу определения ОЭП, сформировавше го данное изображение набор из изображений. На рис. 4 светлыми линиями представлены диаграммы, отображающие параметры векторы девяти реальных блоков, входящих в состав трех ОЭП. Темными линиями представ лены диаграммы, отображающие векторы, вычисленные в результате обработки реальных изображений в процессе автоматического вычис ления протоколов сшивки полос с субпиксельной точностью с помощью авторской программы. Каждый из трех векторов представлен на трех диаграммах. По рис. 4 наглядно видно, что в каждом столб це диаграмм наибольшие совпадения приходят ся на диаграммы 2й строки. Все они соответству ют блокам матриц 2го ОЭП. Поэтому можно сде лать уверенный вывод обработанные изображе ния 3 файла получены с помощью 2го ОЭП. Предложен простой и надежный метод опре деления мультиматричного ОЭП, которым полу чено данное для идентификации изображение набор изображений. На диаграммах рис. 4 по осям ординат числа задают расстояния компоненты векторов и в пикселях. Видно, что наибольшие разли чия между диаграммами во втором ряду состав ляют доли пикселя. Это говорит о высокой точно сти результатов обработки изображений, выпол ненной авторской программой. Разнообразие диаграмм подтверждает справедливость утверждения, что геометрические параметры взаимного расположения матриц, а именно компоненты векторов, несут в себе информацию об ОЭП, аналогичную информации об отпечатках пальцев человека. Имеющиеся в парах диаграмм второго ряда различия см. рис. 4 могут быть вызваны разно образными причинами, например не абсолютной точностью вычисления про токолов сшивки полос методической погрешностью, связанной с допущением, что матрицы в блоках располага ются строго в два ряда и параллельно друг другу. При непараллельном расположении матриц ра венства 2 становятся приближенными чрезмерно большими угловыми скоростя ми вращения видеосистемы и резким изменени ем высоты рельефа снимаемого участка мест ности. 