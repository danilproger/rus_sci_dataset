МОДЕЛИРОВАНИЕ ПЕРЕДАТОЧНОЙ ФУНКЦИИ ВТОРИЧНОГО КАНАЛА СИСТЕМ АКТИВНОГО ГАШЕНИЯ ШУМА 

Рассмотрены методы моделирования передаточной функции вторичного канала для адаптивных алгоритмов систем активного гашения шума. На примере помещений предложен новый подход к моделированию на основании априорной информации об объекте управления. Показана высокая эффективность трассерных методов при моделировании передаточных функций в помещениях произвольной формы. Проведена оценка адекватности предложенных моделей.

С точки зрения теории управления, в зависимости от способа реализации все адаптивные системы активного гашения АСАГ шума можно разделить на два класса разомкнутые и замкнутые системы 1 В последних настройка параметров осуществляется в замкнутом контуре, при этом возможны два варианта реализации без модели и с моделью объекта управления МОУ. Особенностью первого варианта является применение методов идентификации не для определения структуры и параметров модели процесса гашения, а для оценки критерия качества гашения на основе поступающих из основного контура сигналов. Величина этих сигналов задается, как некоторый, одноэкстремальный функционал качества управления. В замкнутых АСАГ накопление текущей информации об изменяющихся характеристиках объекта управления и возмущающих воздействиях и соответствующая настройка параметров блока управления в целях постоянного обеспечения максимальной эффективности компенсации осуществляется автоматически в ходе их функционирования. Отличием данных АСАГ является возможность их использования при нестационарном характере среды и стационарном характере гасимых полей, что обусловлено необходимостью обучения АСАГ. Особенность АСАГ с МОУ заключается в наличии соединенной в параллель с основной системой модели объекта управления, которая аппроксимирует передаточную функцию среды для заданного расположения источника и приемника. Однако настройка регулятора основной системы осуществляется также в процессе адаптивного регулирования в зависимости от сигнала ошибки компенсации. Основной недостаток АСАГ с МОУ это сложность формирования адекватной модели. Однако в АСАГ без МОУ предполагается выполнение условия квазистационарности процесса гашения, для данных же АСАГ требования к стационарности процесса гашения представляются не столь жесткими, однако при их реализации необходимо проводить ряд мероприятий по обеспечению устойчивости системы. Рассмотрим особенности практической реализации АСАГ обоих классов. В системах без МОУ рис. 1 при воздействии внешнего шума блок управления вырабатывает отклик . Разностный сигнал сигнал ошибки гашения поступает снова в блок управления, где по критерию минимизации ошибки с помощью адаптивного алгоритма пересчитываются коэффициенты цифрового фильтра, т.е. формируется новый отклик . Таким образом, в процессе настройки система моделирует поведение объекта управления для данного входного воздействия. Под объектом управления в данном случае следует понимать передаточную функцию среды распространения для заданного расположения источникприемник внутри защищаемых объектов комната, чашка наушника, волновод. Помимо передаточной функции среды на параметры модели акустического поля оказывают влияние ряд других факторов, таких как передаточные функции используемых датчиков и излучателей, временные задержки обработки, изменение температуры и влажности среды и т.д. Соответственно блок управления должен в процессе настройки помимо возможного изменения входного сигнала отрабатывать и изменения передаточной функции. Здесь необходимо учитывать, что для пространственных систем импульсная характеристика объекта управления имеет значительную длину 1001000 мс. Для аппроксимации импульсной характеристики такой длины необходим адаптивный цифровой фильтр высокого порядка. Однако, как показывают эксперименты и результаты моделирования 2, при использовании фильтров высоких порядков снижается эффективность гашения рис. 2 и скорость сходимости адаптивного алгоритма. Формируемый системой отклик должен учитывать и характеристики элементов электроакустического тракта усилителей, микрофонов, излучателей, аналого-цифровых и цифроаналоговых преобразователей, что также приводит к необходимости применения фильтров высоких порядков. Частично эта проблема решается за счет использования модификаций адаптивных алгоритмов с использованием модели передаточной функции вторичного канала системы Secondary Path Transfer Function. Чаще всего в АСАГ применяется так называемый FX-LMS filtered-X LMS алгоритм рис. 3 2. В данном алгоритме модель вторичного канала представляет собой интегральную передаточную характеристику объекта управления, цифроаналоговых и аналого-цифровых преобразователей, усилителей и излучателей. Модель вторичного канала может быть получена в процессе идентификации системы методами онлайни оффлайн-моделирования 3. В оффлайн-режиме моделирование рис. 4 происходит в процессе настройки адаптивного фильтра при случайном входном сигнале. Недостатком такой схемы является необходимость проводить ряд экспериментов в целях идентификации системы для данного помещения и расположения пары источникприемник. Система с онлайн-идентификацией рис. 5 лишена этого недостатка, поскольку благодаря наличию в системе второго контура настройки процесс идентификации происходит в процессе работы системы. Однако в этом случае алгоритм работы системы значительно усложняется, что приводит к трудностям при моделировании и практической реализации системы. Тем не менее благодаря использованию таких алгоритмов удается повысить качественные показатели системы, прежде всего, за счет снижения требований к адаптивному фильтру и повышения скорости сходимости алгоритма. При построении АСАГ с МОУ наиболее перспективным подходом представляется построение модели на основе минимальной априорной информации об объекте управления, например, геометрии помещения, материале покрытий и расположении крупных предметов. Однако при практической реализации такого подхода возникает ряд дополнительных трудностей. В частности, до 90-х гг. не были разработаны методы моделирования акустики помещений с произвольной геометрией и заданными граничными условиями. Также не был достаточно развит аппарат решения этих задач численными методами, например методом конечных и граничных элементов. Да и уровень развития средств цифровой сигнальной обработки не позволял с достаточной степенью адекватности реализовать системы с МОУ, работающие в реальном времени. В последние годы прогресс в указанных областях позволил на новом качественном уровне подойти к решению этой проблемы. Например, современные средства ЦОС позволяют смоделировать импульсный отклик помещения длительностью 300600 мс, что вполне достаточно для небольших и средних помещений. Точное аналитическое решение для передаточной функции среды распространения в замкнутых объемах может быть найдено лишь для тривиальных случаев 4. Поэтому для решения этой задачи могут быть использованы численные и эмпирические методы, например метод суммирования мод 5. Этот метод позволяет с высокой точностью смоделировать частотный отклик помещения в модальной зоне вплоть до частоты Шредера. Однако необходимую точность моделирования данный метод обеспечивает лишь для помещений простой формы с однозначно определяемыми модальными частотами. Для помещений произвольной формы в последние годы было разработано целое поколение лучевых и трассерных методов моделирования передаточных функций 6. В качестве примера конкретной реализации этих методов можно привести программные пакеты Odeon фирмы BruelKjaer и CARA Computer Aided Room Acoustics фирмы ELAC. Судя по большому числу публикаций, в которых рассмотрены успешные примеры моделирования акустических параметров помещений и концертных залов, можно сделать вывод о применимости трассерных методов для моделирования передаточных функций помещений произвольной формы. Рассмотрим пример моделирования передаточной функции вторичного канала на базе трассерных методов. Исходными данными для моделирования является трехмерная модель помещения с указанием материалов покрытий, координат крупных предметов и расположения приемниковизлучателей рис. 6. Для входного случайного воздействия, выбранной пары источникприемник, температуры, влажности и давления производится расчет выходного сигнала . Выходной сигнал представляет собой свертку входного сигнала с рассчитанной импульсной характеристикой вторичного канала. Далее для входноговыходного сигнала может быть проведена процедура идентификации в частотной области вторичного канала, для чего может быть использована следующая модель в среде MATLAB рис. 7. В данной модели после настройки адаптивного алгоритма найденные в процессе идентификации коэффициенты передаются в цифровой фильтр. Порядок фильтра определяется допустимым уровнем сигнала ошибки. В данном случае модель реализована в виде КИХ-фильтра 256-го порядка с тактовой частотой 800 Гц. С учетом случайного характера входного сигнала коэффициенты фильтра получены усреднением по последним 10 итерациям адаптивного алгоритма. На рис. 8 представлен отклик в частотной области синтезированной модели вторичного канала для помещения см. рис. 6. На рис. 9 представлен отклик в частотной области того же помещения, полученный экспериментально в режиме оффлайн-моделирования. При моделировании верно рассчитаны собственные частоты основных модальных компонент. Различия наблюдаются лишь в соотношении их амплитуд. Для оценки эффективности разработанных моделей использована структура в среде MATLAB рис. 10. На вход модели подается полигармонический сигнал плавающей частоты с числом гармоник от 1 до 5 и скоростью развертки в диапазоне 20 400 Гц соответственно 10 и 20 с. К полигармоническому сигналу подмешан белый шум с относительным уровнем 15 дБ. В качестве объекта управления использована модель вторичного канала, описывающая передаточную функцию при расположении источника и приемника в противоположных углах помещения. Для сравнения результатов также были использованы экспериментальные, полученные методом оффлайн-моделирования, и теоретические модели ЭМ1 экспериментальная модель при ином расположении предметов в помещении ТМ1 теоретическая модель, полученная методом усреднения по четырем произвольным точкам помещения ТМ2 теоретическая модель для заданного расположения пары источникприемник АФ адаптивный фильтр без модели вторичного канала ЭМ2 экспериментальная модель, полученная методом усреднения по четырем произвольным точкам помещения. Адаптивный фильтр имеет длину 32 отсчета и использует НСК-алгоритм с нормализацией. Результаты моделирования представлены на рис. 11, и где по горизонтальной оси 15 показано количество гармоник во входном сигнале. По вертикальной оси отложен максимальный уровень сигнала ошибки относительно входного сигнала в процентном соотношении. При небольшом числе гармоник во входном сигнале предложенные модели обеспечивают в среднем на 30 меньший уровень сигнала ошибки по сравнению с усредненной экспериментальной моделью и на 10 по сравнению со структурой без модели вторичного канала. При большом числе гармоник во входном сигнале и скорости развертки 20 с прирост эффективности предложенных моделей составляет 1015. Проведенное моделирование наглядно демонстрирует эффективность предложенного метода моделирования передаточных функций вторичного канала и дает возможность строить на его основе высокоэффективные системы активного снижения шума. 