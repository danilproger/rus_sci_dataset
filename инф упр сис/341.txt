ОБ ОДНОМ МЕТОДЕ ВЫЧИСЛЕНИЯ   ВЕРОЯТНОСТЕЙ ЛОГИЧЕСКИХ ФУНКЦИЙ 

Приводится комбинаторный метод вычисления вероятностей сложных логических функций, причем элементы логических функций расположены в некотором лексикографическом порядке, т. е. нет необходимости хранить их в памяти ЭВМ в символьном виде. Описываются приближенные методы вычисления вероятности сложной логической функции по заданным вероятностям ее базисных переменных.

Многообразие решений в задачах управления динамическими объектами связано с операциями над логическими переменами ЛП и логическими функциями ЛФ. Формальная логика, после того как определены ЛП, позволяет путем логического вывода выражать одни ЛФ через другие ЛФ или ЛП. Формализм преобразования ЛФ достаточно хорошо отработан, позволяет эквивалентно представлять их в различных логических базисах, решать задачи логического вывода, интерпретации решений и другие, не прибегая к понятиям атрибута ЛФ. Можно сказать, что формальная логика является самодостаточной. Понятие лингвистической переменной и его применение к принятию приближенных решений, введенное Л. Заде в 1976 г. 1, практически не повлияло на развитие логики. На наш взгляд, формальная логика осталась неизменной. В большинстве работ по нечеткой логике и ее приложениям изменился лишь порядок операций над ЛП и их атрибутами, в результате чего интерпретация задач существенно усложнилась. Введением концепции ЛФ нами сделана попытка упорядочить понятия, относящиеся к принятию решений при управлении динамическими объектами, обозначить проблемы, возникающие при учете различных ограничений, и показать возможные пути их решения. С введением понятия атрибута ЛФ, например вероятности, возникают проблемы, связанные с определением математических операций с атрибутами, при проведении операций над ЛФ. Отсюда появляются определения логико-вероятностная задача, нечеткая логика и др. Для отделения логических задач от задач, связанных с операциями над атрибутами ЛФ, нами принята следующая концепция логические переменные являются атомами логической системы если с ЛП связывается атрибут, ЛП называется логико-лингвистической переменной атрибутом может быть любой упорядоченный набор данных логические операции имеют приоритет перед операциями над атрибутами символьное выражение, описывающее ЛФ, является алгоритмом над атрибутами ЛП. Благодаря арифметическим свойствам ЛФ, которые они проявляют при их представлении в виде алгебраических структур по mod2, оказывается возможным сведение логических задач к арифметическим или подобным арифметическим. Это в общем случае позволяет представлять логические системы как линейные структуры, уравнения которых не содержат конъюнктивных элементов. Тогда для таких систем логический вывод представляется как процедура обращения, -матриц, а принятие решения как многократное повторение этой процедуры при изменении начальных условий. Линеаризация систем уравнений логического типа, содержащих конъюнкции из компонентов вектора состояний, позволяет за счет его расширения упорядочить причинно-следственные связи в комбинаторных задачах математического программирования и сравнительно просто определить их сложность, а также оценить логическую замкнутость и непротиворечивость исходной нелинейной системы логических уравнений. При большом числе ЛП число логических слагаемых в выражении для ЛФ может быть велико, так как может достигать значений 2 1, где число ЛП. Запись таких функций в символьном виде в ЭВМ требует больших затрат памяти. Еще раз отметим, что для сравнительно богатых содержанием логических задач, требующих больших размерностей ЛФ, вряд ли является целесообразным использовать представление этих функций и их систем в ЭВМ в символьном виде. Практическую реализацию символьных преобразований в ЭВМ можно осуществлять на основе вычислительной комбинаторики. В частности, если условиться, что элементы ЛФ расположены в некотором лексикографическом порядке, то нет необходимости хранить ее в памяти ЭВМ в символьном виде, а для однозначной идентификации любого члена логической суммы достаточно задать число элементов множества ЛП и порядковый номер этого члена. Тогда номера индексов конъюнктивных элементов каждого члена логической суммы могут быть определены комбинаторными методами. Оперирование с упорядоченными множествами позволяет заменить хранение ЛФ, представленных в символьном виде, на хранение сравнительно простых программ, обеспечивающих быстрое вычисление индексов переменных и атрибутов для их использования в последующих численных операциях, в том числе и для вычисления вероятностей. Для формального описания алгоритмов вычисления вероятности ЛФ с упорядоченными элементами введем следующие определения. упорядоченное множество вероятностей элементов базисного вектора, ..., . упорядоченное множество элементов декартова произведения базисного вектора, дополненного 1 на месте последнего элемента, ..., ..., ..., ..., 1. ЛФ упорядоченное множество вероятностей элементов вектора, дополненного 1 на месте последнего элемента, ..., ..., ..., ..., ..., ..., 1. При определении фундаментального вектора как упорядоченного множества нами формально не был определен закон упорядочения. В частности, порядок следования элементов, которые можно рассматривать как конъюнкции из компонентов базисного вектора, может подчиняться закону, согласно которому индексы компонентов базисного вектора, входящих в компоненты фундаментального вектора, представляются в виде кортежей векторов целых чисел, располагающихся в порядке возрастания для каждого соответствующий ему кортеж индексов имеет значение их произведения не меньше, чем значение произведения индексов, входящих в кортеж, и не больше, чем в кортеж ни одно сочетание входящих в кортежи индексов базисного вектора не повторяется. Таким образом, вектору ставится в соответствие таблица, строками которой являются кортежи целых чисел, обозначающих индексы компонентов базисного вектора ЛП. Алгоритм упорядочения элементов фундаментального вектора в соответствии с этим законом в нотации языка Паскаль можно представить в следующем виде В основе алгоритма лежит комбинаторная процедура генерирования всех -элементных подмножеств множества 1, ..., названная 2 лексикографическим упорядочением. Все элементы вектора после лексикографического упорядочения могут быть разбиты на группы. Номер группы определяется по признаку количества элементов в каждом слагаемом. Число групп в равно . Число элементов в группе с номером равно Пример генерирования последовательности -элементных подмножеств множества 1, ..., при помощи рассмотренной выше процедуры, где 6, т. е. результаты упорядочения элементов фундаментального вектора, представлен в таблице. Рассмотрим нахождение индексов в 4-й группе для числа переменных базисного вектора, равного шести, т. е. 6, 4. Пусть требуется определить набор индексов 5-го 5 элемента 4-й группы 4. Как видно из таблицы, для 5 имеем 1 2 4 6. Число членов этой группы Другой задачей является определение порядкового номера по заданному упорядоченному набору индексов. Например, для заданного набора индексов 1 3 5 6 ЛП, составляющих один из элементов фундаментального вектора, из таблицы определяем, что этому набору соответствует порядковый номер 9. Поэтому, как будет показано далее, отказ от символьной формы представления в ЭВМ ЛФ, замена ее формой индексных векторов и применение комбинаторных методов их обработки имеет принципиальное значение, так как при большом числе ЛП и слагаемых ЛФ позволяет существенно экономить память ЭВМ и сокращать время вычислений. Пусть задана произвольная ЛФ в полиномиальной нормальной форме ПНФ, аргументы которой логически совместны ... ... . Требуется вычислить вероятность этой функции при заданном базисном векторе вероятностей логической системы . Поскольку составляющими являются другие ЛФ и глубина вложенности ЛФ не ограничена, то без приведения их к каноническому виду невозможно определить логическую зависимость одной ЛФ от другой. Поэтому приведение ЛФ к каноническому виду является основным условием при вычислении ее вероятности. При этом любая ЛФ 3 может быть представлена в форме полинома Жегалкина канонической ПНФ единственным образом посредством компонентов вектора в качестве ее аргументов. Несложно показать, что значение вероятности логической суммы двух совместных ЛФ в алгебре Жегалкина определяется выражением для трех ЛФ для четырех ЛФ и т. д., где вероятности, являются элементами вектора . В общем случае вероятность произвольной ЛФ, приведенной к каноническому виду, можно представить как произведение вектора-строки на, где вектор-строка, содержащая 1 группу упорядоченных элементов обозначает номер группы число логических слагаемых в исходной ЛФ. Все элементы в -й группе равны, а их число определяется числом сочетаний из по . Значения элементов для каждой -й группы, кроме последней 1-й, определяются выражением 1-я группа содержит всего один элемент. Значение нормирующего коэффициента для единственного элемента 1-й группы равно 0 или 1. При 0 вычисляется вероятность ЛФ, а при 1 вероятность отрицания ЛФ. При представлении ЛФ в дизъюнктивной нормальной форме ДНФ, т. е. в виде, где символ дизъюнкция, выражение для вероятности этой ЛФ совпадает с общеизвестным выражением для вероятности совместных событий 4, которая может быть вычислена по формуле, а элементы вектора по формуле При представлении любой ЛФ как произведения идентификационной строки на фундаментальный вектор вероятность этой функции можно рассматривать как алгебраическую сумму, каждый элемент которой может вычисляться независимо от других компонентов только по его порядковому номеру. Логическая функция имеет шесть слагаемых 6, тогда число компонентов вектора будет равно 2 64. Требуется вычислить вероятность 50-го компонента 50. Напомним, что число элементов в -й группе . Порядковые номера элементов вектора, которые являются последними в каждой -й группе, могут быть вычислены по формуле Вектор-строка из этих элементов для нашего примера имеет вид 6 21 41 56 62 63 64 . При заданном 50, 41, 56, т. е. 41 56, определяем, что элемент находится в 4-й группе. Порядковый номер элемента в группе будет 50 41 9. В соответствии с таблицей 9-й элемент 4-й группы есть 1 3 5 6 . Он идентифицирует номера индексов слагаемых ЛФ, которые должны быть логически перемножены. После логического умножения компонентов слагаемых ЛФ в соответствии с будет получен компонент, являющийся конъюнкцией компонента базисного вектора. Вычисление значения вероятности этого компонента осуществляется путем арифметического умножения вероятностей, составляющих ее ЛП. Таким образом, вероятность ЛФ определяется как сумма 2 элементов. Эти элементы могут быть разбиты на групп. Число элементов в каждой группе определяется числом сочетаний из элементов по, где номер группы. Элементы, входящие в группы с нечетными номерами, имеют положительный знак, а с четными отрицательный. Вычисление значения каждого элемента осуществляется алгоритмически, так как затруднительно указать формулу, по которой можно было бы вычислить вероятность путем подстановки исходных данных, а алгоритм можно описать и реализовать в ЭВМ в виде вычислительной процедуры. Рассмотрим пример вычисления вероятности ЛФ, представленной в форме ДНФ . Исходные данные для расчета вероятности ЛФ имеют следующие значения размерность базисного вектора 5 число логических слагаемых в ЛФ 4 базисный вектор вероятностей ЛФ 0.6 0.7 0.9 0.6 0.7. В соответствии с введенными выше определениями, а . Вычисления вероятности ЛФ для этого примера дают следующие результаты 1 число слагаемых функции вероятности 2 16 2 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0 3 0.54 0.25 0.42 0.44 0.23 0.23 0.27 0.18 0.16 0.27 0.16 0.16 0.16 0.16 0.16 0 4 вероятность ЛФ 0.81. При значениях 50 процедура вычисления на ЭВМ вероятности ЛФ по формуле требует больших затрат машинного времени. Однако, как показали численные расчеты, не все слагаемые дают соизмеримый вклад. Оказывается, что при определенных условиях частью слагаемых при вычислении можно пренебречь из-за их малого значения, при этом объем вычислений резко сокращается. По существу, задача состоит в определении числа первых номеров групп, которые определяют основной вклад в значение вероятности, а влиянием остальных можно пренебречь. Для оценки вклада отдельных групп слагаемых в выражении для вероятности ЛФ в ее результирующее значение допустим, что логическая функция имеет логических слагаемых и представлена в форме, в которой каждое логическое слагаемое является конъюнкцией из компонентов базисного вектора все логические слагаемые независимы и совместны вероятности всех логических слагаемых равны . Для иллюстрации процесса вычисления сформируем вспомогательный вектор, где диагональная матрица, диагональными элементами которой являются элементы векторастроки . Тогда процесс вычисления вероятности ЛФ можно представить как суммирование элементов вектора где номер слагаемого функции вероятности ЛФ. При таких допущениях для каждой -й группы можно вычислить составляющую вероятности ЛФ, которая определяет вклад в всех элементов -й группы. Значение при задании ЛФ в ПНФ определяется по формуле 2, где число сочетаний из по . При задании ЛФ в ДНФ определяется по формуле 1 . Тогда вероятность ЛФ можно представить как функцию В соответствии с принятой моделью была составлена программа и проведены расчеты влияния на то, какие группы слагаемых нужно учитывать, а какими можно пренебречь. На рис. 13 показаны результаты этих расчетов. На рис. 1, изображено по две кривые линейноинтерполированных функций и . Вероятность ЛФ равна при 41, число групп, необходимых для точного расчета вероятности ЛФ, не превышает определенного значения. Из результатов расчетов видно влияние на поведение заданного значения слагаемых ЛФ. При малых значениях 0.01 0.05 сходится к вероятности ЛФ при числе групп 7, т. е. из 41 группы следует, что для расчета вероятности ЛФ нужно учитывать только 7 первых групп. При значениях 0.05 0.15 см. рис. 3, быстро сходится к 1 при числе слагаемых ЛФ 30. Анализ графиков см. рис. 13 позволяет сделать следующий вывод при числе слагаемых ЛФ больше 50 и их среднеарифметической вероятности 0.15 нет необходимости точно вычислять вероятность ЛФ, так как она практически равна 1, с другой стороны, чем меньше среднеарифметическое значение вероятности слагаемых ЛФ, тем меньшее число слагаемых в выражении для ее вероятности нужно учитывать при вычислениях см. рис. 2. Нами рассмотрен пример, в котором ЛФ представлена суммой других ЛФ, которые совместны и независимы. При несовместных ЛФ вычисление вероятности ЛФ проводится для слагаемых только 1-й группы, при этом сумма вероятностей слагаемых не должна превышать 1 по определению несовместных ЛП и ЛФ 5. Если слагаемые ЛФ совместны и логически зависимы, то при вычислении ее вероятности в общем случае нельзя дать оценку числу групп слагаемых, которые необходимо учитывать при расчетах. Однако оценку числа удерживаемых при расчете вероятности ЛФ групп слагаемых, при принятых выше допущениях, можно считать первым приближением. Если приближенный расчет вероятности ЛФ не удовлетворяет по точности, то число слагаемых можно итерационно увеличивать до тех пор, пока значение вероятности при последующих итерациях не будет удовлетворять заданной точности. Полученные в результате численных приближенных расчетов оценки точности вычислений вероятности ЛФ в зависимости от учета только первых групп слагаемых и отбрасывания остальных имеют важное принципиальное значение, так как позволяют при точном расчете существенно уменьшить число слагаемых при суммировании. При большом числе базисных переменных такой двухэтапный подход к вычислению может оказаться единственно возможным. Следует заметить, что именно лексикографическое упорядочение фундаментального вектора ЛФ и, соответственно, слагаемых в выражении для ее вероятности дает возможность при проведении вычислений контролировать вычислительный процесс и принимать решение о его прекращении при достижении требуемой точности. Таким образом, прежде чем приступать к точным расчетам вероятности ЛФ, содержащей большое число слагаемых, необходимо предварительно оценить погрешность, вносимую составляющими, входящими в соответствующую группу слагаемых, определяющих эту вероятность. Это позволит существенно уменьшить объем вычислений путем отсечения хвостов, дающих малый вклад в значение вероятности ЛФ. Кроме того, описанный подход к вычислению вероятности сложной ЛФ является одним из возможных. Для сравнения его с другими подходами и оценки эффективности предложенных алгоритмов должны быть приняты общие критерии сложности. Одним из таких критериев может служить критерий сложности, в соответствии с которым мера сложности вычислительной процедуры определяется числом шагов алгоритма. Поскольку число слагаемых в выражении для вероятности ЛФ возрастает по экспоненте от числа составляющих ее логических слагаемых, то вряд ли можно ожидать, что будет найден алгоритм, принципиально уменьшающий экспоненциальную сложность вычислительных процедур. В случае приведения ЛФ к ортогональному виду совершенной ДНФ число ее слагаемых также имеет экспоненциальную зависимость от исходной размерности 6. Поэтому вычисление вероятности ЛФ в лоб, без предварительных приближенных оценок числа удерживаемых членов, приведет к неоправданно большим затратам машинного времени или памяти ЭВМ. Нами были рассмотрены возможности вычисления вероятности сложных ЛФ аналитическими методами, однако существует подход, когда эта вероятность может быть вычислена методом прямого статистического эксперимента, путем генерирования значений базисных ЛП и последующей статистической обработки. Однако обоснование корректности постановки статистического эксперимента представляет самостоятельную задачу, которая по сложности может оказаться не проще рассматриваемой. 