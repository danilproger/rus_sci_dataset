УПРАВЛЕНИЕ В СОЦИАЛЬНО-ЭКОНОМИЧЕСКИХ СИСТЕМАХ ЛОГИКО-ВЕРОЯТНОСТНОЕ   МОДЕЛИРОВАНИЕ РИСКА  ПОРТФЕЛЯ   ЦЕННЫХ   БУМАГ 

Дается краткое описание логико-вероятностных методик оценки, анализа риска и выбора портфеля ценных бумаг. Приводятся основные положения, формулы и модели. Описывается программный комплекс, реализующий эти методики. Приводятся результаты исследований на реальных данных, полученные с помощью разработанного комплекса. A brief description of logical-and-probabilistic techniques of the assessment and analysis of risks and selection of security portfolio is given. The basics concepts, formulas and models are provided. Software implementing the techniques is described. The results of investigations on real data produced with application of the software are presented.

В 1952 г. Г. Марковиц опубликовал фундаментальную работу, где предложил методику, с помощью которой можно подобрать состав оптимального по соотношению риска и доходности портфеля 1, 2. За риск принималось стандартное отклонение распределения доходности портфеля как случайной величины, а оно лишь косвенно характеризует риск. Позднее широкое распространение получила мера риска Value-at-Risk. В отличие от стандартного отклонения, она дает информацию о величине возможных убытков. Разработано несколько методов расчета, в которых, как правило, делается предположение о нормальном распределении доходности активов, однако эта гипотеза не выполняется на практике. В большом числе работ по исследуется важнейшая часть распределения доходности портфеля, а именно его хвост, для которого вводят разные типы распределений и допущения. Перечисленные недостатки заставляют искать новые подходы к проблеме риска портфеля ценных бумаг. Ниже рассматривается логико-вероятностный подход, который базируется на логиковероятностном исчислении ЛВ-исчислении и логико-вероятностных моделях ЛВ-моделях риска с группами несовместных событий ГНС 36. Его преимуществом является то, что он работает сдискретными распределениями. табл. 1 содержит статистическую информацию о доходностях активов портфеля в разные моменты времени. В таблице БД количество столбцов равно количеству активов в портфеле. Диапазон изменения доходности каждого финансового инструмента разбивается на интервалы . Число интервалов в общем случае может быть разное. Пронумерованные интервалы рассматриваются как состояния актива 1, 2, . Каждому активу сопоставляется логическая переменная . Каждому состоянию актива сопоставляется случайное событие-градация . Если раньше доходность могла принимать бесконечно много разных значений, то теперь множество доходностей каждого актива имеет количество разных элементов, равное числу градаций, т.е. эти множества конечные. После такого преобразования БД стало возможным применение ЛВисчисления с ГНС. Каждое состояние каждого актива характеризуется средней доходностью на интервале и вероятностью 1 где число попаданий доходности в интервал число состояний портфеля в статистических данных. Для отдельного актива его события-градации составляют ГНС. Сумма вероятностей событийградаций в ГНС равна 1 2 Каждое состояние портфеля характеризуется уникальным набором состояний активов. Общее число возможных состояний портфеля 3 где число градаций доходности активов. Если число активов 10 и доходность каждого актива имеет 40 градаций, то число возможных разных состояний портфеля равно астрономическому числу 40 . Запишем логическую функцию Л-функцию для всех состояний портфеля 4 где каждое состояние определяется Л-функцией 5 Л-функции для любых двух состояний портфеля ортогональны, так как содержат хотя бы для одной переменной разные события-градации. Таким образом, состояния портфеля также образуют ГНС и сумма их вероятностей равна 1. Свойство ортогональности логических слагаемых Л-функции 4 позволяет перейти от Л-функций к алгебраическим выражениям с вероятностями, т. е. Л-переменные заменить на вероятности и знаки на знаки . Каждое из состояний портфеля имеет доходность и вероятность. Доходность состояния 6 где удельная доля актива в портфеле. Сумма долей активов составляет 1 7 Вычисление вероятностей состояний портфеля не является тривиальной задачей. Здесь ключевую роль играет проблема учета зависимости между активами. Зная вероятности всех состояний портфеля, можно отсортировать их по возрастанию доходности и получить дискретное распределение рис. 1, которое и несет в себе информацию о риске. Основными показателями являются минимально допустимая доходность и уровень риска . Эти параметры взаимозависимы, и если построено дискретное распределение, задав одну, всегда можно определить другую. Как известно, при использовании аналитических распределений эта задача не является тривиальной. Дополнительно к приведенным величинам также можно вычислить среднюю ожидаемую доходность волатильность или стандартное отклонение, или стоимость под риском, минимально допустимую стоимость портфеля . сводится к определению долей активов при следующих возможных критериях оптимизации 1 максимизация допустимой доходности портфеля при заданном риске 8 2 минимизация риска при заданной допустимой доходности 9 Задача оптимизации портфеля является нелинейной и отличается большой вычислительной сложностью. Аналитически производные целевой функции по вычислить невозможно. Решается она итеративно, алгоритмически. Предложены алгоритмы ее решения методом случайного поиска и методом градиентов. Их особенностью является учет для долей активов условия 7. Это существенно усложняет вычисление градиента целевой функции при оптимизации. На каждом шаге оптимизации значения нужно нормировать. подразумевает периодическое изменение долей активов в соответствии с результатами оптимизации при выбранной модели риска. Реструктуризацию портфеля можно проводить каждый день, через два, три дня или неделю. осуществляется на основе расчета вкладов событий-градаций активов вриск и допустимую доходность. Вклады в допустимую доходность портфеля равны 10 где и соответственно число всех опасных состояний портфеля в хвосте и число состояний портфеля, содержащих градацию актива, удовлетворяющих условию 11 Вклады событий-градаций в 12 где суммарная вероятность состояний портфеля с градацией актива, удовлетворяющих условию 11. Активы, имеющие большие вклады, наиболее опасны, и на них надо обратить особое внимание. Эти вклады могут явиться основой для принятия решения по исключению актива из состава портфеля и замене его другим. При вычислении вероятности состояний портфеля важную роль играет учет зависимости между доходностями активов. Рассмотрены три модели риска портфеля модель без учета зависимости, модель с полным учетом зависимости и модель с учетом зависимости от внешнего фактора. вероятность состояния равна 13 По 13 можно рассчитать вероятности всех возможных состояний портфеля 3. Поскольку это число может быть астрономически большим, с помощью метода Монте-Карло можно сгенерировать только небольшую их часть несколько тысяч. доходности активов использует многомерное совместное распределение. При этом вероятность состояния портфеля по статистическим данным определяется следующим образом 14 где число появлений комбинации состояний . При использовании 14 вероятности только небольшой части возможных состояний портфеля будут отличны от 0, т. е. предоставляется информация не обо всех состояниях, а только отех, которые встречались в истории. Для того чтобы распределение доходности портфеля было достоверным, необходимо накопить информацию за достаточно большой период времени, что далеко не всегда представляется возможным. имеет следующее допущение доходности активов не зависят друг от друга, но зависят от внешнего фактора. Для того чтобы проводить расчеты, необходима информация не только по ценам активов, но также об изменении этого фактора параллельно с ценами активов. Таким фактором может быть, например, индекс фондового рынка или доходность какой-то ценной бумаги. Фактор может иметь и другую природу например, изменение уровня инфляции или любой другой экономический показатель, значения которого можно разбить на градации. Для каждого актива строятся условные вероятностные распределения доходности относительно фактора табл. 2. Сумма вероятностей в каждом столбце равна 1. При этом вероятность это частота появления в статистических данных градации актива при условии, что фактор имеет градацию 15 Л-функция 4 описывает все состояния портфеля. Запишем Л-функцию состояния 16 Каждое из состояний портфеля составное. Его части это тоже состояния портфеля, но при разных градациях фактора . Все слагаемые ортогональны друг другу. Запишем формулу вероятности состояния портфеля 17 где 1, 1, 1, 1, . Доходности состояний портфеля определяются выражением 6. С использованием 17 можно определить вероятности всех состояний портфеля. Как и в случае без учета зависимости, Л-функция помогает восстановить состояния, не встречавшиеся в статистике. Разработан программный комплекс, реализующий ЛВ-подход к риску портфеля ценных бумаг. Комплекс используется для управления инвестиционным портфелем. Основные функции комплекса 1. Поддержка и обновление БД с историей котировок ценных бумаг. Вывод графиков по ценам активов и портфеля. 2. Формирование портфеля ценных бумаг путем выбора активов и указания их количества поддержка нескольких портфелей. Вывод параметров портфеля и позиций, в него входящих, согласно последним данным по ценам. 3. Моделирование риска портфеля несколькими способами. 4. Расчет характеристик и показателей риска портфеля, таких как минимально допустимая доходность, риск, портфеля и волатильность. 5. Оптимизация структуры портфеля по критериям минимизации риска и максимизации допустимой доходности 8 и 9. 6. Тестирование управления портфелем на исторических данных с выводом показателей эффективности. 7. Верификация моделей риска на исторических данных для обеспечения возможности сравнения и выбора наиболее подходящей модели. Комплекс имеет четыре режима работы просмотр и редактирование портфелей, анализ риска, оптимизация, тестирование управления портфелем, верификация моделей риска. Внешний вид ПК в режиме представлен на рис. 2. Поддерживается одновременно несколько портфелей. Можно создавать и удалять поименованные портфели. Позиции добавляются путем указания вида актива и количества. По каждому активу можно отобразить график изменения цены за указанный период и вывести следующую информацию наименование инструмента, количество, последняя цена, стоимость, доля от объема капитала. По портфелю также рассчитываются стоимость сумма денег, не вложенных ни в какие активы стоимость активов. Окно программы в режиме представлено на рис. 3. Поддерживается моделирование риска портфеля четырьмя способами без учета зависимости, с учетом зависимости от фактора, с полным учетом зависимости, с использованием нормального распределения с учетом корреляции. Рассчитываются также следующие характеристики портфеля и показатели риска минимально допустимая доходность при заданном уровне риска, риск при заданной минимально допустимой доходности, портфеля, волатильность, средняя ожидаемая доходность минимально допустимая стоимость . Изображается график распределения доходности, на котором область, соответствующая риску, закрашивается красным цветом. Под списком характеристик портфеля и изображением распределения доходности показано изменение стоимости портфеля за последнее время, если бы его состав не менялся. Пунктирной линией обозначена текущая стоимость, а сплошной минимально допустимая стоимость для заданного уровня риска, т. е. стоимость, ниже которой портфель не опустится с вероятностью 1 . Режим показан на рис. 4. Поддерживается оптимизация по критериям 8 и 9. Можно использовать как метод градиентов, так и метод случайного поиска. В процессе оптимизации выводятся составы исходного и оптимизируемого портфелей, а также некоторые показатели риска. Точность расчета показателей риска портфеля, а следовательно, и правильность результатов оптимизации зависят от точности выбранной модели риска. При этом важен не только тип модели поддерживается 4 типа, но и ее параметры. Например, большое значение имеет размер предыстории и шаг дискретизации фактора для модели с учетом зависимости от фактора. Следовательно, встает проблема верификации моделей риска. Решается она следующим образом. Суть метода заключается в проверке прогнозирующей функции модели. Для этого берется некоторый уровень риска, например 0,05. На протяжении заданного периода времени ежедневно или через количество дней, равное горизонту прогнозирования моделируется дискретное распределение доходности портфеля. С его помощью определяется минимально допустимая доходность портфеля . На следующий день или по прохождении периода, равного горизонту прогнозирования фиксируется фактическая доходность портфеля . Она может быть как выше, так и ниже прогнозной . Вычисляется частота отклонений в меньшую сторону 18 где частота наблюдений и число наблюдений, когда фактическая доходность была ниже прогнозной общее число наблюдений. Значение частоты должно быть как можно ближе к выбранному уровню риска . Отклонение в ту или иную сторону свидетельствует о неточности модели. Так, слишком маленькая частота говорит, что данная модель завышает риск, большая наоборот занижает. Такие расчеты проводятся одновременно для нескольких уровней риска, например 0,01 0,05 0,1 0,3 0,5 0,7. Для удобства оценки точности и сопоставления моделей рассчитывается ошибка 19 где частота для уровня риска количество уровней риска. Уровни риска задаются в соответствии со стоящими целями. Так, при оценке возможных убытков важен хвост распределения доходности и берутся такие уровни риска как 0,01 и 0,05. Если планируется использование модели для оптимизации по критерию минимизации риска 9, то важна точность в диапазоне риска от 0,3 до 0,7. В табл. 3 приведены результаты верификации моделей риска для портфеля из акций шести российских компаний Татнефть-АО, Уралсвязьинформ-АО, Сбербанк-АО, РАО ЕЭС-АО, Сургутнефтегаз-АО, ГМК Норильский Никель. Брался 300дневный период с 8112004 по 30122005. Горизонт прогнозирования составил 1 день. Лучшие результаты показала модель с учетом зависимости от фактора. Следовательно, для целей оптимизации следует выбирать именно ее. Помимо верификации моделей риска комплекс также дает возможность произвести на исторических данных. Окно программы в этом режиме представлено на рис. 5. Как уже было отмечено, под управлением подразумевается периодическое изменение долей активов в соответствии с результатами оптимизации при выбранной модели риска. Можно выбрать разные портфели или разные модели риска для одного и того же портфеля и сопоставить их эффективность. Также можно сопоставить результаты с неизменным портфелем либо единичным инструментом, например индексом рынка. Для управляемого портфеля учитывается комиссия за совершение операций куплипродажи ценных бумаг. Приведем пример управления портфелем, состоящим из акций восьми крупных российских компаний Аэрофлот, ГМК Норильский Никель, Иркутскэнерго, Лукойл, Ростелеком, РАО ЕЭС, Сбербанк-п, Татнефть. Взят период с 112005 по 162005. Использовалась модель с учетом зависимости от фактора индекса РТС. Шаг дискретизации доходности фактора выбран на уровне 1. Взята 70-дневная предыстория. Портфель оптимизировался по критерию максимизации минимально допустимой доходности для заданного уровня риска 0,05 8 каждый день. В табл. 4 представлены показатели эффективности управления портфелем. Среди них коэффициенты Шарпа и Сортино, которые говорят, насколько доходность портфеля оправдана принятым уровнем риска. При расчете коэффициента Шарпа за риск принимается стандартное отклонение. У второго коэффициента берется стандартное отклонение вниз, т. е. учитываются только те значения доходности, которые меньше минимально допустимой. Это делает данный коэффициент более предпочтительным. За минимально допустимую доходность взята безрисковая годовая ставка доходности 10 . Для сравнения также приведены характеристики для неизменяемого портфеля и индекса РТС. Приведенные результаты свидетельствуют об эффективности подхода. По доходности удалось значительно превысить индекс рынка и равновесный портфель, при этом стандартное отклонение доходности управляемого портфеля было ниже. Что касается коэффициентов Шарпа и Сортино, то они оказались выше в 3,2 и 4,8 раза соответственно. Также эффективность управления видна из гафика изменения стоимости тестируемых позиций рис. 6. 1. Изложен ЛВ-подход к риску портфеля ценных бумаг с ГНС, главной идеей которого является введение конечных множеств в БД по доходностям активов, что позволяет использовать ЛВ-исчисление и построить логические и вероятностные функции риска. 2. Сформулированы критерии оптимизации портфеля и разработаны алгоритмы оптимизации методом случайного поиска и градиентов. 3. Приведены формулы для анализа риска. 4. Разработаны следующие ЛВ-модели риска с ГНС без учета зависимости между активами с полным учетом зависимости между активами с учетом зависимости доходности активов от внешнего фактора. 5. Предложена технология верификации и выбора параметров моделей риска. 6. Разработан программный комплекс, реализующий ЛВ-подход к риску портфеля, который может использоваться для управления реальным портфелем. 7. Расчетные исследования, проведенные с помощью программного комплекса, подтвердили эффективность разработанных моделей и методов. 