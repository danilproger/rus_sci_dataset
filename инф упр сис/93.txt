МОДЕЛИРОВАНИЕ  СИСТЕМ  И  ПРОЦЕССОВ МЕТОДИКА  РАСЧЕТА ВЕРОЯТНОСТНО-ВРЕМЕННЫХ  ХАРАКТЕРИСТИК ИНТЕЛЛЕКТУАЛЬНЫХ  СЕТЕЙ  СВЯЗИ 

Приводятся два метода расчета временных задержек передачи сообщений в канале общеканальной сигнализации № 7 при обработке запроса на услугу интеллектуальной сети. Оба метода основаны на применении теории массового обслуживания для систем вида M/G/1 и используют как различные способы определения составляющих задержки, так и различные подходы к вычислению данных задержек.

Для операторов связи, развертывающих услуги на основе интеллектуальных сетей связи ИСС, актуальным является вопрос производительности используемой интеллектуальной платформы. Данный аспект качества работы системы может быть проанализирован при помощи моделирования трафика ИСС. Цель данного моделирования заключается в анализе временных задержек, возникающих в ходе обслуживания интеллектуальной услуги. Для проведения подобного анализа требуется разбить процесс обработки интеллектуального вызова на отдельные этапы и рассмотреть каждый из них с использованием системы массового обслуживания СМО. В данной статье анализируются временные задержки в канале общеканальной сигнализации ОКС 7 при передаче сообщений между узлами SSP Service Switching Point и SCP Service Control Point. Задержка обработки запросов на интеллектуальную услугу в узлах ИСС была рассмотрена в общем виде в работе 1. Следует иметь в виду, что вычисление среднего времени передачи от SSP к SCP и ожидания в очереди для одной транзакции, реализующей запросы на интеллектуальную услугу, может быть произведено двумя разными способами. Поэтому в рамках данной статьи необходимо произвести вычисления на основании обоих методов и затем сравнить полученные результаты. В первом случае среднее время передачи и ожидания в очереди для одной транзакции будет определено для СМО вида 1 с относительным приоритетом на основе метода, предложенного Б. Я. Лихтциндером 2. Во втором случае так называемая маршрутная задержка будет рассчитана на основе рекомендаций ITU-T Q.706, Q.716, Q.766 35 и на основе алгоритма, предложенного К. Е. Самуйловым 6. Аналитическая модель трафика интеллектуальной сети базируется на сетевой структуре ИСС рис. 1. В процессе обработки интеллектуального вызова, осуществляемой в режиме реального масштаба времени, участвуют следующие узлы узел коммутации услуг SSP с интегрированной интеллектуальной периферией выполняет функции управления вызовом, коммутации услуги, взаимодействия с пользователем узел управления услугами SCP с узлом базы данных услуг SDP Service Data Point выполняет функции управления услугами. Взаимодействие между интеллектуальной надстройкой и базовой сетью связи осуществляется через ОКС 7 посредством стандартизованного протокола INAP Intelligent Network Application Protocol. Рассмотрим задержку времени обслуживания запроса на интеллектуальную услугу на участке SSP SCP на примере услуги набора CS-1 Вызов по телефонной карте АСС Account Card Calling. Данная услуга предоставляет пользователю возможность оплачивать разговор с любого телефонного аппарата или карточного таксофона с помощью специального счета, указываемого набором дополнительного номера. Пользователь набирает код доступа, после этого по запросу системы вводит свой персональный идентификационный номер и заказывает услугу например, международный звонок. Система проверяет правомочность абонента пользоваться этой услугой и наличие денег на счете для вызова в заказанном направлении. В ходе разговора деньги динамически списываются со счета пользователя, и при достижении нулевого остатка соединение автоматически разрывается. Взаимодействие SSP и SCP по оказанию интеллектуальной услуги начинается с момента поступления на SSP последней цифры набранного кода. Обнаружив, что вызов связан с обращением к интеллектуальной сети, SSP приостанавливает его обслуживание и передает запрос услуги на SCP посредством протокола INAP в виде команды подсистемы ТСАР Transaction Capabilities Application Part ОКС 7. Сообщение, полученное SCP, анализируется, обрабатывается, после чего на SSP отсылается ответ, содержащий информацию о последующих действиях, необходимых для выполнения услуги 2. Подобный диалог может состоять из нескольких циклов обмена информацией, так называемых транзакций, обеспечивающих выполнение услуги. Так, для реализации услуги АСС требуется в общей сложности 5 транзакций, т. е. передача 5 сообщений подсистемы ТСАР ОКС 7. Таким образом, задержка по времени при реализации одной транзакции обусловлена задержками, связанными с передачей сообщений в обоих направлениях от SSP к SCP и наоборот, а также временем обработки запроса в SCP и временем анализа ответа в SSP рис. 2. При этом время передачи сообщения от SSP к SCP определяется на основе двух составляющих времени ожидания в очереди от SSP и времени непосредственной передачи транзакции от SSP к SCP. Время передачи транзакции в обратном направлении рассчитывается по тому же принципу. Узлы интеллектуальной сети SCP и SDP моделируются с использованием системы 1 с дисциплиной обслуживания FIFO первый пришел первым обслужен First In First Out. Система 1 характеризуется входящим пуассоновским потоком, произвольным распределением времени обслуживания и одним обслуживающим сервером. Выбор подобной модели обусловлен спецификой структуры передаваемых данных. В каждом пакете должна содержаться служебная информация ненулевой длины, что требует учета во время обслуживания некой постоянной добавки. А предположение о пуассоновском распределении потока поступающих вызовов является, как правило, адекватным в задачах со многими абонентами 1. В ОКС 7 существует три типа сообщений значащие сигнальные единицы ЗнСЕ, сигнальные единицы состояния звена СЕСЗ и заполняющие сигнальные единицы ЗСЕ. Эти сообщения имеют различное назначение и переменную длину. ЗнСЕ длиной до 273 байт служат для передачи информации. СЕСЗ используются в целях управления функционированием звена сигнализации. ЗСЕ имеют нулевую полезную длину и передаются только в том случае, если отсутствуют другие СЕ для передачи. Приоритет передачи сигнальных единиц в ОКС 7 определяется в соответствии с рекомендацией Q.703 7. Наивысшим приоритетом обладают СЕСЗ, следующий приоритет имеют ЗнСЕ. Таким образом, для моделирования SSP будет использоваться СМО 1 с относительным приоритетом. Выбор дисциплины обслуживания с относительным приоритетом обусловлен тем, что нельзя прерывать начатую передачу СЕ. Данная система состоит из одного обслуживающего прибора, накопителя неограниченной емкости и хранилища с неограниченным запасом заявок, соответствующих ЗСЕ ЗСЕ-заявки. Предполагается, что на вход системы поступает пуассоновский поток заявок, соответствующих ЗнСЕ и СЕСЗ, и обслуживание заявок производится по произвольному закону. Поступление ЗСЕ-заявок на обслуживающий прибор происходит только в том случае, если в момент окончания обслуживания заявки любого типа в системе нет заявок, соответствующих другим СЕ. Как было отмечено выше, в данной статье основное внимание будет уделено задержкам времени передачи сообщения в канале ОКС 7. Перед тем как перейти непосредственно к расчетам, необходимо определить, сколько понадобится звеньев ОКС 7 для достижения необходимой производительности при передаче сигнальных сообщений между SSP и SCP при реализации услуги АСС. Вычисления будут производиться для требуемой интенсивности осуществления транзакций на основе метода, рассмотренного в работе 2. В ходе вычислений будем пользоваться следующими предпосылками количество пользователей услуги АСС 50 тыс. чел. количество запросов на услугу в час наибольшей нагрузки ЧНН от одного пользователя 0,5 количество транзакций на одну услугу 5 средняя длина одной транзакции 140 байт средняя длина СЕСЗ 8 байт средняя длина ЗнСЕ 53 байта средняя длина ЗСЕ 6 байт средняя интенсивность поступления СЕСЗ 2 скорость передачи информации в канале 64 кбитc загрузка канала при нормальных условиях функционирования ОКС 7 0,2 Эрл . Средние длины сигнальных сообщений и одной транзакции, приведенные выше, были получены на основе статистических данных для ИСС 2. Интенсивность поступления запросов на услугу АСС в одну секунду в течение ЧНН от всех пользователей определяется следующим образом 3600. Среднее число транзакций в одну секунду . Для рассматриваемого примера было получено следующее значение интенсивности транзакций 34,7 транзс. Теперь необходимо определить среднее время передачи одной транзакции. Расчет среднего времени передачи ЗнСЕ в канал определяется по формуле, справедливой для скорости передачи 64 кбитс, определенной для каналов ОКС 7 в соответствии с рекомендациями ITU-T Время передачи СЕСЗ и ЗСЕ вычисляется по той же формуле. Таким образом, среднее время передачи для ЗнСЕ СЕСЗ и ЗСЕ равно 6,625 1 и 0,75 мс соответственно. Количество ЗнСЕ, передаваемых в одном направлении в течение одной транзакции, определяется по следующей формуле где средняя длина пакета, передаваемого в течение одной транзакции в одном направлении канала ОКС 7. Среднее время передачи одной транзакции Количество звеньев ОКС 7 от SSP к SCP, требуемых для достижения нужного уровня производительности, определяется следующим образом Вычисленное значение следует округлить до ближайшего целого числа. Таким образом, получается, что для достижения нормальных условий функционирования ОКС 7 требуется три звена от SSP к SCP. Кроме того, получается, что интенсивность поступления транзакций в расчете на одно звено ОКС 7 Для рассматриваемого примера 11,574 транзc. В первую очередь, рассмотрим среднее время ожидания в очереди для одной транзакции на основе метода, рассмотренного в работе 2. Напомним, что в одноканальной СМО 1 обслуживаются три потока сообщений, при этом наивысший приоритет имеют СЕСЗ, а низший ЗСЕ. Среднее время ожидания в очереди для сообщения, имеющего приоритет 8 общее число потоков сообщений коэффициент загрузки канала сигнальными единицами -го типа. Таким образом Используя понятие коэффициента вариации длины сообщения получаем соотношение В рассматриваемом примере общее число потоков сообщений равно трем. Коэффициент вариации длин сообщений равен нулю для СЕСЗ и ЗСЕ, так как эти сигнальные единицы имеют практически постоянную длину. Для определения для ЗСЕ предположим, что длины сообщений транзакций распределены по эрланговскому распределению с параметром 2. Поскольку нас интересуют временные задержки в очередях передаваемых транзакций, остальные характеристики вычислять не будем. Значащие сигнальные единицы обладают вторым приоритетом, поэтому вычисления будут производиться для Коэффициенты загрузки канала высчитываются следующим образом При этом следует иметь в виду, что суммарный коэффициент загрузки канала всегда равен единице, так как все время, не занятое передачей ЗнСЕ и СЕСЗ, используется для передачи ЗСЕ. Следовательно 1 . Для рассматриваемого примера 0,002 0,202 0,796. В ходе вычислений получается, что 4,183 мс. Следовательно, суммарное время передачи и ожидания в очереди для одной транзакции при передаче от SSP к SCP выглядит следующим образом Теперь перейдем к определению маршрутной задержки на основании рекомендаций ITU-T. Маршрутной задержкой называется случайная величина общего времени задержки сигнальных сообщений на сигнальном маршруте рис. 3. Транзитный пункт сигнализации STP Signaling Transfer Point представляет собой узел, принимающий сообщения и передающий их без обработки содержания. Маршрутная задержка вычисляется без учета времени обработки сигнальных сообщений подсистемами-пользователями МТР Message Transfer Part, т. е. подсистемами SCCP Signaling Connection Control Part и INAP. Величина будет рассчитана для одной транзакции с учетом того, что, согласно приведенным выше вычислениям, в одной транзакции содержится 2,64 ЗнСЕ. Согласно Q.706 3, в случае отсутствия помех маршрутная задержка вычисляется следующим образом где время обработки сигнальных сообщений в исходящем пункте сигнального маршрута на уровнях 2 и 3 МТР время обработки сигнальных сообщений в пункте назначения сигнального маршрута на уровнях 2 и 3 МТР время обработки сигнальных сообщений в -м транзитном пункте сигнального маршрута на уровнях 2 и 3 МТР, время распространения сигнала на -м звене передачи данных сигнального маршрута на уровне 1 МТР, Случайную величину можно представить в следующем виде, где время приема и обработки сигнальных сообщений в транзитном пункте сигнального маршрута на уровнях 2 и 3 МТР время передачи сигнального сообщения на уровне 2 МТР, включая задержки в очереди на передачу. Поэтому значение может быть преобразовано к следующему виду Согласно работе 3, предполагая независимость в совокупности всех составляющих случайной величины, получаем формулу для расчета среднего значения маршрутной задержки Величины и не определены напрямую в рекомендациях ITU-T, поэтому воспользуемся тем, что, согласно рекомендации Q.766 5, время обработки сигнальных сообщений в пункте сигнализации транзитной станции ISUP определяется следующим образом, где время обработки сигнального сообщения в подсистеме-пользователе МТР ISUP. Из этого соотношения видна связь со временем и Таким образом, данное неравенство позволяет получить примерную оценку среднего значения маршрутной задержки Значения величин, и специфицированы в рекомендациях Q.706 и Q.766 3,5 и выбираются в зависимости от параметров сигнального трафика и различных характеристик МТР. При этом следует иметь в виду, что этими данными можно воспользоваться лишь в том случае, если рассматриваемая сеть ОКС 7 построена в соответствии с требованиями рекомендаций ITU-T. Для выбранного примера интеллектуальной услуги средняя длина ЗнСЕ равна 53 байта согласно исходным данным. Так как в данной статье идет расчет среднего значения величины маршрутной задержки, то можно воспользоваться табличными данными для значащих сигнальных единиц длиной 50 байт. Для определения примерного значения выберем табличное значение для сообщений с интенсивной нагрузкой, так как эти сообщения имеют большую длину. Таким образом, получаем, что при нормальных условиях функционирования ОКС 7 т. е. при сигнальной нагрузке в 0,2 Эрл и Для задания величины воспользуемся предположением, что на всех сигнальных маршрутах задержка времени распространения сигнала составляет 3 мс. Для получения маршрутной задержки остается рассчитать величину общей задержки в звене сигнализации . Общая задержка ЗнСЕ состоит из задержки СЕ в очереди на передачу и времени передачи этой ЗнСЕ . Задержка сигнальной единицы в очереди на передачу представляет собой интервал времени с момента поступления СЕ в очередь до момента начала успешной передачи . В соответствии с рекомендацией Q.706 3 математическое ожидание в случае отсутствия ошибок в звене сигнализации для СМО вида 1 определяется следующим образом где и среднее время передачи ЗСЕ и ЗнСЕ соответственно. Обозначение величин и отличается от аналогичных величин приведенных выше. Это было сделано с целью соответствия именования данных величин их обозначениям в формулах, приведенных в рекомендациях ITU-T. Таким образом, получается, что в случае отсутствия ошибок В тех случаях, когда известно только среднее значение длины ЗнСЕ, ITU-T рекомендует рассматривать одну из трех основных моделей сигнального трафика. В первой модели рассматривается поток ЗнСЕ с детерминированным распределением времени передачи. Данная модель применяется при расчете задержек в случае, если средняя длина ЗнСЕ близка к максимально допустимой примерно 279 байт. Во второй модели берется поток ЗнСЕ с экспоненциальным распределением времени. Данная модель используется, когда средняя длина ЗнСЕ относительно невелика около 50 байт. При использовании третьей модели берется суперпозиция потока ЗнСЕ с детерминированным временем передачи и потока ЗнСЕ с экспоненциальным временем передачи. Эта модель используется, когда сигнальный трафик включает как длинные, так и короткие ЗнСЕ, т. е. средняя длина около 140 байт 6. Таким образом, при средней длине ЗнСЕ 53 байта можно использовать вторую модель сигнального трафика, считая, что время передачи СЕ имеет экспоненциальное распределение. Для получения численного значения величины воспользуемся алгоритмом, приведенным Самуйловым 6. В первую очередь, определим величину среднего времени передачи ЗнСЕ и ЗСЕ в канал соответственно и . Данные величины уже вычислялись при использовании первого метода, и были получены следующие значения 6,625 мс, 0,75 мс. На следующем шаге рассчитаем начальные моменты распределения времени передачи ЗнСЕ в канал Для второй модели расчет производится по следующим формулам Далее вычисляем параметры, по формуле Для выбранной модели сигнального трафика получаем 2, 6, 24. Поскольку рассматривается случай, когда ошибки в канале отсутствуют, то можно уже вычислить значение В результате получается 8,656 мс. Таким образом, среднее значение маршрутной задержки для одной СЕ с учетом трех промежуточных звеньев ОКС 7 вычисляется как Следовательно, в случае отсутствия ошибок в канале связи с учетом того, что в одной транзакции содержится 2,642 ЗнСЕ примерное среднее значение маршрутной задержки для одной транзакции В ходе произведенных вычислений было получено, что среднее время передачи одной транзакции, вычисленное разными методами, отличается примерно в 35 раз. Такое различие обусловлено, в первую очередь, выбором составляющих времени передачи транзакции. Так, в первом методе при выполнении вычислений не учитывается наличие трех промежуточных звеньев ОКС 7 от SSP к SCP т. е. время обработки сообщений в транзитном пункте сигнализации, время распространения сигнала на звене передачи данных и время обработки СЕ в звене SCP на уровнях 2 и 3 МТР. С другой стороны, при вычислении маршрутной задержки была введена величина, которая привела к появлению примерного значения кроме того, величина заметно превышает по значению другие составляющие элементы маршрутной задержки. Из проведенного анализа следует, что средняя величина задержки при передаче одной транзакции, полученная вторым методом, является более реалистичной, хотя и имеет только примерное значение. В дальнейшем планируется определить временные задержки при обработке запроса в SCP и анализе ответа в SSP и получить, таким образом, общее время задержки при реализации одной транзакции. Кроме того, планируется определить среднее время передачи транзакции и общую задержку в случае наличия ошибок в канале связи. 