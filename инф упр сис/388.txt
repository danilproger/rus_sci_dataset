КРАТКИЕ СООБЩЕНИЯ МЕТОД ПРОГНОЗИРОВАНИЯ ДОРОЖНОЙ СИТУАЦИИ  В УСЛОВИЯХ НЕПОЛНОТЫ И ЗАШУМЛЕННОСТИ ДАННЫХ 

1 Рассмотрен общий подход к прогнозированию загруженности городских транспортных магистралей, приведены предварительные результаты экспериментальных исследований. Описан алгоритм прогнозирования дорожной ситуации в условиях неполноты и зашумленности сигнала. Для оценки качества прогнозирования системы производилось сравнение с предсказанием экстраполяцией средней скорости.

Сейчас в России основным источником информации о загруженности дорог являются системы, которые отображают текущую дорожную обстановку и характерную загрузку дорог 1. За рубежом существует ряд систем, которые предоставляют прогноз изменения дорожной обстановки в будущем на основе известной предыстории и данных о текущей ситуации. Однако они используют информацию с датчиков, установленных под дорожным полотном или у обочины. Поэтому таким системам доступна полная информация о количестве и скорости движения автомобилей на каждом участке трассы. Одной из самых известных разработок является система Traffic Prediction Tool TPT корпорации IBM 2. Разрабатываемая система, в отличие от ныне существующих зарубежных аналогов, строит прогноз изменения дорожной ситуации на основе неполных данных о скорости движения автотранспорта. От российских разработок отличие заключается в учете при построении прогноза не только исторических данных, но и ситуации, сложившейся в городе в данный момент. Система использует ряд математических моделей, каждая из которых имеет большую или меньшую предсказательную способность при определенных условиях. При выборе наилучшей математической модели прогнозирования дорожной обстановки необходимо задаться некоторой численной характеристикой качества прогноза. Тем не менее, в рамках решаемой задачи невозможно предложить единственно верный критерий точности предсказания ввиду сложности процесса и неоднородности требований пользователей к системе. Ни средняя абсолютная ошибка, ни средняя относительная ошибка, ни среднеквадратическая ошибка прогнозирования скорости не совпадают с интуитивным представлением о погрешности прогноза, что легко показать на следующем примере. Пусть при реальной скорости транспортного потока 80 кмч две сравниваемые математические модели получили прогнозную скорость 140 и 20 кмч соответственно. Для обеих моделей абсолютные ошибки прогнозирования равны 60 кмч, относительные ошибки равны 75, а среднеквадратические ошибки равны 60 кмч. Однако, с точки зрения пользователя, эти результаты не являются равноценными, поскольку применение второй модели приводит к принципиально неверному выводу о наличии затора. Для решения этой проблемы введем метрику, которая является некой функцией от скорости движения транспортного потока . Абсолютная ошибка прогнозирования этой метрики несет информацию об ошибке прогнозирования ситуации. Как было сказано выше, эта задача принципиально не имеет оптимального решения, поэтому будем определять способ ее расчета, опираясь на ряд естественных требований. Так как водителей интересует относительная погрешность прогнозирования времени движения, вычисляемая по соотношению где индексами p и r обозначены соответственно прогнозируемые и реальные величины, то разность метрик должна быть пропорциональна отношению . Так как на разгруженной дороге скорости зависят в большей степени от характера вождения и типа транспортного средства, чем от дорожной ситуации, то чувствительность метрики к скорости должна быть тем меньше, чем больше значение самой скорости, т. е. Погрешность разности метрик, обусловленная погрешностью измерения времени, не должна зависеть от длины рассматриваемого участка дороги. Перечисленным требованиям удовлетворяет метрика вида ln . При расчете параметров моделей и выборе моделей оптимизируется среднеквадратическое отклонение метрики . В основе предлагаемого алгоритма прогноза лежит предположение о стационарности характеристик распределения скорости. В качестве прогнозного значения скорости используется медиана распределения скорости с учетом периодичности по времени суток, дням недели и времени года. Эта модель наиболее проста, но она не позволяет извлечь никакой дополнительной информации из текущей дорожной обстановки и поэтому наследует все недостатки, свойственные существующим системам предсказания загруженности магистралей. Ситуация на одних участках движения влияет на ситуации на других участках движения. Эта связь наиболее очевидна, когда все автомобили с определенного участка могут выехать только на одну дорогу. Затор на этой дороге повлияет на дорожную ситуацию всего участка. Величина этой взаимосвязи зависит от структуры развязки и схемы организации движения. Поскольку на скорость движения потока влияют внешние факторы, такие как часы пик, праздники и т. д., то чтобы минимизировать это влияние, требуется исследовать отклонения скорости от ее характерной величины для данного времени суток, дня недели и времени года, где отклонение скорости текущая скорость характерная скорость. Рассмотрим пару дорог и . Предположим, что взаимное влияние одной дороги на другую имеет линейный закон и распространяется с некой задержкой . Если 0, то дорога влияет на дорогу . Если 0, то дорога влияет на дорогу . Если близко к нулю, то имеет место как влияние на, так и влияние на . То есть имеется взаимосвязь вида, где отклонение скорости для дороги отклонение скорости для дороги величина взаимосвязи остаточное отклонение скорости. Остаточное отклонение состоит из двух составляющих случайного отклонения, которое затухает при неизменных значениях и, и неслучайного отклонения, которое затухает с изменением значений . Априорно разделить эти отклонения не представляется возможным, однако величину взаимосвязи характеризуют скорости затухания этих отклонений. Поэтому вне зависимости от изменения и взаимосвязь характеризуется затуханием величины . Если принять, что скорость затухания случайного отклонения скорости пропорциональна самому отклонению, то получим выражение 1 1 1. Cила взаимосвязи между дорогой и дорогой, будет оцениваться как отношение коэффициента затухания к стандартной ошибке определения этого коэффициента . Стандартная ошибка определения коэффициента линейной регрессии вычисляется как отношение среднеквадратического отклонения остатка к среднеквадратическому отклонению фактора, следовательно где среднеквадратическое отклонение. Значение силы взаимосвязи между дорогами зависит от значения задержки . Оптимальное значение не выводится аналитически, поэтому определяется перебором. Выбирается такая величина, при которой взаимосвязь максимальна. Скорость движения при отсутствии заторов зависит не столько от дорожной ситуации, сколько от характера вождения и вида транспортного средства. Поэтому в расчете параметров и участвуют только отсчеты, в которых скорости на обеих дорогах ниже определенного порога. Для прогнозирования дорожной ситуации на дороге используется информация о ситуации на дорогах с силой взаимосвязи больше определенного порога. Величина взаимосвязи рассчитывается с помощью метода главных компонент 3, использующего сингулярное разложение матрицы отклонений скоростей от характерной скорости . После перемножения компонентов разложения получим матрицу . В ней содержатся отклонения скорости, сбалансированные относительно предположения о линейном законе взаимосвязи между дорогами. Прогнозная скорость для дороги через время рассчитывается с помощью уравнения вида, где прогнозная скорость на дороге характерная скорость на дороге отклонение скорости для дороги, содержится в строке матрицы, соответствующей дороге функция, описывающая влияние сбалансированного отклонения скорости от характерной на прогнозную скорость для каждого . В основе метода лежит следующее предположение если дорожная ситуация в определенном районе подобна ситуации в прошлом, то она получит сходное развитие. Для уменьшения влияния случайных факторов исследуется аналогия не с одной ситуацией-прецедентом, а с группой таких ситуаций. В качестве метода разбиения ситуаций по группам используется метод ближайших соседей 4. В качестве расстояния выступает мера различия двух ситуаций на дороге где текущая скорость соответствующая скорость в прошлом. Мера различия ситуаций вычисляется по множеству дорог с силой взаимосвязи, большей определенного порога где количество пар отсчетов, в которых известно значение скорости для обеих сравниваемых ситуаций мера различия двух ситуаций на дороге число дорог, имеющих наибольшее влияние на данную дорогу. Мера схожести ситуаций считается величиной, обратной мере их различия В случайном процессе присутствует явная цикличность по времени суток, по дню недели и по времени года. Будем искать схожие ситуации с различным шагом цикличности . Ситуации подразделяются на группы с помощью метода ближайших соседей по метрике, рассчитанной на интервале, где целое число. Кластеризации подлежат только ситуации, для которых выполнен ряд условий полнота истории, значимость истории и определенность истории. Полнота истории оценивается количеством измерений где количество отсчетов в течение времени . Значимость истории оценивается количеством ситуаций, попавших в группу. Определенность истории оценивается близостью развития ситуации внутри группы и равна дисперсии величины по множеству ситуаций в группе. Прогнозная скорость вычисляется как взвешенная сумма экстраполированных характерных скоростей с весами Метод ближайших соседей не гарантирует малой меры различия дорожных ситуаций Однако благодаря тому, что экспоненциально растет при уменьшении, влияние существенно отличающихся ситуаций на прогноз будет пренебрежимо мало. Борьба с неполнотой при расчете взаимосвязи между дорогами алгоритму для получения новой информации о взаимосвязи достаточно двух релевантных последовательных измерений на обеих дорогах при прогнозировании на основе характерной скорости движения на небольшом количестве измерений влияние выбросов нивелируется благодаря оценке медианой распределения вместо среднего значения при прогнозировании на основе характерной скорости движения с учетом отклонений можно выявлять множественные взаимосвязи при небольшом количестве измерений при прогнозировании на основе прецедентов при расчете меры схожести между ситуациями нет необходимости иметь информацию о ситуации на всех участках области. Борьба с зашумленностью погрешность разности метрик не зависит от длины рассматриваемого участка дороги, что позволяет равномерно учитывать ошибку измерения времени благодаря возможности объединить дороги в группы по силе взаимосвязи и рассматривать группы как единое целое, ошибка прогнозирования уменьшается. Для оценки качества предсказания системы производилось сравнение с предсказанием экстраполяцией средней скорости. Критерием качества предсказания было выбрано относительное отклонение фактического времени движения автомобиля по маршруту от предсказанного времени. В качестве реального времени движения использовалось время движения автомобиля по маршруту по данным компании СитиГид 5 для дорог Санкт-Петербурга за сентябрьоктябрь 2010 года. При предсказании экстраполяцией средней скорости получено среднее относительное отклонение времени движения автомобиля, равное 37 . Аналогичная величина при прогнозировании с помощью разрабатываемой системы получилась равной 22 . В дальнейшем планируется провести тестирование на большем интервале времени и ввести в рассмотрение новые модели и факторы, влияющие на дорожную обстановку. Таким образом, разработанные методы прогнозирования имеют точность существенно выше, чем предсказание экстраполяцией средней скорости, которую используют большинство ныне существующих в России систем. Это свидетельствует об эффективности использования данных о сложившейся ситуации при построении краткосрочного прогноза, даже в условиях неполноты и зашумленности этих данных. Результаты данной работы в перспективе могут позволить более рационально использовать имеющиеся транспортные ресурсы, в частности, максимально равномерно распределять транспортный поток по различным магистралям. 