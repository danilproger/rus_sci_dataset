АНАЛИТИКО-ИМИТАЦИОННОЕ  ИССЛЕДОВАНИЕ И  ОПТИМИЗАЦИЯ  АЛГОРИТМОВ  АНАЛОГО-ЦИФРОВОГО ПРЕОБРАЗОВАНИЯ  В  УСЛОВИЯХ  ВОЗДЕЙСТВИЯ   ПОМЕХ (ЧАСТЬ 1) 

На основании предложенных автором информационных алгоритмов проведен аналитико-имитационный анализ потенциальных возможностей адекватных алгоритмов аналого-цифрового преобразования поразрядного уравновешивания, в том числе, при воздействии аддитивной помехи. На основе критерия помехоустойчивости разработаны рекомендации по оптимальному выбору параметров адекватных алгоритмов аналого-цифрового преобразования в зависимости от уровня аддитивной помехи. On the basis of the information algorithms proposed by the author, certain methods of analogdigital transformation are investigated in the presence of noise. The results of research allow us to receive recommendations as to an optimum choice of parameters of adequate algorithms of analogdigital transformation depending on noise.

Известно, какую роль в современной электронной аппаратуре играют аналого-цифровые преобразователи АЦП. Все современные АЦП реализуют аппаратно тот или иной алгоритм аналогоцифрового преобразования. Аналитическая запись алгоритмов АЦП в математической форме, даже для наиболее распространенного алгоритма поразрядного уравновешивания, долгое время отсутствовала в литературе. Это было связано с тем, что процесс аналого-цифрового преобразования, независимо от применяемого способа, из-за наличия операции сравнения входного сигнала с уравновешивающей физической величиной представлял собой нелинейный, итерационно разворачивающийся во времени процесс, содержащий одновременно дискретное и непрерывное представление входящих в алгоритм величин. Разработка адекватной аналитической записи различных алгоритмов АЦП не только открывает новые возможности по исследованию свойств алгоритмов без дорогостоящих экспериментальных исследований их аппаратной реализации, но и позволяет обрести дополнительные знания и сравнить между собой, например, потенциальные свойства того или иного алгоритма, которые в принципе нельзя получить экспериментально. Доступность проведения имитационного моделирования по адекватной математической записи алгоритма с учетом вносимых, в том числе случайных, искажений от неидеальной аппаратной реализации алгоритма расширяет и углубляет понимание многих процессов, происходящих в электронной аппаратуре, что способствует нахождению технологических и конструктивных путей ослабления или даже устранения их влияния на ухудшение метрологических характеристик АЦП. Это особенно важно, так как АЦП выполняет функцию измерения, и возможный уход параметров от номинальных значений по тем или иным причинам не приводит к явному отказу аппаратуры в целом, а только ухудшает ее качественные и некоторые технические показатели. Аналитико-имитационные исследования с целью априорного предсказания последствий качественного ухудшения эксплуатируемой аппаратуры позволяют также не только выбрать оптимальные величины основных параметров АЦП, а и определить режимы тестирования в период его эксплуатации, и разработать соответствующие рекомендации по эксплуатации аппаратуры с учетом изменяющихся условий ее функционирования. Целью работы является аналитический анализ и исследование, включая методы имитационного моделирования, динамики помехоустойчивости АЦП в зависимости от изменения его параметров и интенсивности помех с последующей разработкой рекомендаций для оптимального выбора разрядности на базе предложенных и обоснованных в работе модификаций наиболее распространенных алгоритмов аналого-цифрового преобразования поразрядного уравновешивания. В основу предложенных в работе математико-информационных алгоритмов положены рассмотренные в работах 13 с учетом воздействия аддитивной помехи на входной сигнал следующие аналитически адекватные представления алгоритмов АЦП 2 где и 1 значения уравновешивающей физической величины в дальнейшем уравновешивающей величины на и 1-м тактах уравновешивания, 1, 2, число двоичных разрядов 2 уравновешивающая последовательность, имеющая ту же размерность, что и входной сигнал с помехой заданный диапазон аналого-цифрового преобразования соответственно входной сигнал и аддитивная помеха, эквивалентная по существу инструментальной помехе величина временного такта уравновешивания время, в течение которого выполняется единичный акт процесса уравновешивания временной интервал аналого-цифрового преобразования интервал преобразования ... и sign... функции сравнения входного сигнала и помехи с уравновешивавшей величиной, при 1, 2, задаются следующим образом где, 0 в дальнейшем положим временной шаг 1. Первую функцию сравнения в математике называют индикаторной функцией 4, а вторую знаковой. В соответствии с этими терминами алгоритмы 1 и 2 в дальнейшем будем сокращенно называть индикаторным и знаковым алгоритмами. Как следует из формул 1 и 2, каждое последующее значение уравновешивающей величины зависит от его предыдущего значения. Таким образом, суть алгоритма сводится к последовательным во времени сравнениям входного сигнала с априорно известной, изменяющейся по определенному закону в зависимости от результатов сравнения, уравновешивающей величиной. При этом точность аналого-цифрового преобразования зависит от точности установления уравновешивающей величины и числа двоичных разрядов, равного числу шагов тактов изменения уравновешивающей величины и сравнения ее с входным сигналом. Обычно начальное значение уравновешивающей величины устанавливается равным нулю, т. е. 0 0. Однако для алгоритма 2 допускается установка начального значения 0 0,5, если нежелательно, чтобы уравновешивающая величина принимала отрицательные значения при 0 . Особенностью рассматриваемого представления адекватных алгоритмов является то, что они математически описывают динамику уравновешивающей величины, т. е. сигнала на выходе цифроаналогового преобразователя ЦАП рис.1, встроенного в цепи обратной связи АЦП. Описание алгоритмов в виде нелинейного итерационного уравнения или отображения термина, принятого в математике 5, позволяет, например, наглядно представить графически в различных вариантах динамику уравновешивающей величины, которую невозможно представить при операторной форме описания процесса аналого-цифрового преобразования, предложенного в работе 6. При этом наиболее полное графическое представление в динамике уравновешивающей величины будет при условии, что моделью входного сигнала является постоянная величина, изменяющаяся от преобразования к преобразованию по равномерному закону распределения вероятности в пределах заданного диапазона рис. 24. Примеры подобных графиков см. рис. 2, 3 как по форме, так и по сути соответствуют так называемому древовидному фракталу 7, корнями этих кустов и деревьев являются значения входных сигналов позиции и на оси абсцисс для рис. 2 и 3 соответственно конечному результату преобразования для заданного числа двоичных разрядов 10 соответствует позиция, которая образует вершину куста и вершину дерева, соответствующие их корням. Отличие алгоритмов 1 и 2 наглядно иллюстрируется изменением вида симметрии древовидных фрактальных структур см. рис. 2, 3. На трехмерном графике рис. 4 изображена динамика изменения погрешности преобразования для случайно изменяющегося входного сигнала индикаторным алгоритмом. График наглядно демонстрирует динамику погрешности процесса уравновешивания индикаторным алгоритмом выборки, состоящей из пяти случайно изменяющихся от измерения к измерению амплитуд входного сигнала с равномерным законом распределения вероятностей. Прежде чем перейти к формированию и рассмотрению других эквивалентных форм записи алгоритмов АЦП, необходимо затронуть вопрос, связанный со счислением или нумерацией как совокупностью приемов представления натуральных чисел 79. Очевидно, что квантованный по уровню сигнал может принимать только конечное множество значений. Поэтому выходной сигнал АЦП в пределах каждого временного интервала преобразования 1 представляется числом, сформированным физически в виде совокупности электрических сигналов, образующих код в принятой системе счисления, соответствующий порядковому номеру квантов, укладывающихся в установленном на входе АЦП уровне сигнала. Принцип записи чисел в позиционной системе счисления, обладающей аддитивно-мультипликативными свойствами, определяется теоремой из элементарной теории чисел, согласно которой, для любого натурального числа можно найти одно и только одно натуральное число при заданном натуральном основании 9. Следовательно, для этого числа выполняется уравнение 3 которое имеет решение в целых числах 1, таких, что 0 . Приведенному уравнению 3 удовлетворяет решение только с одним упорядоченным набором, целых чисел, который и должен образовать на выходе АЦП соответствующий цифровой код или кодовое слово рис.5. Поскольку в основном все современные вычислительные машины работают в двоичной позиционной системе счисления, для которых 2, то где символ соответствует логической операции ИЛИ, поэтому кортеж, определяет -разрядный двоичный код, причем уравнение 3 выполняется для любого 0 1 при, стремящемся к бесконечности. Если же для выполняется условие 0, то при конечном так как 2, где величина кванта. Кодовые слова можно передавать в параллельной или последовательной формах. Для передачи в параллельной форме надо использовать линий в канале связи. Представление числа в символьной форме при использовании алгоритма со знаковой функцией сравнения, т. е. при использовании кортежа вида, будет несколько иным. Для этого представления числа воспользуемся равенством 0,51, которое подставим в формулу для двоичного изображения числа . В результате получим где 1 1. Все рассмотренные выше алгоритмы аналогоцифрового преобразования направлены на поиск такого набора, или, при фиксированном основании позиционной системы счисления 2, для которого при конечном осуществляется с точностью до кванта минимизация равномерного критерия вида 4 или 5 где множество значений чисел, соответствующих входному сигналу АЦП, совпадает с подмножеством значений чисел, представленных в двоичном коде, только в конечном числе точек на отрезке 0, . Это множество образуется при делении числа на квант 2 без остатка. Для остальных чисел возникает погрешность усечения в пределах кванта, т. е. 0 . Действительно, при конечном числе разрядов минимизация 4 и 5 может быть выполнена алгоритмически только приближенно с погрешностью усечения, кроме случая, когда множество совпадает с подмножеством . Минимум критериев 4 и 5 достигается в нулевой точке, т. е. при выполнении равенства 6 и 7 для фиксированных и относительно и 1, . Специфика алгоритмов аналого-цифрового преобразования входного аналогового сигнала, значение которого соответствует искомому числу, в цифровой двоичный код заключается в том, что алгоритмическое решение уравнений 6 и 7, следовательно, поиск кортежей, или, осуществляется итерационно методом деления отрезка 0, пополам. При этом предполагается, что искомое число находится в пределах отрезка 0, а число коэффициентов в кортежах, или, при фиксированном основании позиционной двоичной системы 2 соответствует числу операций последовательного деления отрезка 0, пополам с точностью до кванта . Если выбрать другое основание, то число деления исходного отрезка, естественно, изменится 10, а это приводит к изменению алгоритма поиска минимума критериев 4 и 5. Физически каждый символ набора обычно адекватно представляется с помощью уровня одного или нескольких дискретных электрических сигналов импульсов. Поэтому процесс преобразования аналогового сигнала в последовательность кодовых слов часто называют импульснокодовой модуляцией. Представление слов электрическими сигналами определяется форматом кода. Множество существующих алгоритмов аналого-цифрового преобразования связано с особенностями методов поиска искомой точки с координатой, равной числу, принадлежащему некоторому заданному отрезку. При этом немаловажную роль играет операция получения информации посредством функции сравнения о принадлежности искомой точки в процессе ее поиска соответствующему подынтервалу отрезка 0, . Учет в математических моделях вида реальной функции сравнения, близкой по форме к так называемой сигмоидной функции 11, и способа обработки результатов сравнения приводит к новым алгоритмам, близким по своей структуре к алгоритмам, лежащим в основе нейронных сетей 11. В этом случае при решении уравнений 6 и 7 поиск искомых наборов, или, может осуществляться не только последовательным делением исходного отрезка пополам, а и в других пропорциях, например, в пропорциях, соответствующих золотому сечению 10, 12. При этом общий вид алгоритмов 1 и 2 сохраняется, а меняется только вид последовательности . Многообразие алгоритмов последовательного действия, объединенных единой методикой построения, обусловлено разнообразием выбора типа уравновешивающей последовательности и вида функции сравнения, а также возможностью дополнительной обработки входного сигнала и результатов сравнения входного сигнала с уравновешивающей физической величиной. В первом случае, например, алгоритмы 1 и 2 при выборе уравновешивающей последовательности, равной постоянной величине в виде 2 число двоичных разрядов, преобразуются в алгоритмы с постоянным квантом шагом уравновешивания. При этом алгоритм 2 соответствует так называемому алгоритму развертывающего уравновешивания или алгоритму счета, а алгоритм 1 алгоритму следящего уравновешивания 13, 14. Возможны варианты алгоритмов АЦП, в которых благодаря введению дополнительной обработки результатов сравнения повышается надежность и достоверность функции сравнения входного сигнала с уравновешивающей физической величиной. При этом алгоритмы 1 и 2 аналитически могут описываться в виде 1 1 sign, где некоторый оператор преобразования результатов сравнения сигнала с уравновешивающей физической величиной. Дополнительной обработке может подвергаться входной сигнал. В этом случае алгоритмы аналитически представимы в виде 1 1 sign . Оператор в этом случае может описывать, например, действие устройства выборки и хранения, которое может применяться для фиксации амплитудного значения входного сигнала при преобразовании изменяющегося во времени сигнала . Очевидно, что могут иметь место и комбинированные алгоритмы вида 1 1 sign, в которых одновременно применяются операторы и . Исходному значению уравновешивающей величины 0 для рассматриваемых алгоритмов соответствует начальное значение кортежа 0, 0, 0. Не останавливаясь на технических особенностях реализации алгоритмов, отметим только, что алгоритм 1 реализуется проще за счет использования активных электронных компонентов с однополярной проводимостью. Значения функций сравнения для временных тактов с индексом 1, 2, тождественны искомым значениям коэффициентов и в установленной двоичной системе счисления, т. е. и и приводят, согласно алгоритмам, к изменению начального значения кортежа, или, на каждом такте итерации. Иллюстрация динамики трансформации начального значения кортежа, на каждом такте итерации, полученная посредством имитационного моделирования, на примере преобразования линейно изменяющегося входного сигнала, эквивалентного изменениям порядкового номера квантов от 16 до 39, приведена на рис.5. Для дальнейшего анализа целесообразно перейти к модифицированной форме записи алгоритмов 1 и 2. Для этого разделим их правые и левые части на величину кванта . Учитывая, что значение функции сравнения не меняется, если будут сравниваться величины, поделенные на одно и то же положительное число, например, на величину кванта, то в результате получим следующие эквивалентные отображения исходных алгоритмов 1 2 1 2 8 1 2 sign 1, 9 где, 1 1 и целая часть результата деления входного сигнала на квант 2 величина кванта при заданном числе двоичных разрядов величина приведенной нормированной к кванту погрешности усечения, соответствующая дробной части деления на, т. е. или и нормированные к кванту сигнал и помеха. В дальнейшем, если речь идет о нормированной к кванту погрешности усечения при заданном числе двоичных разрядов, то погрешность усечения при определение нормированная к кванту или приведенная может опускаться, если из контекста ясно, о какой именно погрешности идет речь. При выводе алгоритмов 8 и 9 принимались во внимание тождественные преобразования sign 1 sign 1 sign 1 и 1 2 1 2, так как 0. Представление входного сигнала в виде 2 приводит к тому, что первое слагаемое данного равенства привязывает значение входного сигнала к конкретному дискретному значению градуировочной характеристики АЦП, совпадение которых с соответствующими значениями входного сигнала как раз и дает в идеальном случае точный результат преобразования. Второе слагаемое определяет погрешность усечения или квантования, возникающую из-за конечного числа разрядов АЦП и, следовательно, обусловленную дискретностью его градуировочной характеристики. Подставляя значения, 1 и в соответствии с формулами 6 и 7, получим следующее отображения для алгоритмов 8 и 9 10 и 11 где индекс при коэффициентах и обозначает их принадлежность к входному сигналу. Заметим, что если погрешность усечения изменяется в пределах 0 1, то для может выполняться условие 0, где const 1, т. е. аддитивная помеха может быть больше кванта . Если же положить в алгоритмах 10 и 11 0, то получим так называемые идеально-информационные алгоритмы аналого-цифрового преобразования с величиной кванта, равной единице. В случае, если 0, то будем говорить о реальноинформационном алгоритме. Для того чтобы разобраться в сущности подобных алгоритмов, целесообразно рассмотреть следующий подход. Как было показано выше, анализируемые алгоритмы описывают функционирование АЦП, структура которого имеет дискретные состояния, упорядоченные в соответствии с выбранной системой счисления, и открыта для взаимодействия с внешней средой, информация о которой в виде физического сигнала поступает на ее вход, образуя входной сигнал. Этот сигнал не обладает конкретной математической структурой. Однако его можно структурировать, используя любую упорядоченную структуру. Выбором типа алгоритма аналого-цифрового преобразования практически осуществляется при реализации структуризация соответствующего ему типа АЦП и тем самым, опосредованно, структуризация входного сигнала. Причем взаимодействие между входным сигналом и структурой АЦП до полного установления их соответствия между собой в установленном смысле осуществляется посредствам сравнивающего устройства. В дальнейшем, если понятно из контекста, о каком алгоритме идет речь, т. е. об обычном адекватном, или идеально-информационном, или реально-информационном, будем просто говорить о знаковом или индикаторном алгоритме. Итерационные алгоритмы или отображения 10 и 11 позволяют установить соответствие между уровнем входного сигнала и последующим состоянием АЦП, эквивалентным, при математическом описании, априори неизвестному коэффициенту по результату сравнения для всех 1, входного сигнала с предыдущим известным состоянием. Доказательство этого утверждения следует из 10 и 11 при условии, что входной сигнал теоретически априори можно структурировать любым способом, но для рассматриваемого случая его целесообразно структурировать в соответствии с установленной структурой АЦП. Действительно, преобразуем, к примеру, алгоритм 10 к следующей эквивалентной форме или 12 где, 0, 0, 0 начальное значение набора. В результате из 12 получаем 13 Положим 1, тогда в соответствии с 13 При 1 минимальное по остальным всевозможным значениям набора, нормированное к кванту значение входного сигнала код 1, 0, 0 равно 2, а при 0 максимальное по всевозможным значениям набора, нормированное к кванту значение входного сигнала код 0, 1, 1 равно В первом случае минимальный набор соответствует равенствам 1 и 0 для 2, 3, а во втором случае максимальный набор соответствует равенству 0 и 1 для 2, 3, . Поэтому с вероятностью, сколь угодно близкой к единице, с учетом неравенства 1 0 получаем Если 2, поскольку, то и с вероятностью, сколь угодно близкой к единице, получаем Пусть теперь поскольку, то при 1 минимальное, нормированное к кванту значение входного сигнала равно 2, а при 0 максимальное, нормированное к кванту значение входного сигнала равно Поэтому при 1 0 с вероятностью, сколь угодно близкой к единице, получаем для 1, 2, Решением полученного итерационного уравнения доказывается, что для любого набора, определяющего соответствующую структуру входного сигнала в соответствии с выбранной системой счисления, и временного интервала при устанавливается взаимнооднозначное соответствие между структурой АЦП и структурой входного сигнала, или . Выполняя аналогичные действия, можно также доказать сходимость в указанном смысле и для знакового идеально-информационного алгоритма. Таким образом, посредством идеально-информационного алгоритма устанавливается однозначная связь между априорно выбранной структурой АЦП и входного сигнала независимо от величины кванта . При этом величина определяет точность представления входного сигнала выбранной структурой АЦП и, тем самым, установленной системой счисления. Отметим, что, применяя последовательно описанные алгоритмы к кванту, определяющему так называемую погрешность усечения, можно построить множество разновидностей исходного алгоритма, порождающего соответствующие фрактальные древовидные структуры. Именно такой подход применяется к построению некоторых известных алгоритмов аналого-цифрового преобразования, например параллельно-последовательных 15, не рассмотренных в данной статье, алгоритмов. Аналогичный результат анализа можно получить, если перейти к рассмотрению следующей модификации индикаторного идеально-информационного алгоритма 14 где 2 1 1 2 2 целая часть результата деления входного сигнала на величину 2, где переменная соответствует -му такту итерации 2 величина погрешности усечения на -м такте итерации, соответствующая дробной части деления входного сигнала на величину кванта для -го акта итерации 2 2 для любого значения 2 и 2 нормированные к кванту, соответствующему -му такту итерации, сигнал и помеха. Вид плотности распределения вероятности погрешности усечения для первых тактов преобразования зависит от плотности распределения вероятностей входного сигнала. По мере увеличения номера такта преобразования вид плотности распределения вероятности погрешности усечения уже для 3, 4 трансформируется в равномерную плотность распределения. Если же входной сигнал имеет равномерный закон распределения вероятностей, то при всех тактах преобразования плотность распределения вероятности погрешности распределения остается равномерной и имеет вид Так как случайная величина или, по определению, принимает значения на отрезке 0, 1 и имеет равномерный закон распределения вероятностей, то ее функции и плотности распределения вероятностей принимают вид графиков, приведенных на рис. 6. Прежде чем перейти к анализу влияния аддитивной помехи на сходимость алгоритмов, рассмотрим усредненный индикаторный идеальноинформационный алгоритм аналого-цифрового преобразования. Для этого усредним 14 по случайной величине для -го такта итерации при фиксированном значении входного сигнала. В результате получим или 15 где 1 и 1 1 1 1 функция распределения нормированной к кванту погрешности усечения на -м такте итерации. Проанализируем функцию распределения вероятностей погрешности усечения, которая в соответствии с рис. 6 для рассматриваемого случая принимает только два значения и не может принимать значения меньше единицы. Это связано с тем, что абсолютная величина разности, по определению, изменятся при 1, 2, в пределах 0 2 в соответствии с натуральным рядом. Поэтому для функции распределения имеем 16 или и после упрощения для всех 1, 2, получаем 17 Следовательно, для при определении значения коэффициента получаем откуда сразу же следует, что 1, если только 1, и 0, если только 0. Пусть пробегает все значения от 1 до, тогда для конечного выполняется равенство 0. Таким образом, установлено, что для всех тактов преобразования и любого значения справедливо равенство . Поэтому погрешность преобразования для, согласно определению, соответствует погрешности усечения, которая определяется по формуле 2 2 . Математическое ожидание погрешности усечения для и ее дисперсия при равномерном распределении соответственно равны и В заключение отметим, что алгоритмический подход к изучению АЦП, или преобразователей форм информации, был предложен еще в работах А. П. Стахова см., например, 10, где автор предложил для описания различных методов аналогоцифрового преобразования так называемые, алгоритмы. Однако такое представление алгоритмов, на наш взгляд, является скорее только индикатором соответствующего алгоритма, так как не отвечает общепринятому определению алгоритма 16, и поэтому при конкретизации действий должно сопровождаться подробным словесным описанием, которое в представленной символьной форме алгоритма вида, просто отсутствует. 