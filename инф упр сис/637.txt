ПАРАМЕТРИЧЕСКИЙ БУТСТРЕП-МЕТОД  ВЫЧИСЛЕНИЯ КОНТРОЛЬНЫХ ПРЕДЕЛОВ КАРТ  ДЛЯ АСИММЕТРИЧНО РАСПРЕДЕЛЕННЫХ ДАННЫХ 

при диагностике состояния стабильности процесса с асимметричным распределением индивидуальных значений, описываемым теоретическим законом, аналитику зачастую важно, чтобы метод построения контрольной карты соответствовал следующим критериям: обладал низкой вероятностью совершения ошибок 1-го и 2-го рода, наличием вычислительной робастности контрольных пределов, отсутствием нелинейных преобразований исходных данных. Однако параметрические (наиболее точные) методы построения контрольных карт не удовлетворяют одновременно всем этим критериям. Целью работы является разработка параметрического метода построения контрольной карты, соответствующего перечисленным критериям, и сравнение чувствительности карт средних и стандартных отклонений, построенных по разработанному методу, с чувствительностью таких же карт, построенных по распространенным на практике методам, на стадии мониторинга процесса (фаза II). Результаты: разработанный параметрический бутстреп-метод преобразует ранее предложенный авторами подход к вычислению контрольных пределов, основанный на генерировании псевдослучайной выборки, за счет использования несмещенной оценки внутригрупповой изменчивости (среднего значения квадрата стандартного отклонения) на этапе расчета оценок параметров теоретического распределения, что приводит к снижению вероятности совершения ошибки 1-го рода на стадии мониторинга процесса. Использование среднего статистик внутригрупповой изменчивости увеличивает вычислительную робастность контрольных пределов к присутствию особых причин вариации значений характеристики, что позволяет применять метод на стадии ретроспективного анализа процесса (фаза I). В методе отсутствует необходимость в нелинейных преобразованиях исходных данных, усложняющих интерпретацию и применение на практике результатов анализа. Предложенный метод позволяет построить контрольную карту любой статистики для любого теоретического закона распределения (с одним или двумя параметрами) индивидуальных значений характеристики процесса. Значения оценок вероятности совершения ошибок 1-го рода картами средних и стандартных отклонений, вычисленные по предложенному методу, находятся ближе к требуемым значениям, чем значения оценок вероятности совершения ошибок 1-го рода такими же картами, вычисленные по другим методам. Значения оценок вероятности совершения ошибок 2-го рода контрольными картами, вычисленные по предложенному методу, таковы, что эти карты способны оперативно выявлять сдвиги в положении и изменчивости значений характеристики процесса. Практическая значимость: разработанный метод в настоящее время успешно используется в телекоммуникационной отрасли для мониторинга характеристики средней длительности телефонного разговора.

Контрольные карты КК Шухарта являются мощным инструментом диагностики состояния стабильности процесса. Наиболее распространены карты статистик положения и изменчивости, особенно и -карты Шухарта 1. В основе расчета их контрольных пределов лежит допущение о нормальном или приблизительно нормальном распределении индивидуальных значений характеристик процесса . Однако известно много процессов, значениям характеристик которых свойственны асимметричные распределения, и тогда указанное ранее допущение будет увеличивать вероятность совершения ошибок 1-го и 2-го рода при принятии гипотезы о состоянии наблюдаемого процесса. В качестве примеров характеристик таких процессов можно привести длительность телефонного разговора, наработку устройства на отказ, отклонение формы поверхности от круглости, предел прочности материала на разрыв и т. д. Можно выделить четыре основных подхода к построению карт статистик положения и изменчивости для случаев, когда распределению свойственна асимметрия. заключается в увеличении объема выборки в подгруппах настолько, чтобы распределение средних значений характеристики процесса стало приблизительно нормальным. Это позволит использовать -карту в качестве карты статистики положения и -карту карту скользящих размахов для средних в качестве карты статистики изменчивости. Однако увеличение объема выборки в подгруппах зачастую невозможно либо экономически нецелесообразно. предполагает использование непараметрических методов построения КК, не зависящих от теоретического закона распределения. Авторы работы 2 предложили эвристический метод взвешенной дисперсии WV, основанный на аппроксимации полудисперсий, и представили формулы контрольных пределов и -карт для асимметричных распределений. Предложена 3 и другая версия WV-метода для расчета контрольных пределов и -карт. Метод взвешенных стандартных отклонений WSD, схожий с WV-методом 4, используется для построения карт, карт кумулятивных сумм и карт экспоненциально взвешенных скользящих средних для асимметричных распределений. Для построения и -карт предложен метод поправки на асимметрию SC 5, в основе которого лежит учет значения коэффициента асимметрии распределения при вычислении контрольных пределов. В работе 6 впервые предложено вычислять контрольные пределы карты при помощи непараметрического бутстреп-метода . Результативность КК, построенных по данному методу, особенно высока для распределений с сильной асимметрией 7. Главным недостатком, ограничивающим использование непараметрических бутстреп-методов на практике, является отсутствие вычислительной робастности пределов КК даже если контрольные пределы вычисляются по данным, содержащим в том числе и особые причины вариации, необходимо, чтобы полученные пределы можно было использовать для обнаружения отсутствия статистической управляемости 1. Поэтому при использовании метода 6 необходимо предварительно формировать выборку, характеризующую стабильный процесс что далеко не всегда возможно на практике, для последующей оценки квантилей. предполагает вычисление контрольных пределов карт при помощи кривых Джонсона КД или Пирсона. Его целесообразно использовать в тех случаях, когда изначально закон распределения неизвестен. Например, в работе 8 предложено вычислять контрольные пределы карты, основываясь на квантилях КД при помощи подгонки первых четырех моментов наблюдаемых данных 9. Недостатком указанного метода является отсутствие робастности КК в случае нестабильного процесса, что проявляется в некорректных контрольных пределах. Некорректность заключается в подмене реального процесса, содержащего одновременно случайные и особые причины, стабильным процессом с асимметрией и эксцессом, присущими этому реальному процессу. Метод реализован в версиях программного продукта STATISTICA. связан с использованием параметрических методов. На практике распределения значений характеристик многих процессов описываются теоретическими законами в некотором приближении распределение длительностей телефонных разговоров описывается логарифмически нормальным законом, распределение значений наработки устройства на отказ законом Вейбулла, распределение отклонений формы поверхности от круглости законом Рэлея и т. д. Для контроля таких процессов применимы параметрические методы построения КК статистик положения и изменчивости. В работе 10 предложен метод построения КК для логарифмически нормального закона распределения . К недостаткам метода относят необходимость экспоненциального преобразования данных, что снижает корректность оценки контрольных пределов. В работе 11 предложен метод построения КК для случаев, когда индивидуальные значения характеристик процесса распределены в соответствии с законом Вейбулла. Практическое использование этого метода затруднено сложностью вычисления значений констант для определения пределов КК. В последнее время для построения КК все более широко применяют параметрические бутстреп-методы ПБ-методы. Идея ПБ-метода заключается в переходе от теоретического распределения значений к распределению значений интересующей статистики при помощи генерирования псевдослучайных чисел для исследования характеристик математического ожидания, медианы, дисперсии, квантилей и др. распределения интересующей статистики. Без использования ПБ-метода определить аналитическую функцию распределения значений таких статистик, как и, зачастую либо затруднительно, либо невозможно 8. В литературе предложен целый ряд ПБ-методов оценки контрольных пределов для мониторинга квантилей интересующей статистики, когда значения распределены в соответствии с некоторым теоретическим законом. Например, авторы работы 12 предложили метод оценки контрольных пределов для мониторинга квантилей когда распределены в соответствии с законом Вейбулла, а авторы работы 13 для мониторинга квантилей когда распределены в соответствии с законом Бирнбаума Саундерса. Авторы работы 14 рассмотрели четыре теоретических распределения значений Вейбулла, Бэрра, Бирнбаума Саундерса и Парето и для каждого из них предложили ПБметод оценки контрольных пределов для мониторинга квантилей интересующей статистики с возможностью переменного объема выборки в подгруппах. Главным достоинством представленных выше ПБ-методов является высокая точность получения заданной -вероятности. Однако их использование возможно только в фазе II, так как изначально предполагается, что выборка, на основе которой вычисляются контрольные пределы, характеризует стабильный процесс. Особенность ПБ-метода построения КК, предложенного нами 15, заключается в использовании средних или медиан из это число подгрупп статистик положения и изменчивости для формирования теоретической модели распределения при помощи аналитической связи между математическим ожиданием, дисперсией и параметрами, теоретического распределения, в отличие от использования оценок параметров распределения, рассчитанных по значениям 1214. Как и для КК Шухарта, использование среднего статистик внутригрупповой изменчивости в методе 15 позволяет рассчитывать корректные оценки контрольных пределов даже на основе частично неоднородных данных, что является признаком вычислительной робастности контрольных пределов. Важно отметить, что в ПБ-методе 15 отсутствует необходимость в нелинейных преобразованиях исходных значений для перехода к другой характеристике, усложняющих интерпретацию и применение на практике результатов анализа. При помощи предложенного метода можно построить КК статистики для теоретического закона распределения значений с одним или двумя параметрами. Для преобразования метода 15 мы предлагаем на этапе расчета оценок параметров теоретического распределения использовать несмещенную оценку внутригрупповой изменчивости в фазе II. Методы построения КК отбирались для исследования их чувствительности в фазе II в соответствии со следующими критериями возможность описания теоретической моделью распределения значений если необходимо наличие вычислительной робастности контрольных пределов отсутствие нелинейных преобразований исходных значений . Комментируя эти критерии, необходимо отметить следующее. Поскольку распределения значений характеристик многих процессов описываются теоретическими законами в некотором приближении, то в исследовании будет использоваться допущение о том, что значения рассматриваемых процессов распределены в соответствии с двумя наиболее распространенными на практике асимметричными теоретическими законами логарифмически нормальным законом распределения и законом распределения Вейбулла. Это позволяет использовать параметрические методы построения КК. На практике для большинства процессов изначально никогда не известно, находится данный процесс в состоянии статистической управляемости или нет. Поэтому при выборе метода построения КК важна вычислительная робастность контрольных пределов. Нелинейные преобразования значений, используемые в ряде методов построения КК, усложняют интерпретацию и применение на практике результатов анализа, что может привести к некорректной оценке состояния стабильности процесса. В связи с этим нелинейные преобразования данных являются нежелательными 1, и методы, использующие их для построения контрольных пределов, в исследовании чувствительности КК рассмотрены не будут. В телекоммуникациях соответствие метода построения КК данным критериям особенно критично при анализе длительностей телефонных разговоров. Также отметим, что во многих процессах характеристика является отраслевой, например, в телекоммуникациях таковой является средняя длительность телефонного разговора ACD. Поэтому для контроля таких процессов наиболее удобно использовать -карту. В исследовании будет рассмотрен средний 10 объем внутригрупповой выборки, часто используемый при анализе телекоммуникационных процессов. В таких случаях для мониторинга изменчивости значений характеристики процесса предпочтительно использовать -, а не -карту 3. В соответствии с вышеуказанными критериями для исследования были выбраны следующие методы построения и -карт метод Шухарта 1 WV-метод 3 метод на основе КД 8, 9 ПБ-метод, предлагаемый авторами. Алгоритмы построения КК по методу Шухарта, WV-методу и методу на основе КД, использованные в исследовании, можно получить от авторов статьи по запросу. и -карты предложенного нами ПБ-метода строятся в соответствии со следующими шагами. 1. Принимается решение о теоретическом законе, описывающем распределение значений характеристики текущего процесса. Например, на основе предварительно собранных данных больших объемов о процессе стабильность которого должна быть проверена группой экспертов решение об аналитическом виде распределения значений может быть принято при помощи одного из критериев согласия 15. 2. Из текущего процесса отбираются значений характеристики, где 1, номер подгруппы в выборке 1, номер значения в подгруппе. Для каждой -й подгруппы вычисляются следующие статистики среднее подгруппы стандартное отклонение квадрат стандартного отклонения 3. По подгруппам рассчитываются общее среднее среднее значение стандартного отклонения среднее значение квадрата стандартного отклонения 4. Для теоретического распределения с двумя параметрами с одним параметром аналогично, определенного на шаге 1, математическое ожидание, дисперсия и параметры распределения, имеют аналитическую связь следующего вида Статистики и или принимаются, соответственно, за и, и рассчитываются оценки параметров теоретического распределения В контрольные пределы рассчитываются для того, чтобы определить, находился ли процесс в стабильном состоянии в том промежутке времени, когда значений отбирались для построения КК. Если процесс находился в нестабильном состоянии, то необходимо идентифицировать и устранить особые причины вариации значений характеристики . Если состояние процесса было стабильным, то выборка из значений, на основе которой строилась КК, может быть использована в фазе II 16. В фазе I целесообразно использовать статистику так как она более робастна к присутствию неуправляемой вариабельности значений, чем статистика В контрольные пределы рассчитываются на основе выборки, характеризующей стабильный процесс взятой из фазы I. В интерактивном режиме новые значения исследуемой статистики сравниваются со значениями контрольных пределов для оперативного выявления неуправляемой вариабельности процесса 16. В отличие от статистика является несмещенной оценкой дисперсии т. е. является более точной оценкой, чем поэтому в фазе II использование статистики более целесообразно. В исследовании чувствительности и -карт будет рассматриваться фаза II, поэтому в качестве оценки принимается статистика Для логарифмически нормального распределения Log Для распределения Вейбулла 3 где гамма-функция Оценка параметра формы находится из нижнего уравнения 3 при помощи одного из численных методов, доступных в большинстве математических программных продуктов точность оценок в приведенном далее исследовании составляет 0,001. 5. С помощью одного из методов генерирования псевдослучайных чисел формируется выборка объема, значения которой символом в алгоритме ПБ-метода обозначены характеристики, для расчета которых используется псевдослучайная выборка образуются в соответствии с плотностью теоретического распределения Псевдослучайные числа, распределенные в соответствии с и в приведенном далее исследовании были сгенерированы при помощи программного продукта STATGRAPHICS Centurion XV. 6. Полученная выборка разбивается на подгрупп, и для каждой подгруппы объема рассчитываются значения статистик и в соответствии с 1 и 2. 7. В порядке возрастания ранжируются значений . Нижним пределом является значение с порядковым номером 2 в приведенном далее исследовании задавалось значение 0,0027. Верхним пределом является значение с порядковым номером 1 2 . 8. В порядке возрастания ранжируются значений Нижним пределом является значение с порядковым номером 2 . Верхним пределом является значение с порядковым номером 1 2 . Необходимо отметить, что на шаге 6 вместо значений и можно рассчитывать значения любой другой интересующей статистики, чтобы на шагах 7, 8 вычислять контрольные пределы для этой статистики. Для исследования чувствительности и -карт, построенных по представленным методам, в фазе II было проведено компьютерное моделирование по методу Монте-Карло. В качестве показателей чувствительности КК использованы оценки вероятностей совершения ошибок 1-го и 2-го рода оценки и -вероятности соответственно. Данные, использованные в исследовании, получены генерированием выборки двух асимметричных теоретических распределений логарифмически нормального распределения Log и распределения Вейбулла . Значения, на основе которых вычислялись контрольные пределы и -карт, характеризуют выборку стабильного процесса. Для карт, построенных по методу Шухарта и WV-методу, в качестве контрольных пределов были приняты границы 3, а для карт, построенных по методу на основе КД и ПБ-методу, квантили и . Значения оценок -вероятности и -карт вычисляются по следующим шагам. 1. Вычисляются контрольные пределы карт. 1.1. Генерируется 10 значений характеристики, распределенных в соответствии с Log или, при помощи программного продукта STATGRAPHICS Centurion XV. 1.2. Шаг 1.1 повторяется 10 раз для формирования подгрупп по значений в каждой подгруппе. 1.3. Контрольные пределы и -карт рассчитываются в соответствии с алгоритмами метода Шухарта, WV-метода, метода на основе КД и ПБ-метода. 1.4. Шаги 1.11.3 повторяются 10 раз для каждого метода. 1.5. Шаги 1.11.4 повторяются для Log 0,44 1,32, Log 1,53 0,52, Log 1,74 0,1, 0,75 5, 1,24 3, 2,6 3. 2. Вычисляются значения оценок -вероятности. 2.1. Генерируется 10 значений характеристики, распределенных в соответствии с Log или аналогично шагу 1.1. 2.2. По значениям, полученным на шаге 2.1, рассчитываются статистики и . 2.3. В соответствии с Log или из шага 2.1 выбирается одна из карт, построенных по некоторому методу на шагах 1.11.5. Значение рассчитанное на шаге 2.2, сравнивается со значениями и этой карты по следующим формулам Значения и рассчитываются для каждой из карт, построенных по выбранному методу на шагах 1.11.5 при Log или из шага 2.1. 2.4. В соответствии с Log или из шага 2.1 выбирается одна из -карт, построенных по некоторому методу на шагах 1.11.5. Значение, рассчитанное на шаге 2.2, сравнивается со значениями и этой -карты по следующим формулам Значения и рассчитываются для каждой из -карт, построенных по выбранному методу на шагах 1.11.5 при Log или из шага 2.1. 2.5. Шаги 2.12.4 повторяются 10 раз. 2.6. Для выбранного метода вычисляются средние из значений и которые являются оценкой -вероятности выхода за и соответственно. 2.7. Для выбранного метода вычисляются средние из значений и, которые являются оценкой -вероятности выхода за и соответственно. 2.8. Шаги 2.32.7 повторяются для каждого из методов построения КК. 2.9. Шаги 2.12.8 повторяются для Log 0,44 1,32, Log 1,53 0,52, Log 1,74 0,1, 0,75 5, 1,24 3, 2,6 3. По описанным выше методам построены для 10 оценки -вероятности выхода за и -карт и оценки -вероятности выхода за и -карт и сумма этих оценок, представленные в табл. 1 и 2. Значения оценок -вероятности выхода за и отдельно для верхнего и нижнего пределов КК, построенных в соответствии с ПБ-методом, наиболее близки к оптимальным. На практике именно этот критерий является основным при выборе оптимального метода построения КК. В качестве примера на рис. 1 представлены графические зависимости оценок -вероятности выхода за -карты для каждого из рассмотренных методов от величины, где вероятность того, что . Из рис. 1 видно, что для всех рассмотренных методов, за исключением ПБ-метода, по мере увеличения асимметрии распределения значительно возрастает отклонение от требуемого значения 0,135 . Несмотря на то, что при 0,72 использование метода Шухарта и WVметода приводит к отсутствию ошибок 1-го рода, данный факт сигнализирует о возможной неспособности этих методов вычисления к идентификации неуправляемой вариабельности процесса что и будет подтверждено далее, см. рис. 2. При сравнении оценок -вероятности и -карт, построенных по представленным выше методам, необходимо учитывать, что карты с бо-льшими значениями оценок -вероятности заведомо имеют преимущество. Поэтому основная задача данного исследования оценок -вероятности выяснить способность КК, построенных по ПБ-методу, к идентификации нестабильного состояния процесса в принципе. Наиболее распространенный метод моделирования распределения, характеризующего нестабильный процесс 3, заключается в сдвиге значений и распределения стабильного процесса на заданное число сигма-единиц в соответствии с формулами где и математическое ожидание и стандартное отклонение модели распределения нестабильного процесса и параметры, характеризующие величины сдвига значений и . Данный метод удобен при моделировании нормального симметричного распределения нестабильного процесса при сдвигах значений и форма распределения остается неизменной кривые плотности распределения нестабильного процесса, сдвинутые на от, симметричны относительно . Однако данные условия не выполняются в случае моделирования асимметричного распределения нестабильного процесса, что усложняет выбор подходящих параметров и . В связи с этим для моделирования асимметричного распределения нестабильного процесса нами предложено использовать WV-метод учитывающий асимметрию распределения. Алгоритм моделирования асимметричного распределения нестабильного процесса, основанный на WV-методе, и результаты вычисления оценок 1 -вероятности и -карт, построенных по рассмотренным методам, можно получить от авторов статьи по запросу. В качестве примера на рис. 2 представлены графические зависимости оценок -вероятности выхода за карты для каждого из рассмотренных методов от значений параметров для 10. В качестве модели распределения значений стабильного процесса рассмотрено Log 0,44 1,32 с 0,72. Моделями распределений нестабильного процесса являются Log 0,12 1,43 при значениях параметров 1 0,5 и Log 1,41 1,9 при значениях параметров 2 1. Представленные на рис. 2 результаты можно также интерпретировать при помощи показателя средней продолжительности серии количества точек до выхода точки за контрольный предел карты ARL Например, при карта в среднем выявляет неуправляемую вариабельность процесса ранее, чем на второй точке чувствительность такой карты считается высокой. Как видно из рис. 2, карта, построенная в соответствии с ПБ-методом, способна практически сразу выявить неуправляемую вариабельность при сдвиге 2 1. Однако карты, построенные в соответствии с методом Шухарта и WV-методом, не способны выявить неуправляемую вариабельность при аналогичных сдвигах в положении и изменчивости значений характеристики процесса. Данный пример содержит практическую ценность рассмотренные в нем условия значения, формы распределения значений стабильного и нестабильного процессов схожи с условиями мониторинга показателя ACD в сфере телекоммуникаций. В статье подробно описаны основные подходы к построению КК для асимметрично распределенных данных. На практике асимметричные распределения значений характеристик многих процессов описываются теоретическими законами в некотором приближении. Для контроля таких процессов применимы параметрические методы построения КК. Предложенный нами ПБ-метод позволяет построить КК любой статистики для любого теоретического закона распределения значений с одним или двумя параметрами. Для него характерны низкая вероятность совершения ошибок 1-го и 2-го рода, наличие вычислительной робастности контрольных пределов, отсутствие нелинейных преобразований исходных данных в то время как альтернативные методы построения КК не удовлетворяют одновременно всем этим критериям. В качестве оценок внутригрупповой изменчивости для формирования теоретической модели распределения предложено использовать статистику в фазе I и статистику в фазе II. Предложенный нами ПБ-метод успешно используется на практике в телекоммуникационной отрасли для мониторинга характеристики ACD. 