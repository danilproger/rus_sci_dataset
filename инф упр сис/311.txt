ИССЛЕДОВАНИЕ ВЛИЯНИЯ НОВОСТНОГО ФОНА   НА КОТИРОВКИ ЦЕННЫХ БУМАГ   ПРИ РАЗЛИЧНОМ СОСТАВЕ УЧАСТНИКОВ РЫНКА 

Рассматривается задача изучения влияния новостного фона при различном составе участников рынка на динамику цен акций и другие экономические показатели. Для решения этой задачи используется метод имитационного моделирования на основе мультиагентного подхода.

Рынок ценных бумаг чрезвычайно сложная динамическая система. Когда на нем происходят потрясения, порой даже опытным аналитикам сложно объяснить и интерпретировать произошедшие события. Одним из вечных вопросов является определение степени переоцененности или недооцененности акций. Существуют, с одной стороны, фундаментальные показатели, по которым легко рассчитать коридор стоимости, с другой стороны новости, которые сигнализируют о том, в каком направлении эти показатели будут меняться. Выявление соотношения этих движущих сил является сложной задачей, решение которой позволит более точно прогнозировать динамику экономических показателей бирж, а это, в свою очередь, позволит инвесторам принимать более взвешенные решения при управлении своими активами. Эта статья посвящена изучению влияния новостного фона на котировки ценных бумаг при различном составе участников рынка. В рамках исследования было предложено моделировать рынок ценных бумаг, используя классические методы математического моделирования 1 и мультиагентный метод 2. Суть мультиагентного подхода заключается в создании виртуального мира, населения его виртуальными агентами и проведении экспериментов над такой моделью. Взаимодействуя между собой, агенты совершают сделки на бирже, в результате чего мы можем наблюдать те же явления и закономерности, что и на реальных рынках. Анализируя работу виртуальной биржи в различных условиях, можно делать выводы о том, какие движущие силы управляют реальными биржами и какое влияние на котировки оказывают фундаментальные и новостные факторы. Результаты симуляций можно использовать для прогнозирования экономических показателей реальных бирж в рамках мультиагентной системы поддержки принятия решений. Идея использовать имитационное моделирование для решения задач подобного класса не является новой. Этим вопросом занимались, начиная с конца 80-х гг., Лебарон Б. LeBaron B., Палмер Р. Palmer R. 3, Кохен K. Cohen K., Майер С. Maier S. 4, Ким Kim, Марковиц Г. Markowitz H. 5, Риек Rieck, Гиансанте С. Giansante S., Йу В. Yue W. 6, Марчеси М. Marchesi M., Раберто М. Raberto M. 7 и др. В последнее время этим вопросом заинтересовались и российские исследователи В. П. Романов 8, К. В. Воронцов. Несмотря на значительное количество работ по данной тематике, реальных проектов, использующих мультиагентный подход для моделирования рынка, очень мало. Из известных можно выделить Santa Fe, GASM, MoTor, A.T.O.M, Altreva adaptive modeler. Однако часть этих разработок не опубликована, часть опубликована cо следующими существенными ограничениями, затрудняющими применение и дальнейшее развитие этих систем. . В подобных моделях торговля осуществляется только одной акцией. Каждый трейдер совершает примерно только одну транзакцию в день. Реальные рынки ценных бумаг оперируют сотнями и тысячами ценных бумаг, а трейдеры совершают десяток операций купли-продажи в день. Во многих моделях агенты заключают все сделки только по цене равновесия между спросом и предложением. Все запросы за пределами этой цены отклоняются в тот же день. Реальные рынки ценных бумаг используют модель двойного аукциона, при которой ордера обрабатываются в зависимости от своего типа маркет, лимит, спот и т. п., а транзакции совершаются только в соответствии с запросами трейдеров. Большая часть моделей рассчитана только на один тип стратегии, в рамках которой при каждом шаге трейдер выбирает, куда ему вложить деньги, между банком и рынком. Это не соответствует поведению реальных трейдеров. Чтобы обойти эти архитектурные ограничения, автор с 2006 г. ведет разработку модели, программная реализация которой свободно распространяется вместе с исходным кодом 9. Подобный комплекс позволил моделировать различные биржевые сценарии, в том числе исследующие влияние новостного фона на динамику цен акций. Обозначим понятие виртуальный мир буквой от слова world. Каждая итерация меняет состояние виртуального мира. Частота итераций задается пользователем. В виртуальном мире существует понятие виртуального времени . Начальное состояние времени равно, каждую итерацию оно увеличивается на период итераций, который обратно пропорционален частоте . Таким образом, в каждый момент виртуальное время может быть рассчитано по следующим формулам, 1 Виртуальный мир имеет начальное состояние и каждую итерацию он меняет свое состояние на, т. е. . Однако все события в виртуальном мире привязаны не к частоте итерации, а к виртуальному времени. Таким образом, все агенты могут обновляться настолько часто, насколько им нужно. Агенты, которым не нужно обновляться в данный момент, просто пропускают итерацию. Следовательно, более точной будет формулировка . Виртуальный мир населяют участники экономические субъекты от слова agent. В виртуальном мире существуют участников . Каждый -й участник имеет начальное состояние и каждую итерацию меняет его на . Таким образом, состояние каждого участника будет определяться формулой, . Виртуальный мир является объединением множества всех участников, новостей и классификаторов . Его состояние в каждый момент зависит от начальных параметров симуляции, текущего виртуального времени и новостей из внешнего мира. Оно может быть представлено в виде функции, где начальное состояние виртуального мира начальное состояние агентов совокупность новостей и событий виртуальное время в момент . Мир развивается под влиянием новостей от слова news. Новости могут как генерироваться участниками этого мира, так и поступать из внешней среды . Каждую итерацию может генерироваться различное количество новостей. Пусть в -ю итерацию у нас произошло новостей типа и новостей типа . Тогда новостной фон для итерации может быть рассчитан как Новости имеют сложную природу. Каждая новость характеризуется силой 0 и временем возникновения . Она связана с совокупностью агентов c коэффициентами, где количество связей этой новости с конкретными агентами. Также новость связана с совокупностью классификаторов ... c коэффициентами, где количество связей этой новости с конкретными классификаторами. Таким образом, каждая новость через классификаторы может быть связана со многими субъектами, на каждый из которых она влияет с разной силой. Пусть компания-эмитент акций. Она связана с совокупностью классификаторов ... c коэффициентами, где количество таких связей. Соответственно, влияние новости на компанию рассчитывается по формуле, где прямое влияние новости на компанию влияние новости на компанию через классификаторы. Параметры и рассчитываются так 0, если ., если . 0, если . . 0, если . . ., где количество совпадающих классификаторов у новости и компании . По такой схеме рассчитывается влияние новости на компанию . Но каждый агент может по-разному интерпретировать поступающие новости. Например, он может не учитывать некоторые классификаторы или преувеличивать роль других классификаторов, и его формула будет выглядеть несколько по-другому. Некоторые агенты могут вообще не следить за новостями и оперировать только техническими индикаторами. Однако наши эксперименты показали, что наиболее адекватные результаты получаются тогда, когда агенты учитывают эффект аккумуляции и затухания новостей. Допустим, за период произошло внешних событий. В каждый момент они влияли на компанию с силой . Тогда новостной фон в момент за период может быть рассчитан по формуле где скорость затухания новостей время, необходимое для полного затухания новости. В разработанной модели FIMAS выделено несколько подтипов стратегий. Каждая стратегия определяет набор сигналов, в соответствии с которыми трейдер решает, продавать ли ему акции или покупать. В приведенных ниже формулах и алгоритмах используются следующие обозначения стоимость ценных бумаг в портфеле трейдера, принимает значение 0, если у него нет ценных бумаг этого типа критичная стоимость ценных бумаг любого типа в портфеле трейдера, после достижения которой он старается больше их не покупать максимальная стоимость ценных бумаг любого типа в портфеле трейдера стоимость стандартного ордера на покупку продажу, стоимость текущего ордера на покупку продажу, стоимость стандартной комиссии брокера на сумму транзакции текущий бид текущий аск лимит-цена нового ордера текущее значение виртуального времени минимальное время ожидания перед тем, как трейдер продаст ценную бумагу из портфеля время открытия позиции покупки портфеля ценных бумаг типа размер денежных средств трейдера на счету брокера количество ценных бумаг в портфеле текущего трейдера стандартное количество ценных бумаг для ордера на общую сумму количество ценных бумаг для нового ордера количество открытых позиций в портфеле трейдера максимальное количество открытых позиций в портфеле трейдера псевдослучайное число в интервале 0 ... 1 равномерное распределение склонность трейдера к риску, по умолчанию псевдослучайное число в интервале 0 ... 0,3 равномерное распределение. В приведенных ниже формулах и алгоритмах для этой стратегии дополнительно используются следующие обозначения фундаментальная цена ценной бумаги цена, которую трейдер считает справедливой для этой бумаги минимальное отношение между фундаментальной и реальной ценой, при котором трейдер сочтет бумагу инвестиционно привлекательной. По умолчанию оно в интервале 1,005 ... 1,02 равномерное распределение, т. е. от 0,5 до 2 разницы. 1 0 2 3 0 3 0,5 4 . . 1 0 2 3 . если, то иначе если, то 2 иначе . В приведенных ниже формулах и алгоритмах для этой стратегии дополнительно используются следующие обозначения значение уровня новостного фона компании, свидетельствующее, что ценную бумагу следует купить значение уровня новостного фона компании, свидетельствующее, что ценную бумагу следует продать текущее значение уровня новостного фона компании, выпускающей ценную бумагу . 1 0 2 3 2 6 0,5 4 . . 1 0 2 . Напомню, что целью исследования является изучение того, как новости влияют на котировки акций при различной рыночной конъюнктуре, как это в итоге сказывается на доходах трейдеров. Для этого используется программный комплекс FIMAS, имитирующий работу реального рынка ценных бумаг, основанный на описанной выше модели. В рамках эксперимента на рынке существуют один маркет-мейкер, 100 трейдеровновичков, 10 инсайдеров, разное количество фундаментальных и новостных трейдеров. Рассмотрено 3 варианта 1 500 фундаментальных трейдеров, 500 новостных трейдеров 2 200 фундаментальных трейдеров, 800 новостных трейдеров 3 800 фундаментальных трейдеров, 100 новостных трейдеров. Основное предназначение новостных трейдеров в рамках системы приведение цены в соответствие с новостным фоном в краткосрочном периоде, а предназначение фундаментальных трейдеров следование за некоторой фундаментальной ценой. Чтобы осуществить данный эксперимент, нужно запустить программный комплекс FIMAS, открыть в нем демонстрационный проект и запустить симуляцию. Виртуальные агенты начинают в режиме реального времени совершать сделки между собой. После 150 виртуальных дней следует остановить симуляцию и собрать статистику. По итогам эксперимента можно сделать следующие наблюдения. Новостные трейдеры вызывают значительные колебания уровня цен, фундаментальные трейдеры излишне сглаживают ее. Графики изменения цен выглядят реалистично только при одинаковом соотношении новостных и фундаментальных трейдеров, хотя во всех сценариях сохраняется реалистичный вид графиков распределения цен. Из этого можно сделать вывод, что график распределения это критерий правильности реализации механизма двойного аукциона в системе, а график динамики цен критерий реалистичного соотношения агентов. Соотношение новостных и фундаментальных трейдеров на реальных рынках близко к 11 рис. 1. При таких пропорциях соблюдается наиболее реалистичный вид как графика изменения цен, так и графиков изменения активов агентов. При преобладании новостных трейдеров спрэд минимален. Самый большой спрэд достигается при преобладании фундаментальных трейдеров рис. 2. Этим объясняется и отличие доходов маркет-мейкеров при различных сценариях они постоянно теряют активы при преобладании новостных трейдеров и активно богатеют при преобладании фундаментальных ведь эти доходы напрямую зависят от размера спрэда. Причина этого эффекта в том, что маркет-мейкеры не способны эффективно противостоять деятельности новостных трейдеров, т. е. новостные трейдеры покупают много акций в одни моменты и дремлют в другие моменты, тогда как алгоритм работы маркет-мейкера рассчитан на более стабильное соотношение предложения и спроса. Реальные цены акций и фундаментальные очень далеки друг от друга. Однако даже в сценарии преобладания новостных трейдеров фундаментальные трейдеры все равно совершают 30 всех операций на рынке. Это еще одно подтверждение того, что на реальных рынках доля фундаментальных трейдеров очень высока около 30 50 . Существует много других стратегий, которые косвенным образом используют фундаментальный анализ, и за счет этого количество фундаментальных сделок может составлять до 80 всего оборота. Во всех вариантах сценария мы видим, что изменение новостного фона существенно влияет на динамику цен акций см. рис. 1 и 3, цены акций реагируют на все новостные всплески. Фундаментальная цена является не ограничителем этого влияния, а, скорее, фактором, нормализующим эту цену после всплесков. Соотношение фундаментальных и новостных трейдеров определяет величину всплесков и скорость восстановления цены. Если анализировать динамику активов трейдеров, то можно заметить, что инсайдеры действуют не так эффективно, как можно было бы предположить из алгоритма работы стратегии рис. 4. Большинство из них, обладая инсайдерской информацией о будущем новостном фоне, входит в рынок слишком рано, когда цена еще падает, поэтому мало зарабатывают на последующем всплеске. Считаем, что следует видоизменить их стратегию так, чтобы они учитывали не только новостной фактор, но еще и технические индикаторы. Однако следует отметить, что каждый инсайдер имеет собственный набор параметров, и благодаря этому некоторые из них например, 3 и 7 практически не проигрывают на сделках. При преобладании фундаментальных трейдеров активы как фундаментальных, так и новостных трейдеров медленно сокращаются. Фундаментальных слишком много, они конкурируют только друг с другом, что является заранее проигрышным вариантом. Новостных трейдеров слишком мало, чтобы оказывать серьезное влияние на цены, поэтому их ставки на рост цен вместе с новостями оказываются неоправданными. В то же время более умным инсайдерам удается удерживать свои активы на стабильном уровне. Они успевают предугадывать незначительные колебания цен вслед за новостями и играют на них. При преобладании новостных трейдеров и одинаковом количестве новостных и фундаментальных трейдеров динамика активов становится менее предсказуемой см. рис. 4, . Некоторые агенты стабильно теряют активы, некоторые могут резко увеличивать и терять за короткие промежутки времени. Тут проявляются индивидуальные особенности трейдеров, а именно значения констант, которые они используют при принятии решений. На динамику цен акций довольно существенно влияют обе группы трейдеров как новостные, так и фундаментальные. Ни одна из групп не доминирует, их соотношение близко к 11. Активность новостных трейдеров приводит к возникновению первоначальных новостных всплесков фундаментальные трейдеры постепенно уравновешивают цену, приводя ее к справедливому, по их мнению, уровню. Ни одна из этих стратегий не является прибыльной, на реальных рынках успешные трейдеры используют более сложные алгоритмы, учитывающие потенциальное влияние этих двух групп трейдеров на динамику цен. Выявление роли новостного фона и оптимального соотношения торговых стратегий помогло более реалистично моделировать работу биржи в других экспериментах. Также это позволило решить ряд практических задач, связанных с оптимизацией управления биржевыми инвестициями в малоликвидные ценные бумаги. 