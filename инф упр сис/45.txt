АНАЛИТИКО-ИМИТАЦИОННОЕ  ИССЛЕДОВАНИЕ И  ОПТИМИЗАЦИЯ  АЛГОРИТМОВ  АНАЛОГО-ЦИФРОВОГО ПРЕОБРАЗОВАНИЯ  В  УСЛОВИЯХ  ВОЗДЕЙСТВИЯ   ПОМЕХ (ЧАСТЬ 2) 

На основании предложенных автором информационных алгоритмов проведен аналитико-имитационный анализ потенциальных возможностей адекватных алгоритмов аналого-цифрового преобразования поразрядного уравновешивания, в том числе, при воздействии аддитивной помехи. На основе критерия помехоустойчивости разработаны рекомендации по оптимальному выбору параметров адекватных алгоритмов аналого-цифрового преобразования в зависимости от уровня аддитивной помехи. On the basis of the information algorithms proposed by the author, certain methods of analogdigital transformation are investigated in the presence of noise. The results of research allow us to receive recommendations as to an optimum choice of parameters of adequate algorithms of analogdigital transformation depending on noise.

Проанализируем влияние на погрешность аналого-цифрового преобразования посредством исследуемых алгоритмов аддитивной помехи, неизбежно присутствующей в любой электронной схеме. Источниками аддитивной помехи являются электронные компоненты и схемы, из которых состоит АЦП. Поэтому в дальнейшем эту помеху по аналогии с инструментальной погрешностью будем называть, в отличие от погрешности усечения ее свойство позволяет рассматривать эту погрешность как помеху усечения, инструментальной помехой. Анализ реально-информационных алгоритмов существенно облегчает решение задачи исследования влияния инструментальной помехи на погрешности преобразования. Действительно, как следует из отображений 10, 11, их вид не меняется при отличии от нуля инструментальной помехи. Инструментальная помеха и ее суперпозиция вида обладают следующими свойствами, влияющими на отображения 10 и 11 закон распределения вероятностей инструментальной помехи отличен от равномерного закона распределения для любого разряда выполняется следующее очевидное условие для дисперсии суммарной помехи и помехи усечения или 0,083 инструментальные помехи могут возникать как внутри схемы АЦП и таким образом воздействовать на входной сигнал, так и по различным причинам наводиться на его входных электрических цепях адекватной плотностью распределения вероятности инструментальной помехи, как правило, является гауссова плотность с нулевым математическим ожиданием. Указанные свойства, прежде всего, приводят к тому, что для функции распределения вероятности суммарной помехи, даже для случая, когда дисперсия инструментальной помехи значительно меньше дисперсии погрешности усечения, т. е. когда выполняется условие, неравенства в формуле 16 строго не выполняются. Следовательно, изменяются условия для установления тождества между уравновешивающей величиной и входным сигналом, т. е. между состояниями АЦП и структурой входного сигнала, поэтому меняются и условия сходимости уравновешивающей величины к значению входного сигнала. Для того чтобы выяснить степень нарушения сходимости соответствующего алгоритма, перейдем от индикаторного идеально-информационного алгоритма, заданного в виде 13, к его реальному представлению при 1 и 18 или к его модификации Проанализируем первый вариант 18 представления индикаторного алгоритма при условии, что и . Для этого положим вначале 1, тогда Рассмотрим трансформацию плотности распределения вероятности суммарной помехи . Поскольку первое слагаемое распределено по равномерному закону с математическим ожиданием 2, а второе слагаемое по гауссовому закону с нулевым математическим ожиданием, то их композиция с учетом аналитических выводов 1 по составлению композиции равномерной и гауссовой плотностей вероятностей имеет довольно сложный вид где среднеквадратическая ошибка СКО инструментальной составляющей помехи. Гистограммы рис. 7, 8 иллюстрируют трансформацию композиционной плотности распределения вероятностей при различных значениях СКО инструментальной помехи по сравнению с гауссовой плотностью распределения вероятностей для объема выборки 2200. Из рис. 8, в частности, следует, что уже для 0,1 суммарная помеха может принимать отрицательные значения с вероятностью и поэтому условия сходимости реально-информационного и идеально-информационного алгоритмов существенно отличаются. Для того чтобы выяснить характер и степень нарушения сходимости реально-информационного алгоритма по сравнению с идеально-информационным алгоритмом, перейдем от отображения 15 к следующему его представлению 19 В отличие от 15 в усредненном по суммарной помехе, нормированной к текущему кванту 2, эквивалентном представлении алгоритма 19 соответствующая функция распределения 1, даже при равномерно распределенном входном сигнале, отлична от равномерного закона. При крайних значениях аргумента 1, равного нулю или единице, функция распределения 1 уже отличается соответственно от нуля или единицы см. рис. 6. Поэтому, с учетом того, что помеха 1, имеем 20 Из формулы 20 ср. с 17 можно определить динамику изменения искомого коэффициента в зависимости от изменения номера шага итерации 1, 2, . В частности, для 1 получаем четыре возможных варианта для определения значения коэффициента в зависимости от разности между значением входного сигнала и уравновешивающей величиной. Если разность между входным сигналом и уравновешивающей величиной соизмерима с квантом, то с указанными в формуле 20 вероятностями возможен сбой. При рассмотрении случая, когда 2, при условии, что на первом шаге итерации отсутствовал сбой, получаем четыре возможных варианта для определения значения коэффициента в зависимости от разности между значением входного сигнала и уравновешивающей величиной, так как придется анализировать уже 4 комбинации 11, 10, 01, 00, и т. д. Из проведенного анализа следует, что под воздействием инструментальной помехи при определении текущего значения в каждом анализируемом разряде возникают так называемые ошибки первого и второго рода, а именно 1 у входного нормированного к кванту сигнала анализируемый разряд равен нулю, тем не менее, с вероятностью, отличной от нуля, для уравновешивающей физической величины устанавливается для соответствующего разряда значение, равное единице 2 у входного нормированного к кванту сигнала анализируемый разряд равен единице, однако с вероятностью, отличной от нуля, для уравновешивающей физической величины устанавливается для соответствующего разряда значение, равное нулю. Таким образом, для реально-информационного алгоритма нарушаются условия достижения равновесия, присущие для идеально-информационного алгоритма, даже при одинаковом структурировании АЦП и входного сигнала. Степень или вероятность этого нарушения определяется уровнем инструментальной помехи, в результате чего и образуется инструментальная составляющая погрешности преобразования. При этом указанные вероятности ошибок первого и второго родов для принятого уровня аддитивной помехи менее кванта не равны между собой и отличны от нуля только при условии выпадения для входного сигнала минимального и максимального значений наборов, т. е. с довольно малой вероятностью см. рис. 8. Действительно, достаточно одного младшего разряда, отличного от нуля, в минимальном наборе, или одного младшего разряда, отличного от единицы, в соответствующем максимальном наборе, чтобы вероятности ошибок были фактически равными нулю. А это значит, что возникновение ошибки первого и второго родов возможно для первого такта преобразования из всего множества квантованных значений входного сигнала только для двух значений 1, 0, 0 и 0, 1, 1, 1, вероятность осуществления которых для равномерного закона распределения входного сигнала равна 2 . Проанализированный случай иллюстрируется рис. 9, где процесс уравновешивания постоянного сигнала, изменяющегося случайно с равномерной плотностью распределения вероятностей в пределах 127128 посредством 8-разрядного индикаторного алгоритма в присутствии инструментальной помехи с СКО, равной 0,05 от величины кванта, представлен в виде столбчатой диаграммы. Выборка, состоящая из 6 преобразований, включает преобразование, в котором произошел сбой из-за воздействия помехи с указанной величиной СКО. Этот сбой, как это было логически показано, компенсируется на последующих тактах уравновешивания. На графике хорошо различима случайная вариация входного сигнала в пределах 127128, тогда как результат преобразования остается неизменным, кроме случая, когда произошел сбой. Для лучшей различимости случайной вариации входного сигнала в пределах кванта на рисунке диаграмма начинается не с нуля, а со значения, равного 50. Для всех остальных значений входного сигнала указанные ошибки будут отсутствовать. Однако на втором такте итерации, если входной сигнал отличен более чем на один квант от 2, подобные ошибки могут возникнуть уже для четырех случаев, т. е. для кодов 1, 1, 0, 0, 1, 0, 1, 1, 0, 1, 0, 0, 0, 0, 1, 1, вероятность осуществления которых для случая равномерного закона распределения входного сигнала равна 2, и т. д. На последнем такте преобразования ошибки в младшем разряде с соответствующей вероятностью могут возникнуть для любого кода, принадлежащего множеству кодов 2 . В соответствии с формальной логикой анализа напрашивается вывод о возможности возникновения соответствующих ошибок в течение одного цикла преобразования на каждом такте преобразования. Однако реально из-за указанного выше ограничения на величину аддитивной помехи этого не происходит. Действительно, если произошел сбой, например, в старшем разряде, а этот сбой может произойти только для двух указанных выше значений кодов, то на последующих тактах, вплоть до 1-го такта преобразования, кроме младшего разряда, подобные сбои, как это подтверждается анализом выражения 20 и рис. 9, исключаются. Это связано с коррекцией на последующих тактах преобразования ошибки, возникшей на предыдущем такте преобразования. При этом разность между уравновешивающей величиной и входным сигналом на этих тактах преобразования превышает величину кванта и тем самым анализируемую величину суммарной помехи . Аналогичный процесс происходит на втором и последующих тактах преобразования. Пусть . Предположим, что на предыдущих 1 тактах преобразования установлено, что, тогда для 1 минимальное, нормированное к кванту значение входного сигнала равно 2, а при 0 максимальное, нормированное к кванту значение входного сигнала равно Поэтому для 1, 2, 1 получаем 21 Следовательно, в течение одного цикла преобразования при условии, что аддитивная помеха не превышает величины одного кванта, т. е. выполняется неравенство 1, возможны следующие события, связанные с погрешностью преобразования сбой отсутствует с вероятностью, приближающейся к нулю, по мере уменьшения СКО погрешности см. рис. 9 сбой в младшем разряде в большую или меньшую сторону соответственно с вероятностями подтверждается рис. 10, 11 22 возможен сбой в двух младших разрядах с незначительно увеличивающейся вероятностью с ростом в пределах кванта СКО помехи подтверждается рис. 12 и 13. Формулы 21 и 22 с учетом сделанных выше пояснений дают возможность оценить вероятность того, что в течение времени преобразования произойдет сбой, в соответствии с формулой Тогда вероятность правильной работы алгоритма Из этих формул следует, что при указанной величине инструментальной помехи вероятность сбоя в течение всего времени преобразования совсем мало отличается от вероятности сбоя, который может произойти на любом такте преобразования. Проведенным аналитическим анализом целесообразно воспользоваться для планирования и интерпретации результатов имитационного моделирования, в том числе при оценке математического ожидания и СКО погрешности аналого-цифрового преобразования в условиях воздействия аддитивной помехи. Рассмотрим предварительно случай отсутствия инструментальной помехи для индикаторного идеально-информационного алгоритма при преобразовании постоянного входного сигнала, принимающего значение с равномерным законом распределения вероятностей в пределах 512 513. На рис. 10, приведена гистограмма результатов преобразования данного сигнала. Как и ожидалось, следует вывод о равенстве нулю погрешности преобразования. Гистограмме результатов преобразования без помех см. рис. 10, соответствует гистограмма погрешности усечения см. рис. 7. Рассмотрим теперь случай, когда инструментальная погрешность преобразования отличается от нуля, причем приведенная к кванту СКО помехи равна 0,1, т. е. составляет всего 10 от приведенного интервала квантования, равного единице. В этом случае гистограмма результатов преобразования без помех, представленная на рис. 10, отличается от соответствующей гистограммы рис. 10, тем, что в последнем случае появляются дополнительные значения кодов, отличные в большую или меньшую сторону на единицу от основного значения. При этом, как и предсказывалось по результатам аналитического анализа, помеха соответствует закону распределения вероятностей, отличному от равномерного, и часто ты появления дополнительных кодов отличаются друг от друга и в сумме составляют менее 10 от общего объема выборки. Гистограммы погрешностей преобразования, представленные на рис. 8, когда присутствует инструментальная помеха, отвечают законам распределения вероятностей, отличным от равномерного, причем, как это следует из рис. 8, с ростом СКО инструментальной помехи гистограмма погрешности преобразования приближается к гауссовому закону распределения вероятностей. Поскольку инструментальная помеха зависит от элементов схемы АЦП и условий его включения, то не зависит от параметров алгоритма, а ее СКО определяется многими конструктивными, технологическими и другими факторами. Тогда как погрешность усечения зависит от параметров установленного алгоритма аналого-цифрового преобразования, в частности от выбранного числа разрядов. Поэтому уменьшить суммарную помеху, возникающую при аналого-цифровом преобразовании, можно за счет уменьшения погрешности усечения, т. е. за счет увеличения числа разрядов . Подтверждение этого вывода, наряду с наглядным представлением конкретных количественных примеров по оценке погрешности АЦП, а также других полезных сведений о поведении исследуемых алгоритмов в условии воздействия помех, целесообразно получить посредством имитационного моделирования, что значительно проще, чем проведение соответствующих аналитических расчетов и, тем более, экспериментов. Результаты моделирования наряду с аналитическими выводами составят достаточно полную картину по динамике основных составляющих погрешности, помехоустойчивости и другим особенностям поведения алгоритмов АЦП в условиях воздействия помех. Заметим, что если входной сигнал распределен, например, по гауссовому закону, то вероятность сбоя на первом такте уравновешивания будет больше, чем для равномерного закона распределения входного сигнала на этом же такте. При этом вероятность сбоя для первого такта будет больше, чем суммарная вероятность сбоя на втором такте, в 1,173 раза, тогда как для равномерного распределения входного сигнала, наоборот, вероятность сбоя во втором такте увеличивается по сравнению с первым тактом в два раза. Тем не менее, вероятность сбоя в течение всего цикла аналого-цифрового преобразования практически не зависит от закона распределения вероятности входного сигнала. Особый интерес связан с оценкой помехоустойчивости алгоритмов АЦП и с разработкой рекомендаций по рациональному выбору числа разрядов АЦП при условии заданной величины СКО аддитивной помехи. Для этого сначала проанализируем динамику изменения случайной составляющей погрешности результатов преобразования при фиксированных значениях СКО помехи и входного сигнала, равного половине приведенного к кванту диапазона преобразования, в зависимости от изменения числа разрядов в индикаторном реально-информационном алгоритме. Отметим, что особенностью реально-информационного алгоритма является то, что при фиксированных значениях входного сигнала и СКО помехи с ростом числа разрядов увеличивается число квантов, укладывающихся в установленном уровне входного сигнала и СКО помехи. В связи с этим сохраняется постоянство приведенной погрешности усечения, равной единице, с одной стороны, и увеличиваются в соответствующее число раз приведенные значения входного сигнала и СКО помехи, с другой стороны. С учетом этого на рис. 1114 отложенные на оси абсцисс увеличивающиеся значения приведенного к кванту входного сигнала фактически соответствуют постоянному исходному значению входного сигнала, равного половине диапазона преобразования. То же можно сказать и о приведенном значении СКО инструментальной помехи, отложенном на оси абсцисс рис. 15. Как следует из гистограмм значений результатов преобразования см. рис. 1214, рост числа разрядов при фиксированных значениях СКО помехи и входном сигнале приводит к увеличению вероятностей ошибок первого и второго рода. Поэтому возникает вопрос, будет ли при этом увеличиваться СКО погрешности преобразования, и если да, то в каком соотношении это увеличение будет с динамикой изменения числа разрядов и соответственно с оценкой помехоустойчивости исследуемого алгоритма в целом На этот вопрос можно найти ответ в результате анализа графика изменения приведенного значения СКО погрешности преобразования в зависимости от изменения числа разрядов алгоритма при фиксированном значении СКО инструментальной помехи см. рис. 15. Напомним, что инструментальная помеха воздействует на результаты сравнения входного сигнала с уравновешивающей величиной независимо на каждом такте уравновешивания. Анализ динамики графика на рис. 15 показывает, что при существенном превышении СКО погрешности усечения СКО инструментальной помехи рост числа разрядов и, следовательно, величины, приведенной к кванту инструментальной помехи, приводит к незначительному росту погрешности преобразования. Однако динамика роста СКО погрешности преобразования изменяется нелинейно, причем темпы роста погрешности преобразования по сравнению с темпом роста приведенной СКО инструментальной помехи увеличиваются по мере увеличения числа разрядов. Это особенно наглядно показано на рис. 16, где представлены графики изменения СКО погрешности преобразования и СКО помехи в зависимости от изменения числа разрядов. Точка пересечения графиков определяет число разрядов, ниже которого при заданном уровне инструментальных помех нерационально устанавливать количество рабочих разрядов в используемом или проектируемом АЦП. Для количественной характеристики и наглядного представления темпа роста погрешности преобразования в зависимости от увеличения приведенной к кванту СКО инструментальной помехи целесообразно ввести коэффициент помехоустойчивости вида где приведенная величина СКО инструментальной помехи приведенная величина СКО погрешности преобразования. Все указанные в формуле переменные зависят от установленного числа разрядов . На рис. 17 показаны графики изменения коэффициента помехоустойчивости в зависимости от роста числа разрядов для двух значений СКО помехи, отличающихся в два раза. По мере увеличения числа разрядов коэффициент помехоустойчивости меняется по нелинейному закону, и при 16 разрядах наступает эффект насыщения, т. е. увеличение числа разрядов не приводит к росту коэффициента помехоустойчивости. Причем, равенство 1 имеет место для случая, когда для соответствующих СКО выполняется равенство, т. е. в точках перегиба графиков рис. 17, где производная по кривым графиков равна единице касательная к графику образует с осью абсцисс 45 . Точка перегиба является нижней границей интервала на оси абсцисс, выше которой при заданном значении приведенной СКО помехи для коэффициента помехоустойчивости выполняется неравенство 1. Верхняя точка интервала определяется числом разрядов, при котором еще наблюдается рост коэффициента помехоустойчивости. Согласно графику рис. 17, это число разрядов равно 15. Изменение СКО приведенной погрешности приводит фактически к сдвигу соответствующего графика, что позволяет легко предсказать значения коэффициента помехоустойчивости для других значений СКО помехи. На рис. 18 приведен график погрешности смещения индикаторного и знакового алгоритмов в зависимости от изменения СКО аддитивной помехи. Как и было доказано в работе 2, для знакового алгоритма с увеличением СКО инструментальной помехи погрешность смещения стремится к нулю, тогда как для индикаторного алгоритма всегда присутствует погрешность смещения, близкая к половине кванта. Для уменьшения погрешности смещения для индикаторного алгоритма можно ввести дополнительный такт преобразования, на котором из результата преобразования на 1-м такте вычитается половина кванта. В этом случае алгоритм 1 можно представить в виде Таким образом, как показал анализ реальноинформационного алгоритма, инструментальная помеха, несмотря на определенный эффект ее фильтрации, приводит, естественно, к ухудшению работы АЦП, т. е. к увеличению его случайной составляющей погрешности. Для более эффективной борьбы с этой помехой, а также для ослабления воздействия других видов помех предложены и широко применяются алгоритмы аналого-цифрового преобразования 3, отличные от рассмотренных алгоритмов поразрядного уравновешивания. Однако, даже не меняя принцип поразрядного уравновешивания в рассмотренных алгоритмах, можно существенно повысить их помехоустойчивость к инструментальной помехе путем введения мажоритарной функции сравнения входного сигнала с уравновешивающей величиной. В заключение отметим, что рассматриваемый в настоящей работе подход к алгоритмическому описанию информационных процессов в АЦП, с одной стороны, близок к развитой в работах Я. З. Цыпкина см., например, 4 информационной теории идентификации. С другой стороны, разработанная в статье теория алгоритмов аналогоцифрового преобразования имеет существенные отличия от известной теории идентификации. Близость к теоретической постановке и решениям задач идентификации следует воспринимать в том смысле, что в настоящей работе также решается задача минимизации заданной функции меры, в том числе в условиях воздействия помех и, тем самым, в рамках работ 4, 5 может интерпретироваться как оптимальное оценивание входного сигнала при заданных ограничениях. Существует еще более общее понятие наблюдаемость 5, которое в теории автоматического управления часто также отождествляют с измерением. Некоторые авторы 6 прямое измерение относят к методам идентификации. Очевидно, общее, что отождествляет эти понятия, цель, заключающаяся в получении информации в результате проведения того или иного действия над входным сигналом. Отличие этих представлений содержится в объекте исследования, способе оценки достоверности, в виде представления и объеме получаемой информации. Наиболее значительные отличия состоят в следующем при идентификации по входному тестовому и выходному, не обязательно измеренному, а просто оцениваемому тем или иным способом сигналу, получают информацию в том или ином виде об объекте исследования при измерениях, наоборот, по известной структуре средства измерения и выходному сигналу получают информацию о входном сигнале с нормируемой погрешностью различны способы оценки достоверности получаемой числовой информации техническими средствами, заключающейся в нормировке погрешности 7, 8 и, особенно для измерения, возможности передачи единицы измерения на конечный результат. Если нормирование погрешности и контролируемая передача единицы измерения невозможны, то в этом случае можно получить только общие количественные данные и, тем самым, общие представления об исследуемом явлении или процессе в виде результатов наблюдения, в том числе и при решении задачи идентификации. Простой пример о наличии или отсутствии ветра и, приближенно, о его силе можно судить по результатам наблюдения за поведением волн на водной поверхности или листьев деревьев. Но если количественно связать посредством градуировочной характеристики величину амплитуды колебания листьев деревьев или волн с силой или скоростью ветра и при этом нормировать погрешность с соответствующей передачей единицы измерения от эталона который еще для данного примера нужно создать, то это будет уже измерение силы или скорости ветра. Таким образом, отличие рассмотренного в настоящей работе подхода заключается не только в конечной цели применения этих алгоритмов и в постановке исходной задачи, а и в решении основной измерительной задачи в получении числового значения некоторой физической величины с нормируемой погрешностью путем ее сравнения с единицей измерения, представленной в опорной образцовой величине. Поэтому целью алгоритмов аналого-цифрового преобразования, в отличие от итерационных алгоритмов идентификации, рассмотренных в работах 4, 5, является не оптимальная оценка структуры или параметров исследуемого объекта, а измерение, которое отождествляется с преобразованием в цифровой код соответствующих значений аналогового входного сигнала с нормируемой погрешностью. Эта цель достигается за счет введения уравновешивающей величины, которая определяет опорную образцовую физическую величину в соответствии с алгоритмом, реализуемым схемой АЦП см. рис. 2, по результатам ее сравнения с входным сигналом. Отметим, что прямая задача идентификации возникает при поверке АЦП, так как структура АЦП априори известна, и в момент его поверки или для определения не метрологических, а точностных характеристик тестирования она отождествляется в пространстве состояний с соответствующей структурой входного тестируемого сигнала. Следовательно, в АЦП входной образцовый или тестовый сигнал поступает непосредственно на вход сравнивающего устройства, в котором выполняется операция сравнения с сигналом выхода в терминах теории идентификации настраиваемой модели, реализуемой в АЦП. Технически выходом настраиваемой модели, реализуемой в АЦП, является аналоговый сигнал ЦАП, по которому и осуществляется так называемая параметрическая идентификация или диагностика 9 состояния АЦП в целом. Если и имеется технический объект между входным сигналом и непосредственным входом АЦП, то он имеет единичную передаточную функцию, поэтому исключается из рассмотрения и может тестироваться отдельно например, усилитель-повторитель, который может применяться при необходимости согласования импеданса входа АЦП с выходным импедансом источника аналогового сигнала, или устройство выборки или хранения. Заметим, что поверка или тестирование АЦП может проводиться и по испытательному входному сигналу, который одновременно подается на поверяемый и образцовый АЦП, а диагностика осуществляется по сравнению их выходных сигналов. Для учета всех возможных источников погрешности, возникающих при технической реализации алгоритма, в том числе мультипликативной составляющей, необходимо ввести в исходные алгоритмы дополнительные влияющие факторы, существенно усложняющие и изменяющие общий вид этих алгоритмов. Однако основной вес в полную погрешность преобразования вносит аддитивная составляющая помехи. Исследованию данной помехи, в определенной степени, была посвящена работа 2, тем не менее, в предлагаемой работе не только проведен наиболее полный аналитикоимитационный анализ влияния аддитивной помехи на метрологические характеристики АЦП, а и разработаны рекомендации по оптимизации параметров АЦП в условиях воздействия помех с учетом его конкретных количественных данных. 