АНАЛИЗ НАДЕЖНОСТИ ЦИФРОВЫХ УСТРОЙСТВ  СО СТРУКТУРНЫМ РЕЗЕРВИРОВАНИЕМ  И ПЕРИОДИЧЕСКИМ ВОССТАНОВЛЕНИЕМ  РАБОТОСПОСОБНОГО СОСТОЯНИЯ УЗЛОВ 

Предлагается метод оценки надежности цифровых устройств, представленных в виде сети троированных узлов, учитывающий цикличность вычислительных процессов и периодическое восстановление информации в узлах. Метод основан на разбиении устройства на ячейки с независимыми отказами. Для произвольной ячейки предложена приближенная оценка вероятности безотказной работы для случая, когда период восстановления информации в узлах много меньше среднего интервала между отказами. Получена зависимость интенсивности отказов ячейки от периода восстановления информации и показано, что эта зависимость линейная независимо от структуры связей в ячейке.

Анализ влияния радиационных эффектов на информационные процессы в цифровых устройствах 1, 2 подтверждает актуальность совместного использования методов повышения устойчивости к радиационным воздействиям на различных уровнях организации системы. Основным методом, применяемым на уровнях функциональной организации и схемотехнической реализации устройств управления и обработки информации, является структурное резервирование узлов с использованием голосующих элементов мажоритаров для блокирования отказов. В статье 2 на основе аналитического обзора работ по влиянию радиации на цифровую аппаратуру установлено, что восстанавливаемые отказы, проявляющиеся в искажении информации, возникают значительно чаще, чем невосстанавливаемые отказы, проявляющиеся в изменении полупроводниковой структуры. Показано также, что существенно повысить надежность устройства можно путем организации циклической работы узлов с периодическим восстановлением информации. В ходе проектирования необходимо осуществить выбор оптимального варианта резервирования с учетом процессов восстановления информации при ограничениях на аппаратные ресурсы и быстродействие устройства. Для выбора оптимального варианта необходимо иметь механизм построения оценки параметров надежности при заданном варианте резервирования и организации вычислительных процессов. В работе 3 предложена модель, позволяющая оценить надежность троированного узла при периодическом восстановлении информации. Оценка основана на предположении, что работа узла организована циклически, и с началом нового цикла происходит загрузка в узел новой информации, что обеспечивает восстановление узла после отказа, если он имел место на предыдущем цикле. Показано, что при низкой вероятности отказа за один цикл работы узла и при большом количестве циклов интенсивность потока отказов троированного узла пропорциональна периоду восстановления информации. Цифровое устройство можно представить как сеть резервированных узлов. Будем рассматривать широко распространенный на практике вариант резервирования, когда каждый узел троируется и тройки узлов, соединены через троированные мажоритары . Пример такой системы показан на рис. 1. Будем считать систему исправной, если в каждой тройке элементов хотя бы два формируют правильное выходное значение. В свою очередь, элемент формирует правильный выход, если он исправен и на его входы поступают правильные значения. Мажоритар формирует правильное значение, если он исправен и хотя бы на два его входа поступают правильные значения. Оценка надежности сети троированных узлов даже при известных параметрах элементов является сложной задачей, так как отказы узлов в сети в общем случае не являются независимыми. Рассмотрим устройство, структура которого представлена на рис. 1. Сбой в мажоритаре приводит к отказу узлов и, причем восстановление информации в узлах произойдет только с началом их следующего цикла работы. Для оценки вероятности исправности системы необходимо определить все сочетания отказов элементов, при которых система остается исправной, и вероятности наступления данных комбинаций отказов. Далее мы построим аналитическую оценку, параметрами которой являются интенсивности отказов элементов и периоды их работы. Система, представляющая собой сеть из троированных узлов, соединенных мажоритарами с соблюдением ряда ограничений, может быть разбита на домены наборы не связанных друг с другом узлов с голосующим устройством на входе и ациклической структурой 4. Рассмотрение системы как множества доменов удобно тем, что в силу наличия в доменах голосующих элементов на входе отказы доменов происходят независимо, что позволяет существенно сократить сложность задачи анализа системы в некоторый момент времени вероятность нахождения системы в исправном состоянии равна произведению вероятностей исправности всех доменов. Близкий подход, использующий разбиение системы на группы резервированных узлов, предложен в работе 5. Ее авторы показывают, что любая сеть троированных элементов TMR network может быть разбита на ячейки TMR cells. На рис. 2 пунктиром приведен пример сети TMR network, где выделены TMR cells . Ячейка состоит из троек мажоритаров и троек резервированных модулей. Функция работоспособности ячейки задается как условие, что в каждой тройке модулей, входящей в ячейку, как минимум два сформируют правильное значение т. е. будут исправны они сами и все мажоритары на их входе. В работе 5 предложен алгоритм численного расчета надежности ячейки, однако он не позволяет учесть цикличность работы элементов и процессы восстановления информации. Отметим, что наличие мажоритара на входе некоторой группы не связано с привязкой мажоритара к входу или выходу блока. В любом случае граф, описывающий структуру устройства, можно разбить на ячейки или домены для расчета надежности. В случае размещения мажоритаров на выходах групп узлов количество мажоритаров может быть несколько меньше, однако несколько групп резервированных узлов могут попасть в одну ячейку, что усложнит расчет. Рассмотрим пример сети, приведенный на рис. 2. В ячейке выходы узлов не являются выходами ячейки, а используются как входы мажоритаров . Выделение групп и в отдельную ячейку невозможно, поскольку узлы связаны по входу непосредственно с мажоритарами . Наличие у ячейки многослойной структуры, когда она включает мажоритары, не являющиеся входными элементами ячейки, усложняет задачу анализа, так как не позволяет построить простой критерий допустимости заданной комбинации отказов. Не изменяя структуры связей, можно рассматривать выходы узлов как выходы ячейки, а входы узлов как входы ячейки. Тогда мы получим структуру, показанную на рис. 3. С точки зрения расчета надежности узлы и можно рассматривать как один узел. В результате ячейка представляется двухслойной структурой в первом слое стоят мажоритары, а во втором резервированные узлы. Входы каждого узла подключены к одному или нескольким мажоритарам. Любую ячейку, применяя описанное преобразование ко всем мажоритарам, не являющимся входными элементами, можно привести к двухслойному виду. Далее будем строить оценки надежности такой преобразованной ячейки. Пусть множество троек узлов modules ячейки, множество троек мажоритаров voters, . К выходу каждого мажоритара подключен один или несколько узлов. Найдем функцию out 2, определяющую множество троек узлов, подключенных к выходам заданной тройки мажоритаров. Например, на рис. 2 out, Для построения оценки надежности ячейки с учетом процессов восстановления рассмотрим более подробно отказы в узлах и мажоритарах. Пусть поток отказов каждого узла и каждого мажоритара пуассоновский с интенсивностью и соответственно. Пусть обновление информации в узле выполняется периодически с периодом . Будем рассматривать поведение ячейки на интервале времени таком, что кратно любому, причем для 1, 1 и 1, 1. Отказы в узлах и мажоритарах по-разному влияют на работоспособность ячейки. Отказ в узле нарушает его работоспособность до конца текущего периода обновления. Ячейка и вся система выходит из строя, если на каком-либо периоде обновления произошел отказ в двух или более экземплярах какого-либо узла. Сам по себе информационный отказ мажоритара не приводит к отказу ячейки, поскольку мажоритар не имеет элементов памяти, и состояние его выходов восстанавливается, как только рассасывается заряд, порожденный попаданием частицы. Однако отказ мажоритара вызывает отказ всех подключенных к нему узлов, причем отказ в узле устраняется только с началом следующего цикла обновления соответствующего узла. Ячейка откажет, если отказы в мажоритарах в одном или нескольких произойдут на одном цикле обновления некоторого узла и выведут из строя хотя бы два его элемента. Поскольку узлы имеют пуассоновский поток отказов, вероятность ровно одного отказа в элементе за период равна Вероятность двух отказов равна Будем рассматривать разложение функции вероятности безотказной работы ячейки по степеням до второй степени. Из приведенных выражений видно, что для этого достаточно рассмотреть случаи возникновения нуля, одного и двух отказов в элементах. Рассмотрим вероятность исправности ячейки как сумму вероятностей трех несовместных событий, когда произошло ни одного, один и два отказа Случаи трех и более отказов рассматривать не будем, поскольку это величины малого порядка, и их разложение в степенной ряд имеет слагаемые со степенями не менее трех. Вероятность того, что не отказал ни один элемент в тройке, равна Для нуля отказов имеем При ровно одном отказе в любом элементе система остается работоспособной. Найдем вероятность ровно одного отказа в тройке узлов Тогда вероятность одного отказа узла в ячейке и отсутствия отказов в мажоритарах Аналогично вероятность одного отказа в мажоритаре Вероятность возникновения ровно одного отказа Оценим теперь вероятность исправности ячейки при двух отказах где количество всех троек в ячейке вероятность возникновения по одному отказу в тройках и если то вероятность двух отказов в одной тройке апостериорная вероятность того, что система останется исправной после двух таких отказов вероятность того, что в остальных тройках отказов не будет. При разложении в ряд по степеням получим 1 . Поскольку мы рассматриваем разложение до второй степени, данным множителем можно пренебречь, и далее он не указывается. Будем отдельно рассматривать взаимоисключающие варианты, когда отказы возникли в различных тройках узлов, в одной тройке узлов, в различных тройках мажоритаров, одной тройке мажоритаров, мажоритаре и узле В отличие от приведенных ранее рассуждений здесь необходимо отдельно рассматривать узлы и мажоритары. Для случая одного отказа в двух различных тройках узлов система при этом всегда остается исправной Для случая двух отказов в одной тройке узлов важно, произошли ли отказы в одном экземпляре или в разных. Если отказы произошли в одном экземпляре, система останется исправной. Если отказы произошли в разных экземплярах на одном периоде обновления, система откажет, иначе останется исправной. Найдем вероятность двух отказов в тройке вероятность возникновения отказов в различных экземплярах узла вероятность возникновения двух отказов в одном экземпляре узла. Вероятность двух отказов равна вероятность того, что два отказа произойдут в одном экземпляре при условии, что сбои произошли, равна 13 вероятность того, что два отказа произойдут в разных экземплярах при условии, что сбои произошли, равна 23 вероятность того, что система останется исправной при условии, что два отказа произойдут в одном экземпляре, равна 1 вероятность того, что система останется исправной при условии, что два отказа произойдут в разных экземплярах, равна вероятности того, что отказы не произойдут на одном цикле обновления, и составит Вероятность отказа в двух различных мажоритарах и составляет 9 . Система откажет, если отказы произойдут на одном цикле обновления хотя бы для одного узла, подключенного к обоим мажоритарам, причем отказы произойдут в разных элементах тройки Можно показать, что вероятность появления отказов на одном цикле обновления составляет где 1 2, а max . При кратных периодах обновления в узлах 1. Если два мажоритара, в которых произошли отказы, не имеют общих выходных узлов, такое событие не может вызвать отказа ячейки. Учтем этот случай, определив 0 при out out . Вероятность появления отказов в разных элементах при условии, что отказы возникли, составляет 23. Тогда вероятность исправности ячейки при двух отказах в различных тройках мажоритаров Вероятность возникновения двух сбоев в тройке мажоритаров составляет Аналогично предыдущему случаю, система откажет, если отказы произойдут на одном цикле обновления хотя бы для одного узла, подключенного к мажоритару, причем отказы произойдут в разных элементах тройки max . Осталось рассмотреть случай, когда возникает один сбой в мажоритаре и один в узле. Система откажет, если узел подключен к данному мажоритару и если отказы произойдут на одном цикле обновления, причем в разных элементах. Определим, следующим образом Вероятность возникновения двух отказов в мажоритаре и узле Тогда Построим теперь выражение для, суммируя выражения, полученные для, и выполняя сокращения слагаемых Получим теперь оценку вероятности исправного состояния системы через время после старта. Пусть . Тогда Подставляя, получаем, что где Таким образом, для произвольной ячейки с двухслойной структурой, показанной на рис. 4, получена оценка вероятности безотказной работы с учетом процессов восстановления информации в узлах. Из полученного выражения видно, что суммарная интенсивность потока отказов ячейки линейно зависит от периода восстановления информации. Поскольку отказы в ячейках независимы, вероятность исправности системы составит где вероятность исправности -й ячейки. Периоды восстановления узлов различных ячеек могут быть разными. Предложенный метод расчета надежности устройств учитывает периодичность процессов в резервированных узлах, а также структуру информационных связей, расположение и параметры надежности мажоритаров. Учет влияния мажоритаров на надежность устройства особенно важен при резервировании на уровне отдельных регистров или операционных узлов, когда сложность мажоритара сравнима со сложностью резервируемого узла, а количество мажоритаров велико. Метод может быть обобщен на узлы, защищенные не троированием, а помехоустойчивым кодированием информации. Полученные результаты позволяют не только рассчитывать надежность, но и решать задачи синтеза. Можно планировать распределение ненадежности по узлам с учетом их уязвимости к внешним воздействиям и рассчитывать необходимые периоды восстановления. Это позволяет разработать методику проектирования устройств с учетом требований ко всем трем показателям надежности, сложности реализации и быстродействию. 