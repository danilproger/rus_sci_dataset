УДОСТОВЕРЯЮЩИЕ ФЕДЕРАЦИИ НАУЧНО-ОБРАЗОВАТЕЛЬНЫХ СЕТЕЙ 

Статья посвящена удостоверяющим федерациям научно-образовательных сетей, которые сегодня объединяют огромное количество информационно-вычислительных ресурсов, находящихся в разном организационном, административном и государственном подчинении и требующих авторизации. Все большее распространение приобретают технологии авторизации, при которых аутентификация пользователя осуществляется обращением к его институту. Группа институтов, договорившаяся о взаимном доступе к своим ресурсам, выработавшая общую политику и механизм удостоверения пользователей и реализовавшая их на организационном и техническом уровнях, образует удостоверяющую федерацию. Функционирование федерации и ее технических служб обеспечивается постоянно работающими коллективами, решающими три основные задачи: эксплуатации, развития и поддержки пользователей. Разнообразие и международный характер научных проектов обусловливают необходимость взаимодействия федераций и создания объединенной удостоверяющей системы в международном масштабе.  Описаны структура и механизмы удостоверяющих федераций европейских научно-образовательных сетей eduroam и eduGAIN, основанных на разных механизмах обмена аутентификационной информацией, в которых принимает участие Межведомственный суперкомпьютерный центр Российской академии наук (МСЦ РАН).  Организация федеративного взаимодействия актуальна для российской национальной сети науки и образования, которая является объединением ведомственных или проблемно-ориентированных сетей.  МСЦ РАН возглавляет работы по формированию удостоверяющих федераций российской национальной сети науки и образования и поддерживает их организационное и техническое взаимодействие с европейскими удостоверяющими федерациями. Созданная МСЦ РАН удостоверяющая федерация российского проекта eduroam открыта для всех российских научных и образовательных организаций.  

 Научно-образовательные сети сегодня объединяют огромное количество информационно-вычислительных ресурсов, находящихся в разном организационном, административном и государственном подчинении. Научные ресурсы требуют авторизации, например, для контроля соблюдения прав интеллектуальной собственности, определения прав пользователя и т.д. Классическая авторизация предполагает регистрацию пользователя и создание учетной записи на каждом из ресурсов даже при разовом обращении к нему. Для регистрации требуется подтверждение личности и полномочий пользователя, как правило, посредством общения или переписки администрации ресурса и института, в котором он работает. Из-за большого числа пользователей и ресурсов рутинная операция регистрации требует неоправданных затрат времени и человеческих усилий, поэтому в научно-образовательных сетях все более широкое распространение приобретают технологии авторизации, при которых аутентификация пользователя осуществляется обращением к его институту. Естественно, институт, в котором работает пользователь, и институт, располагающий интересующим его ресурсом, должны договориться о признании пользователей и защищенном обмене информацией, необходимой для авторизации. Обычно о взаимном доступе к ресурсам договариваются несколько институтов, вырабатывают общую политику и механизм удостоверения пользователей. Такие группы институтов называют удостоверяющей федерацией. Как правило, удостоверяющая федерация формируется в пределах одного проекта, одного ведомства, одной страны. Разнообразие и международный характер научных проектов обусловливают необходимость взаимодействия федераций и создания объединенной удостоверяющей системы в международном масштабе. Межведомственный суперкомпьютерный центр Российской академии наук принимает участие в двух европейских проектах по развитию удостоверяющих систем в научнообразовательных сетях, основанных на разных механизмах обмена аутентификационной информацией, eduroam 1 и eduGAIN 2. Eduroam Проект eduroam направлен на развитие защищенного сетевого роуминга для научно-образовательного сообщества. Цель сервиса предоставить посетителям в институтах и кампусах автоматическое подключение к сети Интернет при включении ноутбука, планшета или смартфона. Сервис реализуется в сетях с контролем доступа к портам 802.1X 3 с использованием системы аутентификации на основе иерархии проксисерверов проверки подлинности . При включении ноутбук запрашивает у устройства контроля доступа подключение к сети . На основании доменного имени определяется маршрут запроса в иерархии проксисерверов RADIUS до провайдера идентификации, и ему передается шифрованная часть запроса. Запрос шифруется открытым ключом SSL-сертификата провайдера идентификации, поэтому имя и пароль пользователя доступны только ему. Провайдер идентификации проверяет имя и пароль пользователя по локальной базе данных и возвращает ответ об успехе или провале аутентификации сервис-провайдеру обратно по цепочке прокси-серверов . Определение маршрута запроса в иерархии прокси-серверов RADIUS производится на основе разбора доменого имени аналогично разбору доменных имен в службе доменных имен. Допустим, пользователь использует для авторизации у сервис-провайдера sp.tld1 полное имя useridp.tld2. Доменное имя провайдера идентификации idp.tld2. Если домен первого уровня сервис-провайдера и провайдера идентификации совпадают, FLRS может перенаправить запрос непосредственно провайдеру идентификации, если нет, запрос перенаправляется вверх по иерархии радиус-серверу верхнего уровня . Ответ провайдера идентификации передается обратно по цепочке idp.tld2 FLRS tld2 TLRS FLRS tld1 sp.tld1. Иерархия серверов RADIUS в eduroam построена следующим образом. Передача данных между серверами RADIUS защищается шифрованием открытыми ключами их SSL-сертификатов. Домены первого уровня в системе eduroam построены по географическому принципу, и каждой стране соответствует домен первого уровня. Поэтому серверы RADIUS федеративного уровня называют также серверами национального уровня . В Российской Федерации за развитие проекта eduroam отвечает МСЦ РАН, который создал и поддерживает FLRSNLRS домена ru, регистирует и подключает домены российских научно-образовательных организаций. Российская Федерация входит в европейскую конфедерацию eduroam, два сервера ETLRS в Дании и Нидерландах поддерживаются транс-европейской ассоциацией научнообразовательных сетей TERENA. Помимо европейской конфедерации, имеются конфедерация eduroam США, Канады, Азиатско-Тихоокеанского региона. Взаимодействие конфедераций осуществляется на уровне TLRS. Таким образом, пользователь из России может воспользоваться eduroam в Австралии или Канаде. В сентябре 2012 года в проекте eduroam участвовали 58 стран. Входящие в европейскую конфедерацию eduroam европейские страны заключили рамочное соглашение об использовании сервисов eduroam закрытым сообществом научных и образовательных организаций и разработали формализованные операционные и технические требования к сервису eduroam в Европе. Рамочное соглашение описывает общие требования к федерациям, требования по защите передаваемой информации и технические требования по ее эксплуатации. Федерация должна установить инфраструктуру eduroam и поддерживать ее в соответствии с разработанными конфедерацией требованиями к сервису, обеспечивать поддержку конечных пользователей, участвовать в работе исполнительного комитета, предоставлять информацию для глобальной системы мониторинга eduroam, поддерживать веб-сайт с информацией об использовании eduroam конечными пользователями и подключении институтов. Федерация должна гарантировать, что учетные данные пользователя останутся закрытыми, поэтому все институты-участники должны следовать совместно принятому регламенту безопасности. Eduroam используется прежде всего для предоставления доступа к сети гостевого института и Интернет. Какие-либо средства, позволяющие ранжировать пользователей для предоставления им разных привилегий доступа к разным ресурсам, в настоящее время не применяются. Но в МСЦ РАН разрабатывается механизм, позволяющий сервис-провайдеру определить принадлежность пользователя к той или иной группе в зависимости от ведомственной принадлежности или проекта и назначить ему те или иные сетевые ресурсы. Разрабатываемый механизм полностью совместим с существующей инфраструктурой eduroam, требуется изменение настроек только сервис-провайдеров, которые дифференцируют предоставляемые ресурсы или привилегии. EduGAIN Удостоверяющая федерация объединение институтов в научно-образовательных сетях, предоставляющих так называемую технологию единого входа для доступа к своим ресурсам. Обычно для этого используется архитектура Shibboleth 5, основанная на архитектуре SAML 6. Сервис-провайдер получает запрос от пользователя на доступ к ресурсу и перенаправляет UA, используя HTTP REDIRECT, на службу DS для выбора провайдера идентификации, то есть домашнего института пользователя. Если, например, программный агент пользователя UA является браузером, пользователь будет перенаправлен на страницу, где ему предложат выбрать провайдера идентификации из списка. Далее служба DS перенаправляет UA провайдеру идентификации IdP . Пользователь вводит свой логин и пароль на странице провайдера идентификации, который проверяет их, используя локальную базу пользователей. Провайдер идентификации генерирует утверждение на языке SAML для сервис-провайдера, включающее некоторый набор атрибутов, позволяющий сервис-провайдеру принять решение об авторизации данного пользователя, и перенаправляет его сервис-провайдеру через UA. На основании полученных от провайдера идентификации данных сервис-провайдер принимает решение об авторизации данного пользователя для доступа к ресурсу. Сообщения, которыми обмениваются сервис-провайдер и провайдер идентификации, шифруются с использованием их SSL-сертификатов. Удостоверяющая федерация является объединением сервис-провайдеров и провайдеров идентификации, договорившихся о предоставлении доступа к ресурсам на основе вышеописанной технологии и в соответствии с некоторой общей политикой. Такая политика, в частности, описывает информацию о пользователе, предоставляемую провайдером идентификации сервис-провайдеру, процедуры включения сервис-провайдеров и провайдеров идентификации в службу каталогов, требования к ним, процедуры поддержки пользователей и т.д. В МСЦ РАН проводятся работы по созданию удостоверяющей федерации Российской академии наук, обеспечивающей взаимную аутентификацию при доступе к ресурсам институтов РАН. Проект eduGAIN это комплекс технических и организационных мер для обеспечения взамодействия удостоверяющих федераций научнообразовательных сетей. Предполагается, что удостоверяющими федерациями в eduGAIN выступают национальные научно-образовательные сети участники проекта GEANT3, однако это могут быть и иные научно-образовательные объединения, поскольку в национальной научно-образовательной сети возможно существование нескольких связанных с наукой и образованием объединений. В настоящее время службы eduGAIN используются для управления персональным доступом к веб-сервисам, однако в перспективе предполагается ее развитие и использование для других сервисов. Службы обмена метаданными eduGAIN обеспечивают сбор метаданных от федераций-участников, их публикацию и распределение между участниками. Федерацииучастники имеют возможность настраивать для разных федераций фильтрацию передаваемых и принимаемых данных. Опыт создания федеративных сервисов в проекте GEANT показывает, что для создания работающего механизма, прежде всего технологических решений, необходимо организационное взаимодействие. Все федерации или их союзы опираются на формальное описание сервиса и правила взаимодействия, именуемые политикой. Функционирование федерации и ее технических служб обеспечивается постоянно работающими коллективами, решающими три основные задачи эксплуатации, развития и поддержки пользователей. Организация федеративного взаимодействия актуальна для российской национальной сети науки и образования, которая является объединением ведомственных или проблемно-ориентированных сетей. МСЦ РАН возглавляет работы по формированию удостоверяющих федераций российской национальной сети науки и образования и поддерживает их организационное и техническое взаимодействие с европейскими удостоверяющими федерациями. Созданная МСЦ РАН удостоверяющая федерация российского проекта eduroam открыта для всех российских научных и образовательных организаций. 