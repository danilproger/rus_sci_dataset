ПРЕДСТАВЛЕНИЕ ГРАФОВ И НЕОРИЕНТИРОВАННЫХ ГИПЕРГРАФОВ С ОГРАНИЧЕНИЯМИ В РЕЛЯЦИОННОЙ БАЗЕ ДАННЫХ 

Предложен способ формального математического описания графов и гиперграфов с ограничениями в форме, удобной для их представления в реляционной БД, отличающийся тем, что в описание графа вводятся ограничения, представленные в терминах теории множеств. Предложена структура реляционной БД, позволяющая описывать графы и неориентированные гиперграфы с ограничениями. Выполнение ограничений обеспечивается ссылочной и доменной целостностью базы. 

 Графы широко используются для представления структуры различных систем. Результаты, описанные в указанных работах, не зависят от ПО, которое может использоваться для практического применения в автоматизированных информационных системах . Программная среда реализации АИС, в свою очередь, определяет предпочтения на формальное представление графов. Так, в 4 рассматривается применение N-ориентированных гиперграфов и реляционных БД для структурного и параметрического синтеза технических систем. Применение сложных N-ориентированных гиперграфов не всегда целесообразно для ряда задач достаточно использовать простые графы и гиперграфы. Простой граф не будет иметь петель, если выполняется ограничение O u U,. Если две вершины могут иметь несколько связывающих их ребер, то такой граф называется мультиграфом. Таким образом, простой граф не будет мультиграфом, если выполняется ограничение O u U, u U, l m, l 1, M. Граф называется ориентированным, если ребро имеет направление, например, от x к x . Если вершина-приемник связана только одним ребром и только с одной вершиной-источником, то такой граф называется направленным деревом. С учетом введенных ограничений граф будет направленным деревом, если одновременно выполняются условия O, O, O. На рисунке 1 представлены примеры простых ориентированных графов. Добавим к классическому обозначению графа G перечисленные выше ограничения. Так как ребро в графе всегда уникально, нет необходимости вводить отношение U, достаточно в отношение G добавить поле Наименование связи. Схема данных этой базы представлена на рисунке 2. Описанная БД не включает ограничения O, O, O. Внешние ключи FKIDXI, FKIDXJ гарантируют ссылочную целостность базы, то есть в таблице G не будет значений IDXI и IDXJ, не входящих в домен IDX таблицы X. Ограничения O, O, O относятся к доменной целостности БД. Рассмотрим представление этих ограничений в БД BDо. Проверка доменной целостности в РБД может осуществляться при выполнении операций удаления, редактирования и добавления записей. Ограничение O граф не должен иметь петель. Ограничение O вершина-приемник связана только с одной вершиной-источником . Это ограничение может быть нарушено при добавлении или редактировании записи. Ограничение O не будет нарушено, если добавляется ребро с вершиной-приемником, у которой нет связей, или связываются две вершины, у которых уже есть связь. Обозначим IDXI, IDXJ значения G.IDXI и G.IDXJ добавляемой записи . Выражения и создают отдельные объекты РБД, а именно, CKO1, IXO2. Выражения и могут проверять тригеры. Примеры неориентированных гиперграфов представлены на рисунке 3. Два ребра, имеющих одинаковые вершины, называются смежными. Описанная ситуация может быть учтена следующим ограничением. Определенный набор вершин Y X инцидентен конкретному набору ребер U U, причем нет вершин, принадлежащих Y, инцидентных ребрам другого набора вершин. Ребра, имеющие равные множества вершин, называются кратными. Внешние ключи FKGU, FKGX обеспечивают только ссылочную целостность данных и не обеспечивают выполнение ограничений O, O, O. Рассмотрим способы представления ограничений O, O, O в РБД. Ограничение O гиперграф не должен иметь смежных ребер . Это значит, что в отношении G может существовать только одна запись с заданной вершиной. Обозначим IDX значения G.IDX добавляемой в G записи . Вторым способом обеспечения выполнения ограничения O является создание уникального индекса в таблице G по полю IDX create unique index IXO4 on G . Ограничение O определенный набор вершин Y X инцидентен определенному набору ребер U U, причем нет вершин, принадлежащих Y, инцидентных ребрам другого набора . Рассмотрим ситуации, при которых возможно нарушение ограничения O. Добавить вершину в ребро. Обозначим IDU ребро, в которое добавляется вершина. Для гиперграфа на рисунке 3б при добавлении новой вершины в ребро U необходимо добавить эту вершину также и в ребро U. Добавить новое ребро. Добавить новое ребро можно а если все вершины X1 инцидентны хотя бы одному ребру например, добавление ребра U, когда существует ребро U, рис.б. Ограничение O гиперграф не должен иметь кратных ребер . Рассмотрим следующие ситуации, которые могут привести к нарушению ограничения O. Добавить новое ребро. Добавить вершину в ребро или удалить вершину из ребра. IDX обозначим IDX добавляемой вершины, IDU IDU корректируемого ребра. Добавить вершину из ребра можно также, если нет ни одного ребра, все вершины которого равны вершинам получаемого ребра. Обозначим через X1 вершины получаемого ребра, тогда добавить вершину из ребра можно, если выражение истинно. В заключение отметим, что предложенное в работе формальное представление обычных графов и гиперграфов с ограничениями в виде теоретикомножественного описания удобно для последующего представления графов и гиперграфов в РБД. Представленные методы использовались авторами для создания программных шаблонов 5, предназначенных для разработки САПР технологического оборудования. 