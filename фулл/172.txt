РАСПРЕДЕЛЕННЫЕ ВЫЧИСЛЕНИЯ ПРИ ОГРАНИЧЕННОМ ЧИСЛЕ КОПИЙ ПРОГРАММНОГО РЕСУРСА 

Решаются задачи нахождения времени выполнения распределенных конкурирующих процессов при ограниченном числе копий программного ресурса в условиях неограниченного и ограниченного параллелизма.

 Во многих приложениях, связанных с проектированием многопроцессорных систем МС, вычислительных комплексов, системного и прикладного ПО 12, оптимальной организации параллельных вычислительных процессов, значительный интерес представляют задачи, в которых множество конкурирующих процессов могут использовать не одну, а несколько копий структурированного программного ресурса ПР. Случай, когда в общей памяти МС имеется одна копия ПР, с различных точек зрения описан в работах 35. При этом были решены задачи нахождения минимального общего времени выполнения распределенных конкурирующих процессов, использующих структурированный на блоки ПР в различных режимах взаимодействия процессов, процессоров и блоков, получены критерии эффективности и оптимальности структурирования ПР, проведен сравнительный анализ режимов взаимодействия процессов, процессоров и блоков, решен ряд оптимизационных задач по расчету числа процессов, минимального числа процессоров и др. Изучение этих и других задач, относящихся к оптимальной организации параллельных вычислений, приобретает особую актуальность, когда в общей памяти МС одновременно могут размещаться две или более копий ПР. Такое обобщение носит принципиальный характер ввиду того, что отражает основные черты мультиконвейерной обработки, а также позволяет сравнить эффективность конвейерной и параллельной обработки. В данной работе строится и исследуется математическая модель организации конкурирующих процессов, использующих ограниченное число копий ПР. При этом с помощью метода структурирования ПР на блоки с их последующей конвейеризацией по процессам и процессорам исследуются оптимальные временные характеристики такой организации. Математическая модель распределенных вычислений при ограниченном числе копий ПР Конструктивными элементами для построения математических моделей систем распределенных вычислений являются понятия процесса и ПР. Процесс будем рассматривать как последовательность блоков Q, Q, Q, для выполнения которых используется множество процессоров . При этом процесс называется распределенным, если все блоки или часть из них обрабатываются разными процессорами 2. Для ускорения процессы могут обрабатываться параллельно, взаимодействуя путем обмена информацией. Такие процессы называются кооперативными, или взаимодействующими. Ресурсом являются любые объекты, которые используются для выполнения процесса. Реентерабельные это ресурсы, одновременно используемые несколькими вычислительными процессами. Для параллельных систем характерна ситуация, когда одну и ту же последовательность блоков или ее часть необходимо выполнять многократно. Такую последовательность будем называть программным ресурсом, а множество соответствующих процессов конкурирующими. Определение 1. Система n распределенных конкурирующих процессов называется неоднородной, если время выполнения каждого из блоков ПР Q, Q, Q зависит от объемов обрабатываемых данных иили их структуры, то есть разное для разных процессов. Определение 2. Систему распределенных конкурирующих процессов будем называть однородной, если время выполнения Q. Определение 3. Время выполнения неоднородных распределенных процессов в асинхронном режиме при достаточном числе процессоров Обозначим минимальное общее время выполнения n неоднородных распределенных конкурирующих процессов при ограниченном числе c копий ПР в МС с p процессорами в асинхронном режиме с учетом параметра через T . Для его вычисления рассмотрим случаи неограниченного p s c и ограниченного p s c параллелизма. В этом случае без ограничения общности можно считать, что каждый Qпроцессором,. Тогда для выполнения n процессов достаточно взять процессоров, а остальные p p s c процессоров не будут задействованы. Пусть T t n s-матрица времени выполнения блоков ПР каждым из i-х процессов с учетом параметра 0, где, i 1,n,. t, где, i 1,m, а u, u, u целые числа. Пример 1. Рассмотрим интерпретацию формулы на числовом примере. При этом будут использованы 6 процессоров. Рассмотрим алгоритм, позволяющий решить задачу определения минимального общего времени T выполнения неоднородных распределенных конкурирующих процессов в асинхронном режиме значительно эффективнее. По заданным s, c, и матрице, i 1,m, строим c-слойный вершинно-взвешенный граф G. Таким образом, выведем следующую теорему. Теорема 1. Пример 2. Длина критического пути в графе равна 12, что совпадает с минимальным общим временем, полученным в примере 1. Асинхронный режим выполнения распределенных конкурирующих процессов в условиях ограниченного параллелизма Рассмотрим случай ограниченного параллелизма, то есть когда число блоков структурированного ПР больше числа групп по c процессоров в каждой, то есть, k 1,. Как и в случае с одной копией ПР в общей памяти МС множество из s блоков разобьем на групп по блоков в каждой, за исключением -й группы, которая будет содержать r блоков. Тогда матрицу, p j 1, k r c, времени выполнения блоков разбиваем на подматрицу T, l 1,k 1, размерностью каждая, за исключением последней T, которая будет содержать при s, не кратном, только r столбцов, а остальные столбцов будут нулевыми. По каждой из подматриц T, l 1,k 1, строим -ю линейную диаграмму Ганта, каждая из которых отображает во времени выполнение очередных блоков структурированного ПР на процессорах всеми n процессами, использующими ограниченное число c копий структурированного ПР. При r 0 -я диаграмма будет отражать выполнение последних r блоков на cr процессорах. Cуммарное время выполнения всех процессов, использующих c копий ПР, в этом случае будет определяться как сумма длин критических путей в G каждой из подряд идущих несовмещенных диаграмм Ганта. Однако это время можно сократить, если последовательно поблочно совмещать диаграммы Ганта, начиная со второй, по оси времени справа налево на максимально возможную величину, не нарушая технологические условия асинхронного режима. В результате совмещения получим результирующую совмещенную диаграмму Ганта. В матрице T учтены как все горизонтальные, так и все вертикальные связи между блоками, а также связи между блоками из разных диаграмм Ганта. Отметим также, что результирующая матрица T имеет размерность p n с, является блочной, симметричной, верхней диагональной относительно второй диагонали, типа Ганкелевой порядка k1 T T T T T T T T T 0 T T T 0 0 T T T 0 0 0 T 0 0 0 0, где T и T матрицы вида, l 1,k,. По матрице T построим c-слойный вершинновзвешенный граф G, аналогичный графу G. Вершинам каждого слоя q размерности p m c графа будут приписаны веса,. Вершины будут являться входными, а выходными,. Выведем следующую теорему. Теорема 2. Минимальное общее время T выполнения n, n 2, неоднородных распределенных конкурирующих процессов, использующих линейно структурированный на s, s 2, блоков ПР, с временем выполнения блоков с учетом дополнительных системных расходов 0, задаваемых матрицей, i 1,n, в МС с p, p 2, процессорами и c 2 копиями структурированного ПР p 2 c, в асинхронном режиме в случае неограниченного параллелизма p s c, определяется длиной критического пути из начальной вершины в конечную, графа G. Пример 3. Матрицу T разбиваем на подматрицы T, l 1, 3, размерностью 4 3 каждая. Матрица T будет иметь размерность p n 12 9 с и следующий вид Построим по матрице T 2-слойный вершинновзвешенный граф G. Длина критического пути равна 22. Время выполнения однородных и одинаково распределенных конкурирующих процессов Согласно определению 2, систему распределенных конкурирующих процессов будем считать однородной, если время выполнения каждого блока Q, каждым из процессов равное, то есть,. Оценим общее время выполнения n однородных распределенных конкурирующих процессов в асинхронном режиме, использующих c копий структурированного ПР. Пусть . Обозначим длительность выполнения всего ПР каждым из процессов через T t. Покажем, что в этих условиях вычисление общего времени T в случае неограниченного параллелизма сводится к нахождению общего времени выполнения однородных распределенных процессов при одной копии структурированного ПР. В случае, когда, k1, матрица времени выполнения блоков ПР строится аналогично матрице T. Отличие в том, что в каждой из подматриц T, l 1,k, матрицы T все строки совпадают. Тогда, по аналогии с теоремой 2, общее время T выполнения n распределенных однородных конкурирующих процессов при ограниченном числе копий ПР определяется длиной критического пути из начальной вершины в конечную соответствующего сетевого графа. Определение 4. Однородное структурирование ПР на s блоков с временем выполнения, будем называть равномерным, если t t. t t. Следствие. В случае равномерного структурирования для вычисления минимального общего времени выполнения распределенных конкурирующих процессов при ограниченном числе копий программного продукта имеют место формулы Рассмотрим систему одинаково распределенных конкурирующих процессов. Время выполнения всех ее блоков с учетом накладных расходов каждым из i-х процессов совпадает и равно t, то есть справедлива цепочка равенств t t. t t для всех. Справедлива следующая теорема. Теорема 3. Минимальное общее время выполнения n, n 2, одинаково распределенных конкурирующих процессов, использующих структурированный на s, s 2, блоков ПР в МС с p, p 2, процессорами в асинхронном режиме при ограниченном числе копий ПР составляет величину, равную Для доказательства рассмотрим сначала случай, когда или, но p T t c. t T max t, где, i 1,m, u, u, u целые числа. Рассмотрим далее случай, когда, k1, и p T t c. p t kT 1 t c. Здесь, i 1,m. В случае, когда, k 1, и p T t c, вычисление общего времени с помощью функционала задачи БеллманаДжонсона приводит к третьей формуле для вычисления общего времени выполнения одинаково распределенных конкурирующих процессов при ограниченном числе копий ПР. В заключение отметим, что рассмотренное обобщение математической модели с одним структурированным ПР на случай ограниченного числа ПР позволяет установить взаимосвязи мультиконвейерной обработки с аналогичной обработкой при одном программном конвейере, получить аналитические оценки общего времени выполнения конкурирующих процессов при ограниченном параллелизме и провести математическое исследование эффективности и оптимальности мультиконвейерной организации конкурирующих процессов, вскрыть потенциальные возможности роста ускорения вычислений, выполнить сравнительный анализ различных режимов такой обработки. 