ИСПОЛЬЗОВАНИЕ АДРЕСОВ АБОНЕНТОВ ДЛЯ РАЗРЕШЕНИЯ КОНФЛИКТОВ В КАНАЛЕ С ШУМОМ 

Рассматриваются алгоритмы случайного множественного доступа, использующие адреса абонентов для разрешения конфликтов в системе с конечным числом абонентов. Показывается, что при определенной модификации данные алгоритмы работоспособны в канале с шумом, приводящим к возникновению ложных конфликтов. Приведена методика определения скорости и средней задержки передачи сообщения в канале с ложными конфликтами. The paper considers random multiple access algorithms that use subscribers addresses for collisions resolution in finite system. With some modifications, these algorithms are able to work in the channel with noise, false collisions appearing. A method of algorithm rate and average delay definition in the channel with false collision is presented. 

Случайный множественный доступ СМД широко используется для организации доступа множества абонентов к общему каналу связи как в существующих, так и в перспективных системах. Примерами таких систем являются организация передачи данных в стандартах 802.3 и 802.11 1, резервирование времени при пакетной передаче данных GPRS в стандарте GSM. В разрабатываемом в настоящее время стандарте 802.16 случайный доступ планируется использовать для резервирования времени при передаче данных от абонентов к базовой станции 2. Во всех этих системах при организации доступа используются чисто случайные механизмы, не опирающиеся на адреса абонентов. Собственно способ использования адресов для разрешения конфликтов был предложен более 25 лет назад, и была показана его эффективность по сравнению с чисто случайными механизмами 3, 4. В большинстве работ, посвященных этой тематике, предполагается отсутствие ошибок в канале связи, когда все абоненты безошибочно определяют ситуацию в канале. Это предположение, являющееся одним из допущений базовой идеализированной модели СМД 3, 4, не всегда справедливо для реальных каналов связи. Наличие шума в канале может приводить к ошибкам в распознавании ситуации в канале. Для стандартного древовидного алгоритма разрешения конфликта АРК 3, 4 модель канала с шумом впервые рассматривалась Г. С. Евсеевым и Н. Г. Ермолаевым 5. Авторы исследовали характеристики АРК со случайным выбором адресов так называемые случайные паспорта 3 в канале с ложными конфликтами и установили, что модифицированный древовидный алгоритм неработоспособен в канале с шумом. Кроме того, они отметили, что в канале с шумом непосредственно использовать адреса абонентов для разрешения конфликтов нельзя. Возможно, это и явилось одной из причин того, что такой подход не нашел применения на практике. Единственно известной системой, в которой используется близкий к приведенному в работе 4 подход, является так называемый CAN-интерфейс 6. В настоящей статье описывается вариант, позволяющий применять адреса абонентов при разрешении конфликтов в канале с шумом, и предлагается методика анализа характеристик алгоритмов, использующих такой вариант. При этом алгоритмы интерпретируются в виде стека и в работе называются немодифицированный и модифицированный блокированный стек-алгоритмы. Показывается, что оба алгоритма работоспособны в канале с ложными конфликтами. Рассмотрим систему множественного доступа с конечным числом абонентов, связанных общим каналом связи. Подобная модель была рассмотрена в статье 4 для случая бесшумного канала. Абонентам присваиваются конкретные физические адреса в двоичной системе счисления из диапазона 0, 1, 1 так называемые фиксированные паспорта 3, которые используются для разрешения конфликтов. Для простоты будем считать, что 2, где разрядность адреса. Положим, что все сообщения имеют одинаковую длину, поэтому сообщение будем называть . Длительность передачи пакета по общему каналу принимается за единицу времени. Абонентам разрешается начинать передачу пакета только в моменты времени 0, 1, 2, так называемый синхронный доступ. Единичный интервал времени, 1 называется . В системе имеется обратная связь, посредством которой каждый из абонентов узнает о состоянии общего канала. В каждом окне канал находится в одном из трех возможных состояний пустое окно П пакет не передавался, т. е. канал свободен, успешная передача У передавался только один пакет и конфликт К одновременно передавались два и более пакетов. Наличие шумов в прямом канале приводит к возможности ошибочного определения абонентами состояния канала появлению ложных конфликтов. С вероятностью абонент принимает пустое окно за конфликт, а с вероятностью он воспринимает успешную передачу как конфликт. Считается, что все абоненты одинаково принимают решение о состоянии канала, т. е. либо все абоненты правильно оценивают ситуацию, либо все одновременно ошибаются. Число пакетов, вступающих в конфликт, называется а. Ложные конфликты имеют кратность 0 или 1. Каждый абонент имеет буфер, состоящий из двух ячеек ячейка и ячейка . Пакеты могут поступать к абоненту в ячейку, а передаваться в канал из ячейки, т. е. в каждый момент времени у абонента может находиться не более двух пакетов. Подробное описание двухбуферной модели вероятностная модель поступления пакетов и правило передачи пакетов в канал приведено в статье 7. В данном разделе приведены инструкции для блокированного немодифицированного стек-алгоритма. Подобные инструкции для модифицированного стек-алгоритма рассмотрены в работе 7 и здесь не приводятся. Данные алгоритмы работоспособны при отсутствии шумов в канале связи и рассматривались ранее в работе 3, но в несколько иной интерпретации и применительно к другой модели системы. Для описания алгоритмов введем понятие сеанса. Сеанс это последовательность окон, конец которой определяется при помощи дополнительной целочисленной переменной, называемой сеанса и обозначаемой . Первый сеанс начинается в момент времени 0, когда система начинает работать. Если окно пустое или в нем передавался один пакет, то сеанс имеет длину 1 и в момент времени 1 начинается следующий сеанс. В случае, если окно первое окно сеанса и в нем происходит конфликт определенной кратности, то для определения момента окончания текущего сеанса и начала следующего используется метка сеанса . Сеанс заканчивается, если 0. Пусть состояние ячейки -го абонента в окне 0, 1, при 1 в ячейке находится пакет, при 0 ячейка свободна. Будем считать абонент с номером активным, если он имеет пакет для передачи, т. е. 1. Тогда под сеанса будем понимать число активных абонентов в первом окне сеанса. Разрешение конфликтов в системе производится при помощи адресов абонентов. При описании алгоритмов доступа использованы три целочисленные переменные указатель стека -го абонента в окне номер анализируемого бита в двоичном представлении адреса абонента, в окне метка сеанса в окне . Обозначим через П, У, К состояние канала в окне . Пакет от -го абонента передается в канал в окне, если 1, 0. В начале первого окна сеанса окна с номером для алгоритмов доступа задаются начальные значения переменных если пакет появился в ячейке у абонента с номером в окне, т. е. 1, то 0, 1. 1. Если пакет передавался в окне, т. е. 0, то если У, то пакет покидает стек и систему связи 1 0 если К, то 1 1, 1 1. 2. Если пакет не передавался в окне, т. е. 1, то если К, то 1 1, 1 если П, У, то 1 1, 1 . 1. Если 0, то сеанс закончен и в системе происходят следующие события пакеты, поступившие во время этого сеанса в ячейки абонентов, переписываются в ячейки ячейки освобождаются начинается следующий сеанс. 2. Если 1, то если К, то 1 1 если П, У, то 1 1. Алгоритмы разрешения конфликта можно описать, используя терминологию 3, поставив каждому сеансу во взаимно-однозначное соответствие дерево. При этом корень дерева соответствует первому окну сеанса, а концевые вершины дерева окнам с ситуациями пусто и успех. Вид дерева полностью определяется номерами активных абонентов. Доопределим алгоритм доступа для канала с ложными конфликтами. Для этого рассмотрим дерево, описывающее разрешение конфликта для бесшумного канала, и на основе свойств дерева определим модификацию дерева для канала с шумом. Пусть в системе имеется абонентов с адресами из множествa, . Каждый адрес будем представлять в виде -разрядного двоичного числа. Обозначим через множество адресов абонентов. Введем в рассмотрение граф, описывающий дерево разрешения конфликта в бесшумном канале для абонентов с адресами из множества . Непосредственно из определения графа вытекает следующее утверждение. Пусть, тогда дерево является поддеревом дерева . Концевые вершины деревьев и соответствуют окнам, в которых имеют место ситуации пусто или успех. Доказательство утверждения 1 основано на том, что сначала строится полное дерево разрешения конфликта для 2 абонентов и далее, из полного дерева, путем удаления ряда вершин и дуг сначала формируется дерево, а затем дерево . В данной работе доказательство не приводится. На рис. 1 дан пример деревьев и при 000, 001, 110, 111 и 000, 001, 111. Пусть для канала с ложными конфликтами используется тот же самый алгоритм, что и для бесшумного канала, и дерево, описывающее разрешение конфликта для всех абонентов. Доопределим алгоритм следующим образом. Если для некоторого абонента в процессе разрешения конфликта передавался пакет в окне, которое соответствует концевой вершине дерева, и пакет оказался не переданным это происходит из-за ложных конфликтов, то данный абонент перестает участвовать в разрешении конфликта. Пусть разрешается конфликт для абонентов из множества . При отсутствии ложных конфликтов множеству соответствует единственное дерево см. утверждение 1. Из-за наличия ложных конфликтов множеству абонентов будут соответствовать несколько различных деревьев разрешения конфликта. Множество таких деревьев обозначим Г Справедливо следующее утверждение. Для любого любое дерево является поддеревом дерева, и корни этих деревьев совпадают. Дерево является поддеревом для любого дерева и корни этих деревьев совпадают рис. 2. Аналогично утверждению 1, доказательство можно провести конструктивным способом, построив все необходимые деревья и убедившись в справедливости утверждения. Доказательство утверждения 2 в работе опускается. Если некоторый абонент в соответствии с алгоритмом принял решение о передаче в некотором окне и после передачи определил, что в этом окне был конфликт, то данный конфликт является ложным, если данное окно является концевой вершиной дерева . Доказательство утверждения 3 непосредственно следует из построения дерева В любой концевой вершине может иметь место либо ситуация успех, либо ситуация пусто. Из утверждения 3 следует, что порядок действий абонента в канале с ложными конфликтами должен быть изменен следующим образом. Для каждой вершины, в которой абонент наблюдает конфликт, определяется, является вершина концевой или нет. Если вершина, то продолжается работа исходного алгоритма, если вершина, то рис. 3 если абонент передавал в данном окне, то абонент повторяет свою передачу в последующих окнах до того момента, пока его пакет не будет успешно передан. После успешной передачи абонент продолжает работу по обычному алгоритму если абонент не передавал в данном окне, то абонент наблюдает за выходом канала и продолжает работу по обычному алгоритму после того, как в канале будет иметь место ситуация пусто или успех. Модификация стек-алгоритмов, описанных во втором разделе настоящей статьи, заключается в следующем. Если ложный конфликт возникает в концевой вершине дерева, то абонент не изменяет величины и до тех пор, пока в канале не будет ситуации пусто или успех. Следствием утверждения 3 является то, что в алгоритме с ложными конфликтами абонент должен уметь различать, является ли вершина дерева концевой или нет. Для определения концевой вершины дерева к абоненту добавляется дополнительный стек, который будем называть . Будем предполагать, что число абонентов 2 в системе известно всем абонентам. Это допущение справедливо, так как в блокированном алгоритме состав системы во время функционирования изменяться не может. это стек ограниченной глубины, которая определяется как log 1 и совпадает с числом ярусов в дереве разрешения конфликта максимальной кратности. В ячейках терминального стека могут храниться числа, соответствующие максимальному числу пакетов, которые могут находиться в вершине дерева разрешения конфликта максимальной кратности. При инициализации системы ячейки терминального стека обнуляются, т. е. 0 1 1 0, где содержимое ячейки терминального стека с номером . Обозначим через содержимое ячейки терминального стека с номером в окне с номером . Если 1, то это говорит о том, что вершина дерева является концевой. 1. В начале первого окна сеанса 0, в верхнюю ячейку стека заносится число абонентов. 2. Если К и 0 1, то 0 1 1 1 0 2 2 1 1 . . . 1 1 2 . 3. Если К и 0 1, то вершина дерева является концевой и содержимое терминального стека не изменяется до появления ситуации П,У. 4. Если П, У, то 0 1 1 1 1 2 . . . 2 1 1 . 1 1 0. При 8 построим терминальный стек для немодифицированного стек-алгоритма рис. 4 для следующего дерева разрешения конфликта рис. 5. Диаграммы стека на рис. 4 соответствуют состоянию стека на момент начала очередного окна. Анализируя терминальный стек, приведенный в примере, можно прийти к выводу, что после завершения последнего окна дерева разрешения конфликта в примере окно с номером 8 стек будет пуст. Непосредственно из вышерассмотренного описания функционирования терминального стека вытекает следующее утверждение. . Терминальный стек может быть использован как для определения концевых вершин в дереве разрешения конфликта, так и для определения границ сеансов, т. е. реализует функцию метки сеанса. Первые три инструкции работы с терминальным стеком модифицированного блокированного стек-алгоритма совпадают с соответствующими инструкциями немодифицированного алгоритма. Инструкция 4 видоизменяется и подразделяется на две. Кроме того, добавляется инструкция 5. Если У или П и У, то 0 1 1 1 1 2 . . . 2 1 1 . 1 1 0. Если П, К, то 0 1 1 2 1 1 1 2, где У, К переменная, которая хранит предыдущее состояние канала, кроме состояния пусто. 5. Если 0 1, то У. При 8 построим терминальный стек для модифицированного стек-алгоритма рис. 6 для следующего дерева разрешения конфликта рис. 7. Количественными характеристиками алгоритма доступа являются скорость и средняя задержка. В последующих разделах рассмотрена методика определения этих характеристик. Понятие скорости алгоритма доступа для системы с конечным числом абонентов для случая, когда каждый абонент имеет бесконечную очередь, было не явно введено Б. С. Цыбаковым и В. А. Михайловым в работе 8. Согласно этому определению, скорость это максимальная интенсивность входного потока, при которой очереди у абонентов конечны. Для двухбуферной модели понятие скорости было предложено Капетанакисом 4. Предполагается, что все абоненты системы имеют готовый для передачи пакет. Тогда скорость алгоритма доступа это отношение числа пакетов, переданных в сеансе кратности, к длительности сеанса 1 Можно показать, что это определение скорости совпадает с определением, предложенным в работе 8. Для канала с ложными конфликтами скорость можно вычислить следующим образом 2 где среднее число окон до наступления ситуации успех при возникновении в концевой вершине ложного конфликта кратности 1. Можно показать, что предельное значение скорости при или, по-другому, при для канала без шума а для канала с ложными конфликтами Задержкой передачи пакета называется время от момента его поступления в систему до момента его успешной передачи. Занумеруем числовой последовательностью все поступающие в систему пакеты и выделим из этой последовательности пакет с номером . Этот пакет мы назовем и найдем для него среднюю задержку. Обозначим через случайную задержку передачи меченого пакета. Определим среднюю стационарную задержку передачи пакета равенством 3 Методика расчета средней задержки для канала без шума подробно рассмотрена в работе 7. При вычислении средней задержки некоторые величины зависят от интенсивности входного потока, а другие не зависят средняя длина сеанса, среднее время выхода и распределение вероятностей кратностей сеанса по длинам сеанса. Величины, не зависящие от, рассчитываются по рекуррентным формулам. Так как ложные конфликты приводят к модификации дерева разрешения конфликта, то необходимо определить рекуррентные формулы для вычисления этих величин в канале с шумом. Заметим, что все эти величины представляют собой функции вероятностей ложных конфликтов и . Однако в дальнейшем с целью сокращения записи выражений эти параметры опускаются. Далее, используя методику 7, определяем среднюю задержку пакета для канала с ложными конфликтами. Пусть средняя длина сеанса кратности в вершине, соответствующей 2 абонентам. Известно, что для канала без шума 1. Для канала с ложными конфликтами в окнах, соответствующих концевым вершинам дерева, может возникнуть ложный конфликт кратности 0 или 1. На рис. 8 рассмотрены возможные ситуации в концевой вершине дерева. Если в концевой вершине дерева имеет место ложный конфликт кратности 0 рис. 8, то абоненты, участвующие в первоначальном конфликте, наблюдают за выходом канала до появления пустого окна. В случае, когда в концевой вершине дерева происходит ложный конфликт кратности 1 рис. 8, абонент, который передавал пакет в данном окне, продолжает передавать пакет в последующих окнах до тех пор, пока пакет не будет успешно передан. Тогда 1 2 1 3 1 1 1 1 2 3 . Аналогично, для имеем Для блокированного немодифицированного стек-алгоритма определить можно по следующей рекуррентной формуле где вероятность конфликта, которая определяется как 4 Формулу 4 можно легко получить, преобразовав выражение для в случае бесшумного канала, учитывая модификацию дерева разрешения конфликта для канала с ложными конфликтами. . Величины для модифицированного блокированного стек-алгоритма определяются по формуле 5 . Введем в рассмотрение две величины среднее время разрешения конфликта кратности в системе из 2 абонентов при условии, что в первом окне сеанса был ложный конфликт 0,1 или конфликт среднее время разрешения конфликта при условии, что в первом окне не было конфликта. если при 0,1 при Тогда можно записать откуда можно выразить 6 Для модифицированного блокированного стекалгоритма имеем где 7 Подставляя 6 в 7 и учитывая, что имеем 8 Сгруппировав слагаемые в выражении 8 и подставив результирующее выражение для в 7, получим выражение 5. Утверждение доказано. Введем в рассмотрение дополнительный параметр тип алгоритма. Пусть для немодифицированного алгоритма 0, а для модифицированного алгоритма 1. Тогда можно записать общую формулу для 9 Пусть вероятность события сеанс кратности длится окон в вершине, соответствующей 2 абонентам. Известно, что для канала без шума Для канала с ложными конфликтами, учитывая поведение алгоритма в концевых вершинах дерева см. рис. 8, можно записать Величины для модифицированного блокированного стек-алгоритма определяются следующим образом 10 . Введем в рассмотрение величину вероятность события сеанс кратности длится окон в вершине, соответствующей 2 абонентам, при условии, что в данной вершине имеет место ситуация конфликта. Тогда можно записать 11 при Для модифицированного блокированного стекалгоритма имеем 12 Преобразуя первую сумму в формуле 12, определив нижний индекс как и выражая через получим 13 Заменяя в 13 на 1 и вынося за скобки, получим 10. Утверждение доказано. Отметим, что в выражении 10 второе слагаемое необходимо только для модифицированного алгоритма. Поэтому добавим параметр и приведем общую формулу для вычисления для блокированного стек-алгоритма 14 Пусть среднее время выхода пакета из конфликта кратности в вершине, соответствующей 2 абонентам. Известно, что для канала без шума 0. Для канала с ложными конфликтами, учитывая поведение алгоритма в концевых вершинах дерева см. рис. 8, можно записать 01 1 1 1 1 1 2 Для блокированного немодифицированного стек-алгоритма определить можно по следующей рекуррентной формуле 15 . Величины для модифицированного блокированного стек-алгоритма определяются по формуле 16 Доказательство утверждения 7 выполняется аналогично доказательству утверждений 5 и 6 и поэтому здесь не приводится. Объединяя формулы 15 и 16, получим 17 На основе рассмотренной методики построим зависимости средней задержки от интенсивности входного потока. С помощью этих зависимостей проиллюстрируем, что во влиянии ложных конфликтов на процесс разрешения конфликтов имеется ряд особенностей по сравнению со случаем, когда для разрешения конфликтов не используются адреса абонентов. Результаты для алгоритмов, использующих случайные паспорта для разрешения конфликтов, получены численным путем по методике, изложенной в работе 3. Средняя задержка пакетов для немодифицированного стек-алгоритма при использовании случайных и фиксированных паспортов абонента для разрешения конфликта в системе приведена в табл. 1. Для случайных паспортов наиболее критичной является вероятность ложного конфликта на пустом окне. Алгоритм со случайными паспортами работает только в случае, когда эта вероятность меньше 12. При использовании адресов абонентов ложные конфликты на пустом окне вообще не оказывают влияния на скорость алгоритма см. формулу 2. На рис. 9 показаны значения скорости алгоритма СМД для алгоритма со случайными и фиксированными паспортами. Выражение для было приведено в работе 9, а рассчитывают по формулам 1, 2. При отсутствии ложных конфликтов средняя задержка при использовании адресов абонентов лишь незначительно меньше задержки при использовании случайного выбора адресов. При увеличении вероятностей ложных конфликтов разница в задержке становится более существенной рис. 10. В табл. 2 приведены средние задержки пакета в системе. Известно, что при использовании случайных паспортов модифицированный стек-алгоритм не работоспособен в канале с ложными конфликтами 5. При использовании фиксированных паспортов алгоритм работает в канале с шумом. Из графика зависимости средней задержки от интенсивности входного потока при различных значениях вероятностей ложных конфликтов рис. 11 видно, что при низких интенсивностях наибольшее влияние на среднюю задержку оказывает вероятность . Это объясняется тем, что возникновение ложного конфликта на пустом окне приводит к появлению двух дополнительных окон, если окно не является концевым. При высоких интенсивностях уменьшается вероятность появления пустых окон, и наибольшее влияние на величину задержки оказывает вероятность . Результаты численного расчета средней задержки в системе с шагом 0,1 и различных вероятностях ложных конфликтов представлены в табл. 3. Если не использовать адреса для разрешения конфликта, то модифицированный алгоритм в бесшумном канале имеет более высокую скорость, но при этом алгоритм не работоспособен при появлении ложных конфликтов на пустом окне. При использовании адресов абонентов модификация не влияет на скорость алгоритма, однако алгоритм при этом становится работоспособен при появлении ложных конфликтов на пустом окне. В табл. 4 сравнение модифицированного и исходного алгоритмов по задержке выполнено с шагом 0,1. Соответствующая графическая зависимость приведена на рис. 12. Можно отметить, что модификация алгоритма позволяет лишь незначительно снизить задержку при высоких интенсивностях. Это снижение становится значимым лишь для случая, когда ложные конфликты на пустых окнах отсутствуют. Изложена методика расчета точного значения средней задержки пакета для канала с шумом. Реализация предложенных алгоритмов оказывается достаточно простой и сводится к выполнению арифметических операций над тремя и четырьмя переменными для немодифицированного и модифицированного стек-алгоритмов соответственно. Алгоритмы, использующие адреса абонентов для разрешения конфликтов, оказываются более устойчивыми к проявлению ложных конфликтов, чем алгоритмы, основанные на чисто случайном способе разрешения конфликтов. Так, относительный выигрыш алгоритмов с фиксированными паспортами по средней задержке составляет примерно 37 при 0,2, 0,2 и 8 и резко возрастает при увеличении и вероятностей и . 