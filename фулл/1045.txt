ПРОГРАММНАЯ РЕАЛИЗАЦИЯ МЕТЕОРОЛОГИЧЕСКОЙ  ПОДДЕРЖКИ ЗАМКНУТОЙ СИСТЕМЫ УПРАВЛЕНИЯ  «ПРИРОДА-ТЕХНОГЕНИКА»  

Рассматриваются вопросы разработки программного обеспечения метеорологической поддержки замкнутой системы управления «Природа-техногеника», в том числе SQL server 2012 построения баз данных, структуры, модули программного обеспечения, интерфейсы связей. Предложены основные запросы, используемые  в среде MatLab для работы с базами данных. Ключевые слова  — экология, загрязняющие вещества, программирование, метеорологическое обеспечение, базы данных, SQL-запрос. 

В работе 1 были предложены способы, концепция, структура и основные подходы к построению замкнутой системы управления Природатехногеника ЗСУПТ на базе современных аппаратно-программных комплексов, позволяющих определить решения, направленные на минимизацию не только воздействия загрязняющих веществ, но и человеческого фактора. В работах 24 изложены алгоритмы сбора, обработки, передачи метеорологической информации МИ в ЗСУПТ и требования к построению соответствующей базы данных БД. При этом исходная информация поступает из стационарных станций, центров метеорологической информации районов и промзон. В данной статье рассматриваются програм мные средства построения БД метеорологической поддержки МП реализации указанных в работе 2 алгоритмов. Средства построения БД с помощью СУБД Microsoft SQL Server 2012, которая выбрана для базы данных МП ЗСУПТ, предложены в работе 5. Основные причины, определившие такой выбор, следующие SQL Server2012 новейшая информационная система управления БД. Помимо стандартных для любой СУБД функций, есть ряд дополнительных средств по системному анализу данных. При этом в БД могут получить доступ любые приложения эта СУБД обладает легкой масштабируемостью, высоким уровнем безопасности, а также обеспечивает наилучшую производительность. Для работы с SQL Server 2012 требуется соединение с сервером рис. 1. В работе 6 предложены несколько функций SQL. На основе анализа разнообразных програм мных средств в качестве среды для разработки программного обеспечения подсистемы САПР МП ЗСУПТ выбрана интегрированная среда MatLab R2011b по следующим причинам применение этой среды в подсистемах САПР ЗСУПТ 7 возможность интеграции с другими подсистемами САПР ЗСУПТ, простота подключения к базам данных. Среда MatLab R2011b через драйверы ADODB поддерживает множество БД. Через драйвер ADODB работает встроенный в MatLab R2011b поДля подключения к SQL Server 2012 рассматривается код в среде MatLab R2011b, написанный в -файле Исходная МИ сохраняется на любом типе файла excel, docx, ... и поступает как вставка в БД. Для решения задачи вставки данных в БД в среде MatLab используется указанное приложение -файл и -функция. Записанные коды имеют вид в -функции в -файле Структура программного обеспечения подсистемы САПР МП ЗСУПТ в среде MatLab представлена на рис. 2. База данных МП ЗСУПТ включает следующие файлы исходной МИ результатов обработки программной реализации алгоритмов автоподстройки. В каждом файле формируются таб лицы в соответствии с задачами МП ЗСУПТ. Таблица tblHour сохраняет исходные данные по переменным, по часам. Для размещения переменных, по дням или по другому отсчету времени служат другие таблицы tblDay, tblMonth, tblYear рис. 3, . Файлы результатов обработки МИ таблицы математических ожиданий tblspeedmidday, tblspeed midnight, tblspeedday, tblspeedmonth, tblspeed yeas рис. 3, строитель запросов к БД. С его помощью можно построить достаточно сложные запросы таблица, создать отчет или просто просмотреть БД. Обработка метеорологических данных проводилась в среде MatLab R2011b с помощью приложений -файлов и -функций. Эти функции позволяют их записать и сохранить в файле для использования в качестве встроенных функций MatLab R2011b. Вызов функций производится из -файлов. таблицы автокорреляционных функций tblcorrelationmidday, tblcorrelationmidnight, tblcorrelationday, tblcorrelation month, tblcorrelationyeas рис. 3, . Аналогично формируются таблицы взаимнокорреляционных функций, условных математических ожиданий и других характеристик скорости потока переноса загрязняющих веществ. Файлы программной реализации алгоритмов автоподстройки ПИД-регулятора с усреднением по времени полденьполночь, месяцы, годы размещаются в отдельных таблицах законов управления автоподстройкой ПИД-регулятора с усреднением по суткам, по месяцам. Информация из БД МП ЗСУПТ отображается на экране оператора в виде рисунков, графиков, таблиц. После запуска программного обеспечения подсистемы САПР МП ЗСУПТ происходит включение программных модулей, входящих в соответствующие блоки МП ЗСУПТ. Блок База данных модуль Вставка для заполнения таблиц в БД МИ из любых типов файлов после получения исходных метеорологических данных модуль Формирование для формирования МИ в -й таблице или нескольких таблицах формирование МИ в таблице будет выглядеть следующим образом модуль Создание для создания новых таб лиц или столбцов модуль Удаление для удаления строки из таблиц модуль Обновление для обновления МИ в таблице. Блок Обработка модуль Вычисление для расчетов математических ожиданий, автокорреляционных функций, взаимных корреляционных функций скорости потока переноса загрязняющих веществ модуль Прорисовка прорисовка графиков, рисунков. В блоке Программатор формируются законы управления автоподстройкой ПИД-регуля тора в ЗСУПТ как временные процессы 2. Здесь же осуществляется ввод закона управления автоподстройкой в контроллер ПИД-регулятора. Результаты, полученные на этапах Обработка и Программатор, сохраняются в базе данных МП ЗСУПТ. Для работы программного обеспечения подсистемы САПР МП ЗСУПТ потребуется запуск среды MatLab R2011b, SQL Server 2012. Системные требования к программному обеспечению для установки SQL Server 2012 и MatLab R2011b следующие. 1. Установка MatLab любой процессор Intel или AMD архитектуры x86 с поддержкой набора инструкций SSE2 1024 МБ оперативной памяти рекомендуется 2048 МБ 34 ГБ места на жестком диске для стандартной установки 1 ГБ для MatLab без дополнений поддерживаемые операционные системы семейства Windows Windows XP Service Pack 3, Windows Server 2003 R2 Service Pack 2, Windows Vista Service Pack 2, Windows Server 2008 Service Pack 2, Windows 7. 2. Установка SQL Server Windows XP Service Pack 3, Windows Server 2003 R2 Service Pack 2, Windows Vista Service Pack 2, Windows Server 2008 Service Pack 2, Windows 7, Windows 8 минимум 4,2 ГБ свободного места на диске процессор, совместимый с Intel, с частотой 1 ГГц ОЗУ минимум 512 МБ для SQL Server Express с инструментами и SQL Server, экспрессвыпуск с дополнительными службами, а также 4 ГБ для служб Reporting Services, которые устанавливаются вместе с SQL Server Express с дополнительными службами. Предложенные в статье средства построения базы данных для МП ЗСУПТ, а также програм мное обеспечение позволяют осуществлять процессы минимизации загрязняющих веществ в режиме реального времени с учетом влияния метеорологической обстановки. 