БИНАРНЫЕ ОПЕРАЦИИ В ИНФОРМАЦИОННОЙ СИСТЕМЕ   «МОЛЕКУЛЯРНАЯ СПЕКТРОСКОПИЯ» 

Представлен подход, использованный при разработке и реализации модуля, выполняющего бинарные операции над данными в ИС «Молекулярная спектроскопия». Приводится формализация бинарных операций над наборами спектроскопических данных с учетом особенностей предметной области. Описываются алгоритм действий   и интерфейс пользователя для проведения бинарных операций – единые для имеющихся баз данных по различным веществам и нескольким типам спектроскопических данных.  : структуры данных, количественная спектроскопия, бинарные операции, базы данных.  

Основным способом представления широкой общественности результатов научной деятельности являются публикаций в научных изданиях. При небольшом объеме численных данных, полученных в ходе исследования, они публикуются непосредственно в статье в виде таблиц или графиков. В случае если объем численных данных велик для публикации в статье, такие данные публикуют в сети Интернет, размещая файлы, например, на FTP-серверах. Современные исследования по молекулярной спектроскопии высокого разрешения в области состояний молекул и характеристик спектральных переходов дают постоянно растущие объемы численных данных благодаря совершенствованию как измерительного оборудования, так и вычислительной техники. Таким образом, результаты экспериментальных работ содержат значения параметров от десятков и сотен до десятков тысяч спектральных переходов или состояний молекулы 1 2. Теоретические расчетные работы могут содержать характеристики нескольких миллиардов переходов 3 4. В информационной системе ИС Молекулярная спектроскопия ведется накопление численных значений данных, публикуемых исследователями в статьях 58. Совокупность извлеченных из опубликованных материалов численных значений спектроскопических данных будем называть набором данных. В отдельных статьях, как правило, представляются данные по свойствам лишь одной молекулы или небольшой группы молекул. Зачастую приводятся только часть набора параметров спектральных линий или исследования в узком спектральном диапазоне. Однако исследователям из прикладных областей, использующим необходимые спектральные параметры, например, в расчетах радиационных или климатических моделей, требуются данные в достаточно широком спектральном диапазоне. Это приводит к необходимости формирования составных наборов данных путем комбинирования данных из различных источников. Среди составных наборов можно выделить экспертные наборы, предоставляющие достоверные, согласованные и наиболее полные данные как по перечню спектральных параметров, так и по спектральному диапазону 9. Процесс создания таких наборов можно разделить на два вида действий отбор данных с помощью условий в пределах одного набора данных и объединение отобранных данных в новый составной набор данных. Формирование составных наборов данных процесс трудоемкий, но часть действий можно автоматизировать с помощью информационных технологий. Действия по выборке части данных из конкретного источника, удовлетворяющих наложенным ограничениям, были автоматизированы созданным в рамках ИС Молекулярная спектроскопия модулем унарные операции 10. Для создания составного экспертного источника данных из отобранных частей исходных источников необходим механизм их объединения, позволяющий учитывать как формализуемые ограничения предметной области, так и принимаемые экспертами решения, не поддающиеся алгоритмизации. Подробно структура данных молекулярной спектроскопии, над наборами которых производятся манипуляции, была рассмотрена нами в работе 10. Здесь лишь коротко напомним, что набор данных представим в виде таблицы независимо от способа хранения, и имеются, продиктованные особенностями предметной области. 1. Во всех наборах данных есть две обязательные части набор квантовых чисел и набор некоторых физических величин. В зависимости от спектроскопической задачи обязательной физической величиной является уровень энергии или частота спектрального перехода. Остальные физические величины могут отсутствовать совсем либо иметь пустоты в отдельных строках. 2. Значения квантовых чисел в каждой строке таблицы является уникальным идентификатором, который однозначно определяет, к какому уровню энергии или спектральному переходу относятся значения набора физических величин, представленных в этой строке таблицы, согласно используемой модели молекулы. Сравнение строк производится только по набору значений квантовых чисел, который мы рассматриваем как единый элемент идентификатор. Два идентификатора равны, если равны между собой все соответствующие квантовые числа. Остальные физические характеристики имеют приближенные значения в силу неточности самих моделей или измерений в эксперименте. Таким образом, все строки в одном наборе данных должны быть с различными уникальными идентификаторами как в исходных наборах, так и в результирующем наборе. 3. Операндами в бинарных операциях являются только канонические наборы данных, в которых квантовые числа удовлетворяют ограничениям на состояние и правилам отбора определяют допустимые сочетания квантовых чисел верхнего и нижнего состояния. Операции производятся над данными, относящимися к одному типу спектроскопических задач прямая обратная и одному веществу 11. 4. В исходных и результирующем наборах данных может быть только по одной колонке с данными по конкретной спектральной характеристике физической величине. Рассмотрим три операции над парой наборов данных по аналогии с теорией множеств объединение, пересечение и разность. Эти операции являются манипуляциями с данными, т. е. действиями, не изменяющими сами значения данных. наборов данных дает множество строк одного набора данных, не имеющих пары по набору значений квантовых чисел во втором наборе данных. наборов данных, позволяет соединять в единый набор строки из двух разных наборов независимо от наличия совпадений по набору значений квантовых чисел. С помощью наборов данных, можно выбрать строки из двух наборов с совпадающими наборами значений квантовых чисел. Специфика предметной области приводит к особому процессу выполнения некоторых операций. Так, в операции разности результат однозначен и может быть получен автоматически, так как среди отобранных строк набора данных не может быть строк с одинаковыми наборами значений квантовых чисел. В то время как в операциях объединения и пересечения имеет место, где могут быть строки с совпадающими наборами значений квантовых чисел, но из разных наборов данных. Согласно принятым нами правилам результирующий набор данных должен содержать только канонические данные 11, т. е. среди прочих условий не иметь строк с совпадающими наборами значений квантовых чисел. Выбор строк, которые попадут в результирующий набор данных, может произвести только пользователь системы эксперт на основании имеющихся у него неформализуемых знаний. Это и есть неавтоматизированная часть операций манипулирования наборами данных. Таким образом, в операциях объединения и пересечения автоматически выполняется формирование промежуточного результата с выбранными из разных источников строками и создание нового набора данных с сохранением в него строк, отобранных экспертом. Для описания сути бинарных операций нам удобно использовать термины теории множеств. Обозначим набор данных по конкретному веществу, как, где спектральные переходы, профили спектральных линий, уровни энергии молекулы тип спектроскопической задачи, а это множество строк набора данных. Согласно теории множеств при выполнении операций пересечения, объединения и разности производится сравнение элементов по их значениям, однако в нашей предметной области строка в наборе данных не является элементарным объектом с одним значением. Каждая строка набора данных имеет сложную структуру, для описания которой можно применить кортежи из алгебры кортежей 12. Тогда элемент множества набора данных можно представить кортежем, элементы которого разделены по смыслу на две части, как упоминалось ранее, где,..., кортеж, содержащий значения квантовых чисел из предметной области, уникальная комбинация которых идентификатор в пределах набора данных однозначно идентифицирует,..., кортеж, содержащий численные значения физических величин, набор которых зависит от спектроскопической задачи, описывающих свойства -го спектрального перехода или состояния молекулы, число физических характеристик. Операция пересечение двух наборов данных производится построчно на основе сравнения идентификаторов. Выбираются строки с одинаковыми идентификаторами из обоих наборов данных, прочие строки в результат операции не попадают. Промежуточный результат может содержать по два значения одной и той же физической величины, соответствующих одному идентификатору. Так как в нашей информационной системе принято, что одному идентификатору должно соответствовать по одному значению каждой физической величины, то далее пользователь должен выбрать, какое значение физической величины включать в результат. Пусть 1, и 2, два исходных набора данных. Их пересечение можно расписать следующим образом 1 2 3, где и, а,..., . С помощью записи мы обозначили, что эксперт, производящий операцию, делает выбор между и, основываясь на имеющихся у него неформализуемых знаниях. Операция объединение двух наборов данных проводится, как и операция пересечения, на основе сопоставления идентификаторов строк. Выбираются все строки из первого набора данных, а затем к ним добавляются строки из второго набора данных. Из получившегося промежуточного результата в итоговый набор данных попадают строки с несовпадающими идентификаторами. Значения физических величин в строках с совпадающими идентификаторами могут быть включены в результирующий набор данных в зависимости от выбора пользователя либо все из первого набора данных, либо все из второго набора данных. Допускается объединение наборов данных независимо от заполненности строк, т. е. с возможностью образования пропусков в данных отсутствие значений физических величин. Пусть имеется два набора данных 1, 2, . Тогда их объединение можно записать так 1 2 3, где содержит строки, удовлетворяющие следующим условиям,..., при и,..., при и,..., при и . Операция разность наборов данных 1 и 2 аналогична разности дополнению в теории множеств. Так же как и операция пересечения, она выполняется на основе сравнения идентификаторов. Разность множества 1 и множества 2 это множество, содержащее в себе элементы множества 1, но не входящие в 2 . Обозначается 1 без 2, 1 2 или 1 2 . Мы будем использовать последний вариант обозначения для записи операции разности наборов данных. В результате может получиться пустой набор данных, часть 1 или полностью 1 . 1, 2, 1 2 3, где и . Обзор интерфейсов в информационной системе Молекулярная спектроскопия для проведения автоматических операций не требующих участия пользователя был представлен в работах 10 13. Здесь рассмотрим интерфейс той части ИС, которая относится к выполнению неавтоматизированного этапа операций объединение и пересечение. После выбора двух источников данных, над которыми будут производиться манипуляции, пользователь делает выбор операции и параметров ее выполнения рис. 1. В качестве дополнительной информации при принятии решения эксперт может воспользоваться имеющейся в системе характеристикой разупорядочения между выбранными наборами данных. В операции выбор эксперта сводится к указанию, что сделать со всеми строками с совпадающими наборами значений квантовых чисел. Их можно все взять из одного или другого набора данных либо не брать их в результирующий набор данных вообще. Поэтому промежуточный результат операции не отображается, а сразу выдается окончательный результат. В операции эксперт имеет возможность детальной обработки промежуточного результата. Он может указать, из какого источника брать данные по конкретной спектральной линии или спектральной полосе в целом рис. 2. Название источника данных и значения конкретных параметров спектральной линии, взятых из него, подсвечиваются одним цветом. Полученный результат сохраняется как новый набор данных рис. 3. Такая реализация позволяет сохранять результат детальной обработки в отдельном наборе данных и использовать его потом в других операциях, тем самым уменьшается количество потенциальных ошибок, когда пользователь в при первой обработке промежуточного результата выбрал одно, а при повторной выбрал другое. Детальная обработка пересекающейся части по строкам и по спектральным полосам имеется только в операции пересечения. В рамках информационной системы Молекулярная спектроскопия создан модуль позволяющий формировать составные наборы данных, путем их комбинирования из различных источников. Это позволяет создавать составные экспертные наборы данных, учитывая как формализуемые ограничения предметной области, так и принимаемые экспертами решения, не поддающиеся алгоритмизации. Одно из направлений дальнейших исследований определение критериев для автоматического формирования рекомендаций для эксперта по выбору окончательного результата полуавтоматической части операций. 