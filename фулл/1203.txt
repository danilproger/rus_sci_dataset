УПРАВЛЕНИЕ КОМБИНИРОВАННЫМ ВЫВОДОМ  В ДИСКРЕТНЫХ ИНТЕЛЛЕКТУАЛЬНЫХ СИСТЕМАХ 

Постановка проблемы:  из-за больших объемов информации, хранящейся в базах данных и знаний интеллектуальных систем, степень отличия механизма обработки этой информации от полного перебора считается мерой интеллектуальности подобных систем. На сокращение перебора, в частности, направлены различные способы управления  выводом, в том числе ранее предложенный автором метод управления прямым выводом в интеллектуальных системах с дискретными доменами переменных путем анализа эвристических индикаторов хода вывода, использующих  некоторые подмножества этих доменов. Однако этот метод однонаправленный, что не позволяет ускорить вывод за  счет своевременного изменения его направления и эффективного разрешения конфликта. Цель настоящей работы  состоит в распространении того же теоретико-множественного подхода на задачи управления комбинированным выводом и разрешением конфликта для сокращения перебора вариантов продолжения вывода.  Результаты:  разработана  динамическая стратегия управления комбинированным детерминированным и вероятностным выводом в дискретных  продукционных интеллектуальных системах, анализирующая структуру следствий из входящих в конфликтное множество продукций и сравнивающая ее со структурой предпосылок цели вывода, чтобы выбрать продукцию, применение  которой способно в максимальной степени подтвердить истинность текущей цели. Известно, что динамические стратегии обеспечивают большую гибкость, чем встроенные, в которых ход выбора предопределен априорно. Предложенный  подход к представлению и анализу информации в интеллектуальных системах отличается от существующих тем, что  в нем оперативно учитывается внутренняя структура данных и знаний интеллектуальной системы. Это позволяет повысить скорость вывода в дискретной интеллектуальной системе.  Практическая значимость:  представленные в работе  правила управления применением продукций позволяют ускорить процесс достижения цели вывода при детерминированном, вероятностном и нечетком представлении информации в интеллектуальной системе. Ключевые слова  — дискретная интеллектуальная система, комбинированный вывод, управление применением  продукций. 

Задача в интеллектуальных системах ИнС в самом общем виде определяется как пара S, G, где S исходная информация source что дано, а G целевая информация goal что найти, получить. В качестве S и G могут служить совокупности известных фактов, ситуаций и состояний. Для конкретности далее исследуются ИнС с продукционной базой знаний БЗ. Информация о задаче и ходе ее решения хранится в базе данных БД, а о способах изменения данных в БЗ. Каждое правило продукция состоит из двух частей. В левой описывается группа фактов или знания о текущей ситуации, а в правой содержатся действия, которые должны быть выполнены, если в БД найдется информация, соответствующая левой части правила. Действия правила могут состоять в модификации набора фактов в БД, например, в добавлении нового факта. Эти новые факты в свою очередь могут быть в дальнейшем использованы для сопоставления с левыми частями других правил. Отсюда следует, что применение правила состоит из двух этапов сопоставления левой части правила с текущим состоянием БД и в случае успешного сопоставления выполнения действий, указанных в правой части правила. Процесс применения правил порождает цепочку вывода. Существуют два основных способа ее порождения. Один из них получил название прямого вывода, а другой обратного. При прямом выводе поиск новой информации происходит в направлении стрелок импликаций, разделяющих левые и правые части правил. Решатель ИнС использует информацию из левых частей, чтобы вывести информацию, содержащуюся в правых частях. Поэтому иногда прямой вывод называют поиском в пространстве состояний ИнС. Обратный вывод основан на идее сведения задачи к набору более мелких подзадач, решение которых в совокупности эквивалентно решению исходной задачи. Они декомпозируются дальше, и т. д., в результате первоначальная цель реализуется последовательностью элементарных действий, например запросами информации об истинности или ложности исходных данных, нужных для достижения цели вывода. Наиболее гибкий способ вывода комбинированный, когда режимы прямого и обратного вывода чередуются по мере исчерпания возможности получения новых фактов в текущем направлении вывода. Комбинированный вывод реализован во многих ИнС, самая известная из них экспертная система PROSPECTOR 1. Различные способы управления выводом способствуют сокращению перебора, в том числе предложенный авторами 2 метод управления прямым выводом в интеллектуальных системах с дискретными доменами переменных путем анализа эвристических индикаторов хода вывода, использующих некоторые подмножества этих доменов. Однако из-за однонаправленности этого метода невозможно ускорить вывод за счет своевременного изменения его направления и эффективного разрешения конфликта. В настоящей работе предлагается сократить перебор вариантов продолжения вывода на основе того же теоретико-множественного подхода к задачам управления комбинированным выводом и разрешением конфликта. Конфликт в ИнС диагностируется решателем интерпретатором, когда имеется несколько вариантов продолжения вывода и нужно выбрать наиболее перспективное из них 3. Чаще всего конфликт возникает, если на некотором шаге вывода 1, 2, ... появляется несколько продукций, предпосылки которых подтверждаются текущим множеством фактов, хранящихся в БД. Эти продукции называют CS conflict set. Существуют следующие основные способы разрешения конфликта. 1. Правилам заранее приписываются приоритеты, и между ними устанавливается отношение общего порядка. Из CS выбирается правило с максимальным приоритетом. 2. На множестве правил устанавливается частичный порядок, и выбирается подмножество правил с максимальным приоритетом. Например, правило предпочтительнее правила тогда и только тогда, когда левая часть правила представленная как множество фактов является подмножеством левой части правила . Первым применяется правило с более длинным списком фактов в левой части. Такой способ разрешения конфликта получил название специальный случай. 3. На фактах в БД задается отношение полного порядка. Из CS выбирается та продукция, в левой части которой используются данные с макс имальным приоритетом. Прим ером такого подхода служит приписывание возр аста фактам в БД, тогда из CS выбирается продукция, использующая наиболее молодые факты. 4. На данных из БД задается отношение частичного порядка, с учетом которого разрешается конфликт, как и в способе 3. 5. Случайный выбор используют в случаях, когда после применения других способов разрешения конфликта не происходит выбора ни одного правила из CS . Общий недостаток перечисленных способов состоит в том, что они не учитывают внутреннюю структуру заложенных в ИнС знаний. Поэтому ниже предлагается способ управления выводом, анализирующий структуру следствий из входящих в CS продукций и сравнивающий ее со структурой предпосылок цели вывода, чтобы выбрать продукцию, применение которой позволяет ускорить процесс достижения этой цели. Пусть набор переменных, которые могут быть результатами вывода, задан в универсуме, где дискретные или дискретизированные домены множества допустимых значений соответствующих переменных. Тогда любой факт, хранящийся в БД, можно представить в виде свидетельства за некоторые допустимые значения переменной 1 либо в виде свидетельства против некоторых допустимых значений 2 Появление факта вида 2 при детерминированном выводе можно интерпретировать как сужение домена, приняв 3 и поэтому в следующем разделе принято, что в БД есть только факты вида 1. Продукции в БЗ ИнС обычно хранятся в формате условие действие 2 4 где и конъюнкции утверждений вида 1 или 2. Для простоты будем считать, что каждое из этих утверждений есть высказывание. Цель вывода задается как такая же конъюнкция. Интеллектуальная система начинает работать в режиме обратного вывода, когда каждый из конъюнктов начальной глобальной цели сравнивается с конъюнктами правых частей продукций 4 и, если найдена продукция, позволяющая определить истинность этого конъюнкта, вместо него в формулу цели подставляются конъюнкты, содержащиеся в левой части такой продукции. Если ни одна продукция не подходит, ИнС переходит в режим прямого вывода. При прямом выводе левые части продукций 4 сравниваются с фактами вида 1, имеющимися в БД ИнС. Начальное множество фактов вводится в ИнС извне пользователем или автоматически. Если найдена продукция, левая часть которой подтверждается текущим набором фактов т. е. истинны все содержащиеся в ней конъюнкты, и эта продукция исполняется, то в БД добавляются все факты вида 1, содержащиеся в . При появлении фактов вида 2 домены соответствующих переменных сужаются по формуле 3. Если нет подходящих продукций, то ИнС возвращается в режим обратного вывода, причем в качестве цели выбирается только часть конъюнктов, содержащихся в текущей цели вывода иначе обратный вывод сразу остановится. При реализации описанного выше комбинированного вывода возможны две проблемы 1 конфликт между продукциями при прямом выводе и 2 неоднозначность выбора подмножества конъюнктов текущей цели для продолжения обратного вывода. Для разрешения подобных проблем предназначены стратегии управления выводом, обычно имеющие эвристический характер 2. Ниже предлагается одна из таких стратегий, основанная на идеях анализа состава атрибутов и сравнения мощностей множеств, которые предложены авторами для расчета меры неопределенности следствия в рамках алгебры кортежей 4, 5. Пусть на некотором шаге вывода конфликтное множество имеет вид CS, 5 где каждая продукция устроена как в 4. Пусть также к этому шагу текущая цель задана предпосылками, 6 причем структура та же, что у конъюнктов, входящих в и, т. е. имеет вид 1 или 2. Тогда цель разрешения конфликта состоит в выборе такой продукции из 5, применение которой в максимальной степени подтвердит истинность текущей цели. Для этого в следствии каждой продукции из 5 выберем только множество конъюнктов с переменными, одинаковыми с конъюнктами текущей цели 6, вычтем содержащиеся в них множества значений переменных из аналогичных множеств в 6 и вычислим мощность декартова произведения полученных разностей, обозначив его Эта мощность показывает количество сочетаний значений переменных, истинность которых останется неопределенной после применения данной продукции. Поэтому следует применить ту продукцию из CS, для которой число минимально. Здесь идея та же, что и при разрешении конфликта выбрать из конъюнктов текущей цели 6 те, истинность которых легче всего выяснить с помощью имеющейся информации, но теперь степень истинности нужно сравнивать с фактами, содержащимися в БД. При этом уже нет необходимости анализировать множества значений переменных в, достаточно выбрать из 6 те конъюнкты, в которых имена переменных совпадают с именами переменных в фактах из БД. С учетом изложенного получается следующий алгоритм. Проверка истинности всех конъюнктов глобальной цели . Если все они истинны, то стоп истинность глобальной цели доказана имеющимися фактами. Если есть хотя бы один ложный конъюнкт, то стоп истинность глобальной цели противоречит имеющимся фактам. Ложность конъюнкта констатируется, когда после пересчета по формуле 3 получено . Если есть конъюнкты, истинность которых еще не определена, из них формируется текущая цель 6. Обратный вывод каждый из конъюнктов текущей цели 6 сравнивается с правыми частями всех продукций 4, содержащихся в БЗ, и если найдена продукция, позволяющая определить истинность этого конъюнкта, вместо него в формулу цели подставляются конъюнкты, содержащиеся в левой части такой продукции. Если ни одна из имеющихся в БЗ продукций не подходит, ИнС переходит в режим прямого вывода. Прямой вывод левые части продукций 4 из БЗ сравниваются с фактами, имеющимися в БД ИнС. Если найдена продукция, левая часть которой подтверждается текущим набором фактов т. е. истинны все содержащиеся в ней конъюнкты, она добавляется в конфликтное множество CS . Если нет подходящих продукций, то переход к процедуре разрешения конфликта. Разрешение конфликта вычисление для каждой продукции из CS и применение той продукции, для которой число минимально. При этом в БД добавляются факты вида 1, входящие в левую часть примененной продукции, и по формуле 3 перевычисляются домены переменных, о которых появились факты вида 2. Если 6 не имеет общих переменных со следствиями продукций из CS, то переход на шаг 1. Выбор подмножества конъюнктов цели для обратного вывода выбор из 6 тех конъюнктов, в которых имена переменных совпадают с именами переменных в текущем множестве фактов из БД. Если такие найдены, то соответствующие конъюнкты включаются в и переход на шаг 1. Если совпадений нет, то стоп вывод завершен неуспешно истинность глобальной цели нельзя выяснить по имеющимся фактам. Ложность цели вывода констатируется, когда доказана ложность хотя бы одного конъюнкта из 6, т. е. в нем не осталось ни одного возможного значения. При вероятностном выводе каждому значению каждой переменной, т. е. каждому элементу множества пусть мощность этого множества равна, приписывается некоторое значение текущей вероятности того, что переменная принимает значение . В начале вывода обычно считают, что все возможные значения переменных равновероятны, т. е. 1 . 7 Естественно, пользователь имеет возможность изменить начальное распределение вероятностей значений переменных. Факты могут попасть в БД двумя путями они либо вводятся пользователем по запросу ИнС, либо выводятся применением одной из продукций. В обоих случаях при вероятностном выводе каждому факту 1 или 2 приписывается некоторая вероятность, означающая, что переменная принимает или не принимает значения, указанные, соответственно, во множествах или . Для листьевых фактов вводимых вручную это делает пользователь, при срабатывании какого-либо правила она вычисляется с учетом вероятностей фактов, входящих в предпосылки этого правила, и вероятности самогоправила, отражающей мнение экспертов о достоверности причинно-следственной связи между предпосылками и следствиями правила 6. По понятным причинам в БЗ ИнС входят только достаточно достоверные правила, для которых превышает заданное пороговое значение например, 0,9 или выше 7. Таким образом, для правил вероятностного вывода вместо 4 требуется формат, . 8 Обычно 6 всем следствиям сработавшего правила приписывается вероятность, равная произведению на вероятность условия этого правила, которая определяется как минимальная вероятность одного из конъюнктов, входящих в предпосылки правила, либо как произведение вероятностей таких конъюнктов. После вычисления вероятностей следствий правила по известным формулам пересчета априорной вероятности в апостериорную 7 вычисляется новое распределение вероятностей значений переменных, входящих в следствия примененного правила. Детальное рассмотрение вопросов вычисления текущих распределений вероятностей значений переменных универсума выходит за рамки настоящей работы, поскольку здесь нас интересуют отличия стратегии управления вероятностным выводом по сравнению с представленным выше детерминированным выводом. Они состоят в следующем. 1. Сужение текущих доменов переменных универсума аналогично 3 обычно производится все же для ускорения хода вывода, но из списка возможных значений некоторой переменной исключаются не все значения, указанные в фактах 2 против, а только те, текущая апостериорная вероятность которых стала нулевой либо ниже заданной минимально допустимой величины например, 0,1 или 0,2 5, 6. 2. В конфликтное множество 5 включаются только продукции, в условии которых перечисляются достаточно вероятные факты например, минимальная вероятность конъюнктов равна 0,9 или 0,8 6, 7. Процедура разрешения конфликта строится аналогично детерминированному выводу, но при сопоставлении следствий правил 5 и конъюнктов цели 6 также учитываются только достаточно вероятные подмножества или доменов переменных. 3. При выборе конъюнктов цели для обратного вывода анализируются не только имена входящих в них переменных, но и подмножества их значений или с учетом текущих вероятностей составляющих эти подмножества значений переменных. Для доказательства ложности цели выбираются подмножества с наиболее низкими вероятностями, для доказательства истинности с наиболее высокими. 4. Алгоритм управления комбинированным вероятностным выводом включает те же шаги, что и алгоритм управления детерминированным выводом, но единственным критерием преждевременного завершения вывода здесь является ложность одного из конъюнктов цели 6, в противном случае вывод продолжается, пока в БЗ есть применимые продукции. Когда таковых не остается, реализуется дополнительный шаг алгоритма, ответственный за интерпретацию результата вывода. 5. В недетерминированных вероятностных, нечетких и др. стратегиях управления выводом проблема интерпретации результата намного сложнее, чем в детерминированных стратегиях. В общем случае ее решение связано с созданием специальных процедур интерпретации, в основном эвристических и существенно зависящих от предметной области ИнС. Поэтому в настоящей работе они не рассматриваются. Разработанная стратегия управления выводом относится к динамическим настраиваемым 3, 8 стратегиям, так как параметры выбора на каждом шаге вывода зависят от результатов предыдущего шага. Такие стратегии обеспечивают большую гибкость, чем встроенные 3, 8 стратегии, в которых ход выбора предопределен априорно. Предложенный теоретико-множественный подход к представлению и анализу информации в ИнС применим как к детерминированному выводу, так и к вероятностному или нечеткому. Работа частично поддержана грантами РФФИ проекты 13-07-00318-а, 14-07-00256-а, 14-07-00257-а, 14-07-00205-а, 15-07-04760-а, 15-07-02757-а. 