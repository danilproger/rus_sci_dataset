МОДИФИЦИРОВАННЫЕ АЛГОРИТМЫ И КЛАССИФИКАЦИЯ  АНАЛОГО-ЦИФРОВЫХ ПРЕОБРАЗОВАТЕЛЕЙ   ЧАСТЬ 1: ПАРАЛЛЕЛЬНО-ПОСЛЕДОВАТЕЛЬНЫЕ АЛГОРИТМЫ 

Предложено аналитическое описание различных модификаций алгоритмов аналого-цифровых преобразователей, включая мажоритарный и нейронноподобный принцип обработки информации, на базе которых выполнен сравнительный анализ их свойств, доведенных до численных результатов, и разработана классификационная схема аналого-цифровых преобразователей. Ключевые слова  — преобразователь аналог-код, параллельно-последовательный алгоритм, древовидный  фрактал, конвейерный преобразователь, параллельный преобразователь. 

Эволюция алгоритмов аналого-цифрового преобразования неразрывно связана с процессом совершенствования структур аналого-цифровых преобразователей АЦП, причем развитие этих процессов взаимодополняющее. Стремление максимально приспособить алгоритм аналого-цифрового преобразования к современным требованиям информационных технологий, а также к процессу совершенствования электронных компонентов, из которых состоит схема АЦП, для улучшения в целом технических средств обработки информации приводит к поиску новых принципов построения АЦП. Типичным примером является возникновение параллельно-последовательных структур АЦП на основе известных алгоритмов поразрядного уравновешивания или в комбинации с чисто параллельными АЦП 13, а также алгоритмов сигма-дельта АЦП 4, 5. Поиск способов преодоления недостатков, ограничивающих возможности по быстродействию алгоритмов последовательного типа, с одной стороны, и связанных с ограничениями по точности и сложности реализации алгоритмов параллельного типа, с другой стороны, привел к созданию новых параллельно-последовательных структур АЦП. Алгоритмы, лежащие в основе новых АЦП, в литературе называются многокаскадными или с циклическим уточнением. Встречаются также иные названия этих алгоритмов многотактные многоступенчатые, поддиапазонные алгоритмы, а также, с учетом их некоторой модификации, конвейерные алгоритмы и, соответственно, конвейерные АЦП. Причем, если в структуре АЦП используются только два диапазона, то такой АЦП называется двухтактным, если используются три диапазона, то трехтактными и т. д. Вариации в терминологии, в частности многотактных алгоритмов, алгоритмов конвейерного типа, вводятся для привязки этого названия к определенным модификациям технического решения фактически одного и того же алгоритма, главным отличительным признаком которого являются параллельно-последовательные действия в процессе аналого-цифрового преобразования. Преимуществом подобных алгоритмов является существенное повышение быстродействия при сохранении высокой точности аналого-цифрового преобразования в том случае, когда при преобразовании в каждом или хотя бы в одном цикле преобразования используется алгоритм и, следовательно, АЦП параллельного типа. Параллельно-последовательные алгоритмы позволяют решить проблему значительного увеличения быстродействия без существенного усложнения схемы, свойственного АЦП параллельного типа, в котором при увеличении числа разрядов нелинейно по степенному закону возрастает сложность реализации схемы и, следовательно, стоимость АЦП. В этом случае переход к двухтактному АЦП позволяет применить два однотипных параллельных АЦП либо комбинированно использовать один параллельный АЦП, а второй АЦП поразрядного уравновешивания, что, несомненно, приводит к существенному сокращению времени преобразования. В предлагаемой работе, в развитие работ 14, 6, представлены в математической форме и исследованы методами имитационного моделирования алгоритмы многотактных АЦП, а также алгоритмы с дополнительной обработкой функции сравнения. Формальная или математическая запись алгоритмов аналого-цифрового преобразования в виде отображений существенно расширяет возможности по синтезу новых алгоритмов, так как позволяет в комбинации математических методов и методов имитационного моделирования без существенных затрат создавать и исследовать новые, более совершен ные алгоритмы, приспосабливая для их технической реализации современные электронные технологии. Алгоритмы, представленные ниже в математической форме, предполагают использование в многотактных АЦП алгоритмов поразрядного уравновешивания. Однако их легко можно модифицировать для применения в каждом цикле различных по виду алгоритмов преобразования. Один из возможных простейших вариантов известной структурной схемы двухтактного АЦП показан на рис. 1. В соответствии с приведенной схемой входной сигнал одновременно подается на вход первого -разрядного 1 и вычитающий вход усилителя с коэффициентом усиления, равным 2 . Выходной код 1 параллельно поступает на входы высокоточного цифроаналогового преобразователя и старших разрядов сумматора. Преобразованный в аналоговую форму -разрядный код 1 по сигналу устройства управления поступает на вычитающий вход усилителя . Усиленная в 2 раз разность между входным сигналом и выходным напряжением вновь преобразуется в цифровой код 2 и записывается по сигналу устройства управления в младших разрядов сумматора. Результат суммирования кода 2, поделенного на делитель 2, с кодом 1 по сигналу управления считывается на выходе сумматора и, таким образом, образует выходной 2 разрядный двоичный код. При этом входной сигнал может поступать на входы 1 и усилителя через устройство выборки и хранения УВХ. Синхронизация и автоматическое управление всей схемой двухтактного АЦП осуществляется устройством управления, куда входит также и тактовый генератор. Двухтактный алгоритм в аналитическом виде при использовании алгоритма поразрядного уравновешивания с индикаторной функцией сравнения 1 в каждом цикле преобразования имеет вид 1 1, 1, 1 2 1, 1, 2, 1 а при использовании алгоритма со знаковой функцией сравнения 1 получаем соответственно 1 sign 1, 1, 1 sign 2 1, 1, 2 . 2 Окончательный результат выводится путем суммирования кодов 2 2 2, где 1 и уравновешивающая физическая величина, или просто уравновешивающая величина напряжение, ток, сопротивление и т. п., на 1-м и -м тактах преобразования сравнения или уравновешивания для каждого цикла преобразования текущее значение номер временного такта уравновешивания, причем 1, ..., число двоичных разрядов временной такт, через который осуществляется сравнение входного сигнала с уравновешивающей величиной на м такте сравнения временной такт уравновешивания заданная последовательность, определяющая закон изменения уравновешивающей величины в зависимости от изменения, причем 2 заданный диапазон изменения уравновешивающей величины входной сигнал с ограничением обычно входной сигнал, если пренебречь его изменением во времени на интервале преобразования, равен сум ме собственно сигнала и случайной аддитивной помехи, т. е. и 2 кодовые эквиваленты уравновешивающей величины на соответствующем такте уравновешивания, т. е. и 2 2 величина кванта, определяющего число уровней квантования входного сигнала в пределах диапазона изменения и sign функции сравнения входного сигнала с уравновешивающей величиной для 1, 2, ... . Эти функции имеют следующий вид 1 Напомним, что функция сравнения описывает работу реального сравнивающего устройства СУ 6. Первую индикаторную функцию сравнения можно также выразить через вторую знаковую функцию сравнения в соответствии с формулой 0,51 sign . Как вытекает из полученных выражений 1 и 2, вид двухтактного алгоритма усложняется по сравнению с исходными алгоритмами поразрядного уравновешивания. Такое усложнение алгоритма приводит к естественному усложнению исходной структуры АЦП поразрядного уравновешивания. Структура АЦП, которая реализует рассмотренный выше двухтактный алгоритм, приобретает вид, указанный на рис. 1. В настоящее время известны серийные микросхемы АЦП, например ----2и ----6 фирмы -------2и ----6 фирмы -----2и ----6 фирмы ---и ----6 фирмы --- и ----6 фирмы -------6 фирмы -----6 фирмы ------LOG -EVICES с числом 2. Если число тактов поддиапазонов, циклов в каждом цикле преобразования увеличить до 2 значений, но в каждом такте преобразова значений, но в каждом такте преобразования оставить одно и то же число разрядов, то алгоритм усложняется и описывается системой 1, 1, 2, 1, 2, 3 где приобретает соответствующую форму для индикаторной или знаковой функции сравнения, причем для 1, 1, 2 1 1, 1 2, здесь число тактов уравновешивания в -м цикле преобразования -го диапазона 1, здесь установленное число поддиапазонов тактов в полном цикле аналого-цифрового преобразования 2, 1, 2, const. Результатом преобразования является значение кода В дальнейшем алгоритмы с индикаторной или знаковой функцией сравнения в зависимости от значения параметра будем называть двухтактными, трехтактными и т. д. индикаторными или знаковыми алгоритмами аналого-цифрового преобразования соответственно. Алгоритм многоступенчатого преобразования 3 может несколько измениться в зависимости от числа разрядов, устанавливаемых в каждом такте ступени преобразования, что приведет к несовпадению числа разрядов и соответствующих коэффициентов усиления результатов вычитания в каждом цикле преобразования. Действительно, если при тактах преобразования на каждом такте преобразования число разрядов будет меняться и зависит от, т. е. принимать значения, то алгоритм усложняется и приобретает вид системы уравнений в конечных разностях 4 где 1, 1, 1, 0 Результатом преобразования является значение кода Для 1, т. е. для однотактного алгоритма, в данном случае алгоритма поразрядного уравновешивания, получаем так как 0. Для двухтактного алгоритма при 2 получаем и так далее. Алгоритм 4 в явном виде, например для индикаторной функции сравнения при числе установленных тактов в полном цикле поразрядного преобразования, раскрывается следующим образом т. е. описывается системой итерационных алгоритмов -го порядка и легко трансформируется в алгоритм вида 3 для const. При этом следует иметь в виду, что 0, 2 2. Параметр определяет структурную схему АЦП и для const и 2 соответствует структурной схеме, приведенной на рис. 1. Промышленностью выпускаются также АЦП, построенные на основе алгоритмов многотактного преобразования, у которых допускается временное перекрытие кодов в каждом такте преобразования. Такие алгоритмы с определенной модификацией целесообразно использовать в АЦП конвейерного типа, которые имеют преимущество по быстродействию при преобразовании, в том числе для изменяющегося во времени входного сигнала 3. Подобные модифицированные АЦП рассмотрены ниже. При числе разрядов, на которое перекрываются коды в каждом -м такте преобразования, алгоритм 3 представляется в виде 5 где 1, 1, 1, 0 0, 0 2, 1 2 Результатом преобразования является значение кода Для двухтактного алгоритма при 2 получаем и так далее. Исследуем представленные алгоритмы посредством моделирования. Для того чтобы выяснить, имеют ли многотактные алгоритмы дополнительные преимущества по сравнению с обычными алгоритмами поразрядного уравновешивания, проведем их сравнительный анализ при одном и том же числе разрядов преобразования. Рассмотрим динамику уравновешивающей величины для двухтактного индикаторного алгоритма аналого-цифрового преобразования и сравним ее с соответствующей динамикой обычного, фактически однотактного или индикаторного алгоритма 1. На рис. 2 показаны 3-мерные графики, полученные в результате моделирования однотактного и двухтактного индикаторных алгоритмов преобразования при различных, одинаковых для обоих алгоритмов, значениях входного постоянного сигнала в отсутствие помех. На рис. 3, представлены в виде древовидного фрактала графики процесса преобразования входного сигнала, изменяющегося случайно от преобразования к преобразованию и остающегося постоянным в процессе преобразования различными алгоритмами аналого-цифрового преобразования. Первая позиция графиков соответствует значениям входного сигнала, одинаковым для обоих рассматриваемых алгоритмов. Значения входного сигнала распределены в пределах диапазона преобразования от 0 до 1 по равномерному закону распределения вероятностей. Графики рис. 3, и получены по результатам преобразования для 20 случаев, рис. 3, для 15 случаев. Моделирование показало, что среднеквадратические ошибки СКО погрешности остаются равными в пределах статистической погрешности моделирования для постоянного сигнала и при воздействии одинаковой аддитивной помехи. На рис. 4, для сравнения представлены графики, характеризующие процесс преобразования синусоидального сигнала в код для различных типов алгоритмов. Как следует из сравнения алгоритмов, двухтактный алгоритм практиче ски не имеет преимуществ по точности при одинаковом числе разрядов по сравнению с обычным алгоритмом поразрядного уравновешивания. Если использовать в многотактном алгоритме АЦП алгоритм параллельного типа 3, то для исследования необходимо представить этот алгоритм также в аналитическом виде. Особенность алгоритма параллельного типа и реализующего его АЦП, представленного на рис. 5, состоит в том, что входной сигнал одновременно сравнивается в 2 1 СУ с аналогичным количеством уровней уравновешивающей величины, формируемой из источника опорного напряжения посредством делителя, собранного на сопротивлениях . Результаты параллельного сравнения входного сигнала с уравновешивающими величинами за один такт преобразуются также параллельно в специальном электронном устройстве приоритетном шифраторе в двоичный выходной код. В математической форме операцию параллельного преобразования можно представить в виде 6 где для индекса 1, 2, принимает последовательно значения 1 или 0 по результатам сравнения в соответствии с нарастанием двоичного кода на 1 от 0 до 2, поэтому оператор, описывающий функцию приоритетного шифратора результатов сравнения, которая выполняется в течение временного такта, формируемого сигналом управления. Как следует из формулы 6, с увеличением числа разрядов двоичного кода на разряд количество СУ и, следовательно, сложность приоритетного шифратора удваивается. Это и является основной причиной, сдерживающей рост числа разрядов в АЦП параллельного типа и переход к схемам параллельно-последовательного типа, дальнейшим техниче ским совершенствованием которых являются параллельно-последовательные АЦП конвейерного типа. Особенностью схемы рис. 6, в отличие от схемы, приведенной на рис. 1, является то 4, что в ней имеется два блока, назначение которых состоит в следующем. Поскольку общее время преобразования в течение одного цикла разбито на два временных подынтервала, в каждом из которых осуществляется одновременно процесс аналого-цифрового преобразования различными АЦП, то, естественно, можно организовать их параллельную работу по конвейерному принципу. Этот принцип заключается в том, что пока в 2 осуществляется процесс преобразования, с 1 считывается результат предыдущего преобразования в буферный регистр, происходит запоминание в блоке 1 следующего значения входного сигнала и выполнение нового преобразования. Процесс нового преобразования в 1 несколько сдвинут на короткое время относительно начала процесса преобразования 2 для выполнения на фиксированном интервале следующих операций считывания результата предыдущего преобразования с 1 в буферный регистр и в регистр подготовки к следующему преобразованию 1 сброс в исходное состояние операций на аналоговом сумматоре-усилителе запуска 1 и 2 и, наконец, запуска на преобразование 1 и 2. Однако по величине суммарный сдвиг от перечисленных вспомогательных операций значительно меньше, чем общее время преобразования в каждом АЦП, участвующем в полном цикле аналого-цифрового преобразования. Для компенсации этого временного сдвига и уравнивания времени преобразования в каждом АЦП 2 имеет большее число разрядов по сравнению с 1. Эта разница в разрядности позволяет также на цифровом сумматоре с коррекцией выполнять суммирование кодов с усреднением и тем самым улучшать не только динамические свойства АЦП, а и дополнительно его помехоустойчивость. Подключение 2 к входному сигналу можно осуществить различными способами см. рис. 6. Аналого-цифровые преобразователи конвейерного типа имеют определенное преимущество по быстродействию при преобразовании, в том числе при преобразовании изменяющегося во времени входного сигнала, даже при использовании в АЦП1 и АЦП2 алгоритмов последовательного действия типа поразрядного уравновешивания. При числе разрядов, на которое перекрываются коды в каждом -м цикле преобразования, алгоритм для конвейерного АЦП представляется в виде - где 1, 1, 1, 0 0, 0 1, число установленных тактов преобразования 2, 1, 2, 1, 1, 1, число тактов сравнения в соответствующем поддиапазоне число перекрывающихся временных тактов уравновешивания в -м поддиапазоне преобразования 0 0, 0 1, . Результатом преобразования является значение кода ку творческой мысли инженеров в исторический период развития цифровой электроники, охватывающий вторую половину прошлого века. 