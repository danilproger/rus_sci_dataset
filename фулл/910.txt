ПОСТРОЕНИЕ АДАПТИВНЫХ АЛГОРИТМОВ  СЕРВОУПРАВЛЕНИЯ МАНИПУЛЯТОРАМИ НА ОСНОВЕ  ОБРАТНЫХ ЗАДАЧ ДИНАМИКИ И НЕЙРОННЫХ СЕТЕЙ 

Рассматривается новый класс алгоритмов управления роботами и манипуляторами, основанных на двух  компонентах. Для определения желаемого управляющего механической системой момента используются адаптивные алгоритмы управления на основе концепции обратных задач динамики, а для формирования этого момента следящим скоростным или позиционным приводом робота применяется нейронная сеть. Ключевые слова  — обратные задачи динамики, нейронные сети, роботы, манипуляторы, управление, следящая система. 

Передовые фирмы производителей роботов и их систем управления СУ для достижения высокого качества сервоуправления управления с обратной связью в последние годы начинают использовать алгоритмы отслеживания траекторий с учетом динамики его механической системы. В настоящей работе рассматривается класс алгоритмов сервоуправления, основанных на концепции обратных задач динамики и нейронных сетях НС. Пусть объектом управления является робот-манипулятор. Хотя все дальнейшие рассмотрения могут быть легко распространены с соответствующими модификациями и на другие роботы и мехатронные системы, ограничимся для конкретности случаем манипулятора. При формировании управляющего сигнала на приводы робота учитывается следующий аспект их реализации. Для существующих современных микроконтроллерных приводов, имеющих встроенный цифровой регулятор, управляющий сигнал обычно является векторным по каждому шарниру и включает в себя в режиме управления по положению задание положения, задание ограничение скорости, задание ограничение тока. Будем в полной мере использовать возможности приводного уровня СУ и формировать такой векторный сигнал с учетом динамики механической системы робота, используя вычисляемые в реальном времени коэффициенты уравнений Лагранжа. Рассмотрим общий подход к построению регуляторов, комбинирующий классические методы управления с методами управления на основе НС. При классическом построении адаптивной СУ, прежде всего, необходимо вычислить коэффициенты его уравнений динамики, например, в форме уравнений Лагранжа 2-го рода 1, 2. После чего можно сформировать управляющие моменты на приводы, которые обеспечат высокое качество управления. Более того, применяя специальную форму такого управления, можно получить стабилизирующее формально устойчивое или даже адаптивное управление 35 с помощью такого вектора моментов в шарнирах. Однако существующие сервоприводы замкнуты по скорости или положению координате и имеют управляющие сигналы в виде скорости или положения. Проблемой является получение такого управляющего сигнала на привод, который вызывал бы необходимый управляющий момент. Авторы предлагают использовать НС в качестве такого преобразователя. Очевидным выходом такой НС будет являться необходимый сигнал управления по положению или скорости на входе привода. Вектор входных сигналов на НС состоит из величин, которые оказывают влияние на значение входного сигнала привода, т. е. аргументы оператора обратного преобразования привода перехода от необходимого управляющего момента к вектору входного сигнала на привод . Кроме очевидной величины желаемого стабилизирующего момента таковыми являются, прежде всего, реальные значения выходного момента в предыдущие моменты времени на предыдущих шагах управления, откуда, . Обучение НС осуществляется путем математического моделирования привода или даже физического макетирования на реальном приводе. При этом экспериментальные данные располагаются в прямой цепи на вход привода подаются некоторые управляющие значения, т. е. значения координаты положения привода, и при этом протоколируются необходимые характеристики объекта в данном случае выходные моменты привода в последовательные моменты времени. Для одной присоединенной координаты манипулятора углу или линейному перемещению в шарнире рассмотрим структурную схему сервоуправления рис. 1. На этой схеме СУ может варьироваться от простого Пили ПИД-регулятора до реализованного в компьютере сложного алгоритма сервоуправления. Объектом является манипулятор, состоящий из механической системы руки и электрического как правило привода. Здесь 0 входной сигнал, являющийся программной траекторией присоединенной координаты манипулятора реальная выходная присоединенная координата манипулятора входной сигнал на привод манипулятора. Классическое управление с учетом динамики основано на вычислении уравнений динамики манипулятора в виде их коэффициентов или интегральных величин, например программных моментов в шарнирах. В случае абсолютно твердых звеньев уравнение динамики механической системы манипулятора, записанное в форме уравнений Лагранжа -го рода, имеет вид 1, 2 1 где, нелинейная -матричная функция нелинейная -мерная векторфункция, -мерный вектор параметров манипулятора -мерный вектор обобщенных сил как правило, моментов в шарнирах и начальные конфигурация и скорость. Описание оператора привода основано на передаточной функции, соответствующей структурной схеме на рис. 2. Одной из наиболее удачных форм представления управления с учетом динамики является предложенная в работах 3, 4 и основанная на определении коэффициентов уравнений Лагранжа 1 форма, позволяющая также представить в таком виде и адаптивный вариант управления за счет идентификации -мерного вектора параметров манипулятора 2 где и гурвицевы устойчивые матрицы коэффициентов усиления динамической ошибки и ее скорости и Обозначим оператор такого алгоритма . Существует классическая схема НС управления, т. е. применения НС в качестве всей СУ в виде оператора рис. 3 69. Если в схеме см. рис. 1 оператор СУ проектируется с помощью классических методов теории управления инженерные методы Зиглера Никольса, частотные методы, модальное проектирование регуляторов 10, то НС СУ создается в результате обучения. Первый шаг в разработке НС СУ состоит в выборе типа и структуры НС например, персептрона, линейной НС, НС обратного распространения ошибки 6, 8, 9. Затем выбранная структура НС формирует свои реальные параметры с помощью обучения. Обучение может осуществляться разнообразными методами, среди которых можно выделить два главных класса обучение с учителем или без учителя, и наиболее популярным в настоящее время является обучение с помощью градиентного алгоритма обратного распространения ошибки 6. Один цикл процедуры обучения заключается в подаче выбранного репрезентативного множества входных сигналов на НС, получении соответствующих выходов в результате математического моделирования процесса прохождения сигнала через НС, сравнении полученных выходов с желаемыми с формированием ошибки рассогласования. Наконец, в подаче этой ошибки в структуру НС для перенастройки ее параметров коэффициентов усиления и аддитивных добавок. В настоящей работе предложена несколько иная схема НС СУ. Она подсказана уже упоминавшимся фактом, что имеются эффективные алгоритмы моментного управления, основанные на уравнениях динамики объекта управления управление на основе концепции обратных задач динамики. В то же время имеются большие проблемы описания обратного уравнения привода, т. е. определения входного сигнала, необходимого для создания желаемого момента на выходе привода. Разобьем СУ на две компоненты, одна из которых осуществляет вычисление необходимого адаптивного стабилизирующего управляющего момента, сформированного на основе концепции обратных задач динамики 3, 4, а другая, является НС-регулятором, формирующим входной сигнал на привод манипулятора, необходимый для создания полученного управляющего момента 6 3 Тогда оператор всей СУ равен произведению операторов моментного адаптивного управления и НС-управления приводом . Обратимся теперь к вопросу выбора, обучения и использования НС СУ для конкретного манипулятора, в качестве которого выберем привод одной степени разработанного в ЦНИИ РТК космического манипулятора. Рассмотрим тип и структуру НС, реализацию ее в системе инженерных расчетов MatLab, обучение и эксперименты. Структура моделирующей программы состоит из головного модуля ControlAdaptNN.m, который последовательно вызывает функции, реализующие отдельные элементы схемы. Начнем с определения набора данных для обучения управляющей НС, представленной оператором . Для этого производим функцией simDrive математическое моделирование созданной в MatLabSimulink математической модели привода Drive.mdl, представленного структурной схемой на рис. 2. Для создания репрезентативной подборки обучающих данных, которые позволят удовлетворительно настроить параметры НС, необходимо на вход привода подать достаточно богатое множество входных сигналов, включающее типовые ступенчатые, линейные и гармонические сигналы. Далее средствами MatLab создается та или иная НС. В нашем случае в результате анализа была выбрана НС net функцией net newff в виде многослойного персептрона 4-слойного, с двумя входами, которая далее была обучена функцией train и представлена в среде Simulink функцией gensim. В целом в среде Simulink процесс создания НС СУ представляется схемой на рис. 4. Результат обучения НС представлен на рис. 5 выход с привода Drive, ошибка момента и выход с НС Neural Network. Видно, что значение ошибки составило порядка 10 в начале процесса стабилизации и плавно ушло к 0 далее. Такая малая ошибка стабилизирующего момента позволяет получить очень маленькую динамическую ошибку координаты на траектории. Далее необходимо в среде MatLab создать адаптивный алгоритм управления вида 2. Поскольку в среде программирования Delphi имелась функция, реализующая такой алгоритм даже в реальном времени 11, то был выбран способ реализации посредством вызова в MatLab S-функции, являющейся функцией адаптивного алгоритма в Delphi. Результат стабилизации программной траектории перехода из точки в точку с трапециевидным изменением скорости представлен на рис. 6. Здесь приведены графики ошибки для обычного позиционного управления при отслеживании программной траектории PM-алгоритм и рассматриваемого адаптивной НС СУ S-алгоритм. Создание адаптивных систем сервоуправления высокого качества трудно реализуется в рамках классических подходов. Предложенный подход открывает возможность для более гибкого проектирования СУ роботов и манипуляторов за счет привлечения интеллектуальных технологий, в данном случае НС, на нижнем уровне СУ. 