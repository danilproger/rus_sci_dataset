МОДИФИКАЦИЯ АЛГОРИТМОВ УПРАВЛЕНИЯ,  ИСПОЛЬЗУЮЩИХ ПРАВИЛА НЕЧЕТКОГО  УСЛОВНОГО ВЫВОДА 

Анализируются недостатки известных алгоритмов управления на основе правил нечеткого условного вывода. Предлагается модификация алгоритмов, устраняющая выявленные недостатки. Представлены результаты  моделирования, показывающие, что новый подход позволяет получить лучшее качество управления. Ключевые слова  — нечеткое множество, функция принадлежности, правила нечеткого условного вывода. 

Нечеткое управление различного рода техническими объектами в настоящее время получило достаточно широкое распространение, прежде всего, в тех приложениях, где применение методов классической теории автоматического управления осложнено трудностью создания адекватных математических описаний. Разработанные нечеткие контроллеры в ряде случаев обеспечивают качество управления, не уступающее классическим регуляторам 15. Среди известных алгоритмов нечеткого управления наиболее распространены алгоритмы Мамдани, Сукамото, Ларсена, которые основаны на правилах нечеткого условного вывода ПНВ, образующих базу знаний нечеткого контроллера. Независимо от вида алгоритма все они содержат следующие этапы 1 фаззификацию, когда устанавливается соответствие между числовыми значениями входных переменных и определенными для них лингвистическими значениями 2 поиск в базе знаний нечеткого контроллера подходящего правила или правил нечеткого управления 3 обработку ПНВ, которая включает в себя свертку условий в условной части правил и формирование нечеткого вывода вычисление импликации. Если при формировании управления предполагается использование нескольких правил, то формируется интегральный вывод 4 дефаззификацию преобразование нечеткого вывода в числовое значение для формирования управляющего воздействия. Этапы 1, 2, 4 выполняются во всех алгоритмах аналогично, а различие между ними заключается лишь в формировании нечеткого вывода. Поскольку именно третий этап является предметом рассмотрения настоящей работы, то остановимся на нем более подробно, взяв за основу алгоритм Мамдани. Отметим, что алгоритмы Сукамото и Ларсена отличаются от алгоритма Мамдани только в части формирования управляющего воздействия. Рассмотрим упрощенный вариант, когда в управлении используются две входные переменные и, для которых определены лингвистические значения, 1, 1, которым соответствуют нечеткие множества с функциями принадлежности где, универсальные множества. Положим для простоты 4, 3 рис. 1. Нечеткий вывод представлен лингвистическими значениями, 1, 3 Пусть управление осуществляется по правилам 1 если и, то 2 если и, то . 1 Согласно алгоритму Мамдани аналогично для Сукамото и Ларсена, сначала выполняется свертка условий в левой части правил и вычисляются соответствующие функции принадлежности 2 Сложность состоит в том, что операция пересечения определена для нечетких множеств, заданных на одном и том же универсальном множестве. В нашем случае это условие не выполняется. Поэтому в известных алгоритмах операция пересечения заменяется операцией min, которая выполняется не над соответствующими функциями принадлежности, а над их так называемыми синглтонами, т. е. значениями соответствующих функций принадлежности при конкретных значениях входных переменных, поступающих на вход системы в момент времени см. рис. 1. На рисунке 3 4 где, текущие значения входных переменных. На наш взгляд, в этом решении есть несколько недостатков. По существу на данном наборе значений входных переменных многокритериальная задача сводится к однокритериальной. Правило 1 приводится к виду 1 если, то, а 2 2 если, то . 5 Очевидно, что это другие правила и вообще другая ситуация управления. Первое правило в некоторых пределах практически не реагирует на изменение второй входной переменной, пока . В какой-то мере ситуацию спасает наличие второго правила, но все равно это обстоятельство скажется на качестве управления. Аналогичные соображения можно высказать и в отношении правила 2 5. Очевидно, что это же будет иметь место и при большем числе условий в левой части правил управления. Кроме того, указанные выше алгоритмы не способны различить ситуации, представленные, например, наборами правил если и, то если, то если, то 6 если и, то если, то если, то . 7 Нетрудно показать, что в обеих ситуациях 6, 7 будет принято одно и то же решение. Это известный недостаток алгоритма Мамдани. Следует отметить, что правила вида 6, 7 использовались в работе самого Мамдани 5. Необходимо также отметить, что в указанных алгоритмах в определенной мере теряется влияние вида функции принадлежности рис. 2. Особенно это проявляется в алгоритме Сукамото, где итоговое решение вычисляется как взвешенное . На рисунке, где показано три варианта функций принадлежности нечетких множеств, представляющих вывод, видно, что для любой симметричной функции принадлежности решение будет одним и тем же, так как значения и остаются неизменными независимо от вида функций принадлежности. Можно ожидать, что это отрицательно скажется на качестве управления. Для дополнительного доказательства этого положения рассмотрим ситуацию, когда все нечеткие множества, представляющие переменные ПНВ, определены на одном и том же универсальном множестве. На рис. 3, представлен результат выполнения традиционного алгоритма Мамдани, когда операция пересечения заменена операцией min над синглтонами, на рис. 3, если используются пересечения нечетких множеств. Результат дефаззификации решение или сигнал управления для рис. 3, 4,58, для рис. 3, 3,2. Различия в результатах очевидны и составляют около 30 . Конечно, это искусственная ситуация, но она нужна только как демонстрация возможных различий. В замкнутых системах управления эти недостатки в какой-то мере устраняются именно за счет обратной связи, что позволяет строить нечеткие контроллеры. Однако в разомкнутых системах результаты не всегда получаются удовлетворительными. При этом надо отметить, что если для управления используется только одно правило, то указанные недостатки только усугубляются. Кроме того, применение этих алгоритмов в задачах многокритериального альтернативного выбора может дать противоречивые результаты 6. Вернемся к алгоритму Мамдани. Ограничимся рассмотрением одного правила, например 1, результат обработки которого запишем следующим образом 8 Нетрудно показать, что это соотношение может быть представлено в виде 9 Соотношение 9 указывает на то, что нет необходимости выполнять свертку критериев в условной части ПНВ. Импликацию можно вычислять для каждого критерия, а свертку выполнять над частными импликациями. Таким образом можно обеспечить участие каждого критерия в формировании нечеткого управления. Конечно, пока остается нерешенной проблема вычисления пересечений множеств, стоящих в квадратных скобках соотношения 9. Кроме простых правил вида 1 могут использоваться более сложные если и, то если и, то 10 если и, то, иначе . 11 Согласно алгоритму Мамдани, для правила 10 может быть записано соотношение, 12 которое можно переписать и так, т. е. все опять сводится к вычислению частных импликаций. Правило 11 можно записать следующим образом 7 Учитывая доказанные соотношения 6, 7, получим что также подтверждает возможность отказа от свертки критериев в условной части правил вида 10 и 11. Кроме этого, следует рассмотреть еще одну ситуацию, которая может возникнуть при обработке ПНВ рис. 4. Пусть имеется правило если и и, то, при этом все нечеткие множества в условной части правила определены на одном и том же универсальном множестве. На рисунке нетрудно видеть, что попытка построить свертку условий на основе операции пересечения приведет к получению пустого множества. Поэтому в известных алгоритмах операция пересечения опять же заменяется на операцию min, выполняемую не над нечеткими множествами, а над синглтонами. Результатом этой операции будет значение . Недостатки этого подхода мы уже обсуждали ранее. Переход на вычисление частных импликаций позволяет предложить следующее решение. Построим из элементов условной части ПНВ группы, включающие все возможные комбинации нечетких множеств, дающие непустые пересечения см. рис. 4 0, 0, и вычислим частные импликации для этих групп, При обработке ПНВ кроме импликации Мамдани часто используется импликация Лукасевича 8, которая, например, для правила 1 запишется в виде 13 Действуя аналогично, можно доказать справедливость равенств Можно показать, что т. е. объединение импликаций Лукасевича, вычисленных отдельно для нечетких множеств и, совпадает с импликацией, вычисленной по соотношению 11, что также указывает на то, что в случае применения импликации Лукасевича нет необходимости выполнять свертку критериев в условной части ПНВ. Импликация Заде для простого правила если, то вычисляется по формуле maxmin, 1 . Для правила 1 1 импликация Заде будет вычисляться по формуле maxmin, 1 . Запишем эту формулу несколько иначе И, наконец, для классической нечеткой импликации для правила 1max1, при получим Проведенный выше анализ показывает, что для наиболее распространенных вариантов обработки ПНВ можно отказаться от выполнения свертки критериев в условной части, выполняя расчет частных импликаций для каждого из критериев, и затем выполнять необходимые преобразования над этими частными импликациями. На наш взгляд, в этом есть одно существенное достоинство, состоящее в том, что здесь сохраняется участие всех критериев условной части ПНВ в его обработке. Определенным недостатком является то, что процедура обработки ПНВ получается более громоздкой, что, конечно, потребует больших вычислительных затрат. Однако современная элементная база не критична к подобного рода усложнениям. В случае программной реализации этот недостаток вообще малосущественен. Отметим, что полученные результаты не являются окончательным решением задачи, а только обеспечивают возможности для дальнейшей модификации существующих алгоритмов обработки ПНВ. Вернемся к одному из правил вида 1, например 1 если и, то . Как было показано выше, результатом его обработки будет нечеткое множество с функцией принадлежности . 14 Поскольку нечеткие множества, принадлежат различным универсальным множествам, то вычисление соответствующих пересечений в соотношении 14 по определению невозможно. Известно использование цилиндрических продолжений 7 для вычисления конъюнктивных форм, но для управления техническими объектами оно достаточно сложное. В работе 6 была предложена новая операция над нечеткими множествами, которая первоначально была названа геометрической проекцией нечетких множеств. Это название было признано неудачным из-за близости по названию с операцией проекции нечетких множеств, поэтому было предложено новое название тень нечетких множеств Sh, Определим эту операцию следующим образом. Тень нечеткого множества на нечеткое множество должна удовлетворять следующим условиям 1 нечеткое множество 2 3 если хотя бы одно из множеств или пустое или множества и ортогональны. Процедуру построения тени нечеткого множества на нечеткое множество определим следующим образом рис. 5 15 где проекционная функция координаты центров тяжести фигур, ограниченных функциями принадлежности функционал, задающий вид преобразований над функциями принадлежности. Смысл этой операции состоит в том, что в зависимости от взаимного расположения нечетких множеств и, соответственно, угла наклона проекционной прямой изменяется тень одного нечеткого множества, накладываемая на другое. Этим будет определяться степень взаимодействия оценок понятий, представляемых нечеткими множествами. Нечеткое множество которое проецируется на другое нечеткое множество, назовем источником тени. Нечеткое множество на которое проецируется тень нечеткого множества назовем приемником тени. Тени типа min и max будут иметь место, если min и max соответственно 16 17 Обратная тень Более подробно свойства этой операции рассмотрены в работах 6, 9. В случае использования этой операции для управления техническими объектами применительно к алгоритмам Мамдани и Сукамото она была несколько видоизменена в части определения проекционной функции где текущее значение переменной рис. 6. Для нечеткого правила условного вывода вида 1 если и то, получим Sh, Sh, . Графическая иллюстрация вывода представлена на рис. 7. Нетрудно видеть, что в данном случае сохраняется влияние каждого из условий на результирующий вывод и, кроме того, будет учтен характер используемых функций принадлежности. И наконец, следует отметить, что предложенный метод обработки импликации свободен от еще одного недостатка импликации Мамдани, состоящего в том, один и тот же результат получается для различных по логике условных правил. Как уже отмечалось, для правил eсли и, то и если, то если, то, будет получен один и тот же результат. Если реализовать эти правила через операцию Sh, то для первого правила получим Sh, Sh, для второго Sh, Sh, Нетрудно показать, что Sh, Sh, Sh, Sh, . Рассмотрим возможности и результаты практического применения описанных выше подходов к решению задачи управления техническими объектами. В качестве объекта управления для проведения исследования была выбрана установка для нагрева жидкостей, так как объект данного типа является классическим примером САУ в теории управления, а также идеологически соответствует принципам нечеткого управления сложная природа процессов и в то же время простая и понятная логика управления объектом 10. Упрощенная схема САУ представлена на рис. 8. Обоснованием этого варианта является наличие, во-первых, стратегий управления, доказавших свою работоспособность, во-вторых, апробированной модели, реализованной в среде MatLab 11. Бак с теплой водой разделяется на несколько отсеков, переменный поток холодной воды 2 проходит последовательно отсеки и покидает бак в последнем отсеке. Холодная вода нагревается в теплообменнике, в котором течет по трубам переменный поток горячей воды 1 с температурой 90 С. Задача состоит в поддержании постоянной температуры воды в одном из отсеков и, по возможности, в сохранении постоянства потока 2 посредством регулирования динамических значений 1 и 2 В среде Simulink программного комплекса MatLab построена модель рис. 9 в соответствии со структурой, представленной в работе 10, где объект управления описывался соотношением, где, весовые коэффициенты Исходные данные для создания нечеткого регулятора были взяты из работы 10 с целью сопоставлять получаемые результаты более обоснованно. Диапазон изменения величин поток горячей воды 1 0,5 42 поток холодной воды 2 1 18 заданное значение температуры нагрева 45 С. Результаты сравнительного моделирования стандартного и модифицированного алгоритмов Мамдани представлены на рис. 10, и в таблице. Интегральная оценка ошибки стандартный алгоритм Мамдани модифицированный алгоритм стандартный алгоритм Сукамото модифицированный алгоритм Нетрудно видеть, что модифицированный алгоритм дает заметно лучшее качество управления. Предложенная в статье модификация алгоритмов управления на основе ПНВ обеспечивает более высокое качество управления, чем традиционные алгоритмы. Это объясняется тем, что в процессе управления сохраняется влияние всех управляющих переменных, входящих в условную часть правил управления. 