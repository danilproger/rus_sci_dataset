ОТЕЧЕСТВЕННЫЕ СУПЕРКОМПЬЮТЕРНЫЕ ТЕХНОЛОГИИ ЭКЗАФЛОПСНОГО КЛАССА – НЕОБХОДИМОЕ УСЛОВИЕ ОБЕСПЕЧЕНИЯ ТЕХНОЛОГИЧЕСКОЙ КОНКУРЕНТОСПОСОБНОСТИ РОССИИ В XXI ВЕКЕ 

Владение технологиями предсказательного суперкомпьютерного моделирования при разработке высокотехнологичной продукции в настоящее время является необходимым условием конкурентоспособности страны на высокотехнологичных мировых рынках. Эти технологии относятся к категории стратегических и недоступны на коммерческой основе. Именно данное обстоятельство определило опасное технологическое отставание России от мировых лидеров в авиационной, автомобильной, космической, энергомашиностроительной отраслях. Позиция нашей страны на мировом энергетическом рынке сегодня вполне значима. И именно эта позиция – основа ее экономической, военной и политической безопасности. Поэтому Россия должна выстроить такую стратегию технологического развития, чтобы удержать в третьем тысячелетии долю мирового энергетического рынка, достаточную для своего устойчивого социально-экономического развития. А это невозможно без создания отечественных технологий комплексного предсказательного суперкомпьютерного моделирования процесса извлечения и переработки углеводородов. Использование новейших технологий суперкомпьютерного моделирования в высокотехнологичном промышленном производстве и добыче углеводородов требует применения суперкомпьютеров производительностью порядка 1018 оп./с (экзафлопс) и, как следствие, разработки отечественных технологий создания таких суперкомпьютеров, новых физико-математических моделей, численных методов, расчетных схем и методик, а также новых технологий создания прикладных программных систем.

 Технологии создания сложных технических систем самолетов, двигателей, систем вооружения и т.д., сформировавшиеся к 40-м гг. XX века, принципиально основывались на возможности непосредственного измерения основных параметров функционирования нового изделия в процессе стендовых и натурных испытаний как основных инструментов его отработки. Роль инженерных расчетов в рамках этих технологий в основном ограничивалась предварительными оценками ключевых параметров нового изделия и уточнением этих параметров на базе результатов стендовых и натурных испытаний. Однако существующие технологии оказались неприменимыми к созданию атомного оружия ввиду принципиальной невозможности непосредственного измерения сверхвысоких скоростей, давлений и температур физических процессов, развивающихся при его функционировании, а также из-за некорректности инженерных расчетов. Поэтому в рамках атомных проектов и СССР, и США фактически были заложены основы принципиально новых технологий создания сложных технических систем, базирующихся как на натурных и стендовых, так и в возрастающей степени на компьютерных испытаниях, расчетных технологиях, обеспечивающих априорное численное предсказание изменения ключевых параметров сложных физических процессов во времени. Получение приемлемой точности таких предсказаний требовало выполнения огромного объема вычислений, а следовательно, применения самых высокопроизводительных на тот момент ЭВМ, а также создания чрезвычайно больших и сложных программных комплексов моделирования физических процессов. До начала 90-х годов прошлого века производительность используемых ЭВМ не превосходила 108109 оп.с, и в этих условиях все еще требовалось проведение значительных объемов как стендовых, так и натурных испытаний. Запрет натурных испытаний ядерного оружия инициировал в конце 90-хначале 2000-х гг. разработку принципиально нового поколения технологий создания сложных технических систем, базирующихся на компьютерных испытаниях как на основном инструменте отработки нового изделия. Основная задача стендового оборудования в рамках этих технологий проведение зачетных испытаний, подтверждающих достоверность результатов компьютерных испытаний. Создание таких технологий потребовало применения ЭВМ производительностью не менее чем 1012 оп.с, а также разработки принципиально новых физико-математических моделей, численных методов, расчетных схем и методик. Владение технологиями компьютерных и зачетных испытаний уже в настоящее время является необходимым условием конкурентоспособности страны на высокотехнологичных мировых рынках, поэтому они относятся к категории стратегических и недоступны на коммерческом рынке. Именно это обстоятельство определило технологическое отставание авиационной, автомобильной, космической и энергомашиностроительной отраслей России от мировых лидеров. Лидерство этих отраслей на мировых высокотехнологичных рынках в XXI веке невозможно без создания отечественных технологий полномасштабных компьютерных испытаний полет самолета во всех режимах и допустимых условиях, предусматривающих радикальное уменьшение объемов зачетных испытаний. Такие технологии требуют применения суперЭВМ производительностью 1018 оп.с экзафлопс и, как следствие, разработки отечественных технологий создания таких ЭВМ, новых физико-математических моделей, численных методов, расчетных схем и методик, а также новых технологий создания прикладных программных систем 1. Проблема обеспечения энергетической безопасности России в XXI веке На мировом энергетическом рынке Россия занимает вполне достойное место. И сегодня это основа ее экономической, военной и политической безопасности. Поэтому надо выстроить такую стратегию технологического развития, которая и в будущем позволила бы удержать достаточную для устойчивого социально-экономического развития страны долю этого рынка. В США для обеспечения энергетической безопасности интенсивно развиваются альтернативные технологии добычи углеводородов из низкокалорийного сырья, каковым являются битуминозные пески, горючие сланцы, сланцевый газ и т.д. Ведется разработка новых технологий получения топлива из этого сырья, включая разработку режимов эффективного и малоотходного горения топлива в камерах сгорания и разработку низкотемпературных двигателей. Новые технологии принципиально основаны на использовании суперЭВМ экзафлопсного класса 1018 оп.с. Поскольку запасы низкокалорийного сырья существенно превышают запасы высококалорийного и имеются практически во всех странах, создание таких технологий неизбежно приведет к существенному сокращению объемов потребления, а следовательно, и добычи высококалорийного сырья в пользу низкокалорийного. Другими словами, спровоцирует масштабный передел мирового энергетического рынка и существенное снижение доли рынка, контролируемой традиционными поставщиками высококалорийного углеводородного сырья, включая и Россию. В условиях этой реальной угрозы сохранение контроля над сегментом мирового энергетического рынка, достаточного для обеспечения устойчивого социально-экономического развития России в третьем тысячелетии, уже сегодня является ключевой стратегической задачей. Решить ее без создания собственных суперкомпьютерных технологий экзафлопсного класса практически невозможно. Работы в области экзафлопсных технологий за рубежом За 1012 лет производительность суперкомпьютеров возрастает в среднем в 1 000 раз. Очередным этапом является достижение производительности 1 экзафлопсс 1018 оп.с, планируемое на 20182020 гг. Основные трудности в этом процессе необходимость эффективного задействования 108109 процессорных ядер и преодоление физических ограничений, обусловленных энергопотреблением, надежностью и конструктивными размерами. В США в 2009 г. по указанию президента с целью сохранения лидирующих позиций в области суперкомпьютерных технологий, их внедрения в науку, промышленное производство и социальные сферы разработан план действий под названием Exascale Initiative 2. Объем ежегодного финансирования исследовательских работ по этому экзафлопсному проекту превышает 100 млн 3. Кроме того, министерство энергетики США является одним из основных учредителей международного проекта International Exascale Software Project IESP 4 соучредителем проекта выступает Национальный научный фонд NSF США. Цель проекта создание программной базы для суперкомпьютеров экзафлопсного уровня, появление которых ожидается в 20182020 гг. На пути к экзафлопсным производительностям департамент энергетики США планирует отказаться от принятой модели развития и внедрения технологий высокопроизводительных вычислений, в основе которой лежат взаимоотношения производителя-продавца, разрабатывающего возможно более универсальные суперкомпьютеры, и потребителя-покупателя, пытающегося приспособиться к приобретенной аппаратуре для решения насущных прикладных задач. От этой методики департамент энергетики да и значительная часть университетской науки стремится перейти к новой методике соразработки англ. co-design, в России используется термин встречнaя оптимизация. Переход к такой методике вызван тем, что, по мнению авторитетных американских ученых, инженеров и администраторов, текущие научные стратегии разработки приложений для суперкомпьютеров устарели и неработоспособны, поскольку образовался гигантский разрыв между целями и компетенциями разработчиков приложений и разработчиков аппаратных средств и системного ПО. Для ликвидации этого разрыва предлагается внедрить новую методику, соразработку процесс, в котором инженеры компьютерных наук, прикладные математики и эксперты в конкретной предметной научной области сотрудничают, чтобы делать научные открытия с помощью суперкомпьютеров. Переход к ней запоздал и не будет легким. Дело в том, что лишь немногие ученые в каждой конкретной предметной области обладают кругозором и техническими навыками, позволяющими продумыватьорганизовывать процесс решения прикладной задачи от аппаратного до прикладного уровня, без чего нельзя воспользоваться возможностями, открываемыми экзафлопсными технологиями. Успех использования следующего поколения суперкомпьютеров станет возможным только при организации тесного сотрудничества между учеными конкретных предметных областей, прикладными математиками, программистами и, наконец, производителями аппаратных средств. В Европе экзафлопсные технологии реализуются в проекте PRACE он предусматривает появление экзафлопсного компьютера в 2019 г. 5 и в финансируемых Евросоюзом проектах European Exascale Software Initiative EESI 6 и Towards EXascale ApplicaTions TEXT 7, направленных на разработку программных технологий, предназначенных для использования в экзафлопсных компьютерах. Общеевропейская программа PRACE является лишь одной из многих интегрирующих программ по развитию новых, в том числе и информационно-коммуникационных, технологий в Евросоюзе. Но было бы ошибкой думать, что эта или аналогичные программы определяют успех реальных процессов развития и внедрения суперкомпьютерных технологий в Евросоюзе. Прежде всего следует отметить, что бюджет всеобъемлющей рамочной программы FP7 составляет всего лишь 7,5 гражданских невоенных затрат Евросоюза на RD. Кроме того, если посмотреть на детали реализации партнерства PRACE AISBL на период 20112015 гг., то выяснится, что на нужды программы PRACE будет распределено не более 30 вычислительной мощности лучших Tier0 компьютеров четырех главных государств-партнеров, в то время как более 70 мощностей будет выделено на национальные программы под конкретные научные и промышленные проекты. Тем самым программа PRACE, опирающаяся на горизонтальные механизмы экспертной оценки в профессиональной среде, нацелена на поддержку краткосрочных перспективных проектов с высокой степенью оригинальности и риска и не ориентирована на решение более долговременных задач обеспечения панъевропейской военной или экономической безопасности. Следует отметить, что у Японии специального экзафлопсного проекта пока не существует, но, согласно Investigation Report on Existing HPC Initiatives. CSA-2010-261513 European Exascale Software Initiative CONTRACT NO EESI 261513, в планах технологического развития на 20112015 гг. есть пункт, включающий разработку HPC-технологий экзафлопсного класса. Возможно тесное сотрудничество с Южной Кореей. Китай о своих планах не сообщает, но, по мнению экспертов, способен создать суперЭВМ экзафлопсного класса на собственной элементной базе в 2020 году. Вышеизложенное свидетельствует об интенсивных действиях ведущих государств мира по созданию экзафлопсных технологий и о необходимости создания к 2020 г. специализированных элементов суперЭВМ на отечественной элементной базе для моделирования многомасштабных процессов экзафлопсного уровня сложности. СуперЭВМ экзафлопсного класса совокупность универсальных и специализированных вычислительных сегментов Межведомственной рабочей группой по развитию индустрии суперкомпьютеров в Российской Федерации в 20102011 гг. была разработана Концепция развития технологий высокопроизводительных вычислений на базе суперЭВМ экзафлопсного класса далее Концепция. Приведенный в Концепции анализ показывает, что с использованием доступных коммерческих комплектующих к 2015 г. возможно собрать в России гибридный неоднородный суперкомпьютер с пиковой производительностью не выше 1020 Пфлопс. Экстраполируя мировые тенденции, можно предположить, что к 2018 г. на коммерческих комплектующих в России можно будет собрать гибридный суперкомпьютер с пиковой производительностью не выше 50100 Пфлопс. Российские суперкомпьютеры 20182020 гг. смогут достичь производительности 50100 Пфлопс только за счет гибридности, то есть высокая производительность может достигаться лишь благодаря использованию графических или многоядерных процессоров-ускорителей. А это значит, что эффективное использование в России введенных в эксплуатацию к 2018 г. суперкомпьютерных мощностей будет возможно только при условии организации ресурсоемкой многолетней работы по модернизациипереписыванию накопленного на сегодня ПО, рассчитанного на стандарт MPI. Разработка новых видов топлива и повышение эффективности сжигания традиционных видов топлива, повышение нефтеотдачи месторождений на территории России требуют эффективного решения комплексной задачи многомасштабного моделирования процессов горения, в частности, сгорания новых видов топлива в двигателях новых конструкций, моделирования тепловых, механических воздействий на нефтяные залежи. Моделирование этих процессов в двигателях требует предсказательного многомасштабного моделирования от течения реакции на уровне отдельных молекул до образования вихрей при подаче топлива в камеру сгорания. В едином моделирующем коде должны одновременно совместно работать различные вычислительные алгоритмы, как-то квантовая молекулярная динамика, классическая молекулярная динамика, кинетический метод Монте-Карло, имитационное моделирование, моделирование больших вихрей, методы с усреднением числа Рейнольдса и др. Именно многомасштабность процессов горения не позволяет провести их прямое численное моделирование с использованием существующих суперЭВМ тераи петафлопсного классов и требует достижения производительности экзафлопсного уровня. Аналогично дело обстоит и с моделированием, например, процессов внутрипластового подземного горения и подземной гидродинамики, а также с моделированием целого ряда других природных и рукотворных многомасштабных процессов. Одна из основных причин этих проблем заключается в том, что современные суперЭВМ тераи петафлопсного классов основаны на массовых коммерческих универсальных решениях микропроцессор, вычислительный и коммуникационный узлы, которые достаточно оптимизированы только для решения задач линейной алгебры, в то время как оптимальная реализация на суперЭВМ совокупности моделей, численных методов и алгоритмов для разных масштабов даже одного процесса например горения, вообще говоря, требует достаточно различных подходов к реализации архитектуры и микропроцессоров, и вычислительных и коммуникационных узлов. Одним из возможных путей решения проблемы моделирования многомасштабных процессов экзафлопсного уровня сложности является создание гетерогенной суперЭВМ, которая наряду с базовым вычислительным сегментом на массовых коммерческих универсальных микропроцессорах включает еще и ряд сегментов на специализированных микропроцессорах, оптимизированных с учетом требований различных масштабов моделирования например, сегменты моделирования процессов внутрипластового горения, подземной гидродинамики, рабочих процессов в двигателе внутреннего сгорания и т.д.. В едином цикле совместно проектируются и аппаратная, и программная составляющие каждого сегмента на основе принципа встречной оптимизации, то есть взаимосогласованной оптимизации методов, алгоритмов, программ и архитектуры микропроцессора для решения данного класса задач. Это, в частности, означает, что процессоры в разных сегментах при наличии единой базовой универсальной составляющей могут значительно отличаться не только набором дополнительных специальных функций, но и способом реализации таких стандартных механизмов, как канал прямого доступа к общей памяти. Имеющийся опыт позволяет утверждать, что при одних и тех же нормах проектирования и изготовления эффективная производительность такого специализированного микропроцессора на данном классе задач будет в 510 раз выше эффективной производительности универсального коммерческого микропроцессора. В частности, это подтверждается достаточно широким использованием в существующих суперЭВМ сегментов на основе массовых коммерческих специализированных графических микропроцессоров для эффективного решения задач предсказательного моделирования методами молекулярной динамики и Монте-Карло. Поэтому очевидно, что одной из первоочередных задач на пути решения экзафлопсной проблемы является создание аппаратно-программных сегментов суперЭВМ на основе существующих коммерческих графических микропроцессоров для моделирования тех взаимодействий и процессов в технических системах и природе, для которых потоковая архитектура обеспечивает существенно более эффективную реализацию расчетных схем, чем архитектура универсальных микропроцессоров, например, моделирование химических взаимодействий между молекулами реагентов и необходимых для этого потенциалов взаимодействия между молекулами различных веществ применительно к проблеме моделирования процесса горения. Основная практическая цель создания таких сегментов обеспечить возможность многомасштабного моделирования при использовании программных моделирующих комплексов тераи петафлопсного уровней, реализованных на основе только коммерческих универсальных микропроцессоров. Другими наиболее важными результатами этой работы должны быть комплекс требований к архитектуре потоковых микропроцессоров, обеспечивающей наиболее высокую реальную производительность, и оценка на этой основе архитектур перспективных графических процессоров, планируемых к выпуску к 2015 г. Это дает возможность создания к 2015 г. новой оригинальной архитектуры потокового микропроцессора, обеспечивающей значительно более высокую производительность на данном классе задач. В Концепции приводятся планируемые технико-экономические показатели вычислительной подсистемы отечественного суперкомпьютера 2015 г. производительностью 10 Пфлопс на базе отечественного гибридного микропроцессора с 16 универсальными суперскалярными ядрами и 128 потоковыми ядрами. Система включает 1 600 однородных вычислительных узлов на базе шестипроцессорного модуля с памятью 256 Гб. Тактовая частота микропроцессора равна 1 ГГц, производительность 1 Тфлопс. Концептуально коммуникационная система специализированного сегмента также должна быть оптимизирована с учетом специфики решаемых этим сегментом задач. Возможный прототип архитектура коммуникационных систем Blue Gene в части следующих принципиальных решений наличие нескольких типов коммуникационных сетей, фиксированная топология сети общего назначения, размещение на одном кристалле нескольких процессорных ядер, контроллера динамической памяти и контроллеров всех коммуникационных сетей. При интеграции вычислительных ядер и коммуникационных контроллеров в одном кристалле требования к коммуникационной системе специализированного сегмента моделирование процессов горения должны быть сформулированы одновременно с требованиями к специализированным вычислительным ядрам системы на кристалле. Реализация такого подхода на основе имеющихся в России научно-технологических заделов обеспечит поддержание до 2020 г. паритета с США в области предсказательного моделирования важнейших классов задач. Рубеж производительности в 50100 Пфлопс представляется достаточным для поддержания до 2020 г. паритета с США на нескольких заранее фиксированных классах задач. Действительно, США планируют к 2020 г. создать и освоить универсальные суперкомпьютеры пиковой производительностью 1 экзафлопс. Планируется, что реальная производительность таких суперкомпьютеров на широком спектре научных и инженерных задач будет достигать 10 . Задача специализации суперкомпьютера экзафлопсного класса с целью достижения более высокой эффективности специалистами США не ставится. Это означает, что оптимизированный на фиксированный класс задач отечественный суперкомпьютер пиковой производительностью 100 Пфлопс при обеспечении эффективности 7080 сможет решать задачи экзафлопсного класса, то есть задачи, доступные неспециализированному суперкомпьютеру пиковой производительностью 1 экзафлопс. Высокопроизводительная вычислительная система для решения задач когерентной обработки данных В течение ряда лет НИИСИ РАН ведет работы по созданию технологии высокопроизводительных вычислений на основе принципа встречной оптимизации ориентации архитектуры микропроцессора на класс решаемых задач в рамках программ фундаментальных исследований Президиума РАН и отделения нанотехнологий и информационных технологий РАН. Важным классом задач, на котором реальная производительность универсальных микропроцессоров составляет проценты от пиковой, являются задачи когерентной согласованной обработки больших объемов данных, описывающих классические, или квантовые, волновые процессы. К ним относятся задачи акустики и гидроакустики прямые и обратные задачи оптики, возникающие в микроэлектронике, в частности, поддержка технологии ОРС optical proximity correction, изготовление масок для производства микропроцессоров молекулярного моделирования в области химии, материаловедения, биологии и фармакологии. Благодаря использованию технологии встречной оптимизации программного и аппаратного обеспечения для задач когерентной обработки разработаны архитектура неоднородного многоядерного микропроцессора К128 не имеющего аналогов в мире, включающего универсальное ядро и комплекс специализированных ядер с оригинальной подсистемой транспорта данных внутри и вне микропроцессора. Изготовлены опытные образцы микропроцессора, вычислительного узла и вычислительного комплекса, производительность которого на реальных задачах когерентной обработки составила 80 от пиковой. Для сравнения отметим, что реальная производительность К128, изготовленного по технологии 65 нм на данном классе задач, будет в 23 раза выше производительности графического процессора NVIDIA, изготовленного по технологии 28 нм. На основе этого научно-технологического задела к 2015 г. может быть создан суперкомпьютер производительностью 10 Пфлопс. Планируемые технико-экономические показатели такого суперкомпьютера на базе отечественного гибридного микропроцессора с 16 универсальными суперскалярными ядрами и 128 потоковыми ядрами приведены в таблице. Система включает 1 600 однородных вычислительных узлов на базе шестипроцессорного модуля с памятью 256 Гб на отечественном микропроцессоре с тактовой частотой 1 ГГц производительностью 1 Тфлопс. Предполагается, что стоимость отечественного процессора 2015 г. составит 1 000. Для создания специализированного сегмента суперЭВМ необходимо определить алгоритмы и архитектуру, позволяющие получить максимальное быстродействие по сравнению с универсальными суперкомпьютерами, а также сформулировать требования к арифметическим ускорителям, выяснить параметры для решения указанных задач. Необходимо также разработать аппаратуру и программный эмулятор для исследования поведенческой модели требуемого специализированного процессора вычислительную модель для каждого масштаба моделируемого процесса архитектуры сегментов суперЭВМ, ориентированные на решение задач каждого масштаба программный комплекс для решения задач горения и подземной гидродинамики, ориентированных на специализированную суперЭВМ экзафлопсного класса. Помимо этого необходимо разработать и изготовить микропроцессорные и коммуникационные СБИС для суперкомпьютера производительностью 100 Пфлопс 200 тыс. чипов изготовить сегменты опытного образца суперкомпьютера 100 Пфлопсс на отечественной элементной базе, ориентированные на решение специализированных задач горения установить прикладной программный комплекс на суперкомпьютер производительностью 100 Пфлопсс и выполнить сравнительные исследования пиковой производительности на специальном классе задач. В результате должен быть создан опытный образец специализированного сегмента суперкомпьютера, который на задачах горения и подземной гидродинамики по производительности не будет уступать универсальному суперкомпьютеру пиковой производительностью 1 000 Пфлопсс. 