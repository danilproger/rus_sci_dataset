УПРАВЛЕНИЕ  В СОЦИАЛЬНО-ЭКОНОМИЧЕСКИХ СИСТЕМАХ РАЗРАБОТКА МУЛЬТИАГЕНТНОЙ СИСТЕМЫ «SMART  FACTORY» ДЛЯ ОПЕРАТИВНОГО УПРАВЛЕНИЯ РЕСУРСАМИ  В РЕЖИМЕ РЕАЛЬНОГО ВРЕМЕНИ 

Описаны принципы разработки мультиагентной системы «Smart Factory», предназначенной для управления  ресурсами производственных цехов машиностроительных предприятий в режиме реального времени. Мультиагентная технология обеспечивает возможность гибко реагировать на непредвиденные события, возникающие  в условиях производственного процесса, что позволяет планировать, оптимизировать и контролировать работу  персонала предприятий в реальном времени. Представлены разработанный метод адаптивного планирования  ресурсов, основные функции, архитектура и интерфейс системы. Показано, что внедрение интеллектуальной  системы «Smart Factory» дает возможность выполнить работу в заданные сроки, снизить затраты и уменьшить  риски. Ключевые слова  — управление ресурсами, машиностроительное производство, мультиагентная технология,  интеллектуальная система, оперативное планирование, режим реального времени. 

Мультиагентная система Smart Factory направлена на повышение эффективности работы производственных цехов машиностроительных предприятий. В условиях любого машиностроительного завода это достигается путем гибкой согласованной корректировки производственных планов в ответ на изменения в окружающей среде в зависимости от возникающих событий. В результате в системе должны одновременно осуществляться процессы распределения ресурсов, планирования, оптимизации, мониторинга и контроля выполнения заказов в режиме реального времени. Система может применяться на машиностроительных заводах, которые характеризуются постоянными инновациями, существенной сложностью изделий и высокой динамикой изменений в среде, а также априорной неопределенностью спроса и предложения, требующей адаптивности при реакции на непредсказуемые события в режиме реального времени. Система также полезна для создания специфической базы знаний о производственных процессах, изделиях и материалах, оборудовании и работниках для обеспечения индивидуального подхода к каждому заказу или ресурсу, позволяет строить более точные и физически исполнимые планы при любых событиях, к числу которых можно отнести появление высокоприоритетного заказа, отказ оборудования, задержку в поставке материалов и т. д. Несмотря на значительный прогресс в развитии теории оптимизации и создании крупномасштабных систем планирования ресурсов предприятия ERP-системы, возможности предприятий по развитию адаптивной системы планирования остаются очень ограниченными 1, 2. Традиционные ERP-системы включают в себя подсистемы сбора заказов, крупные базы данных для заказов и ресурсов, подсистемы учета и отчетности и множество других компонентов. Однако в этих системах поддерживается пакетное планирование, допускающее ручную корректировку. Системы планирования, предлагаемые такими известными компаниями как SAP, Oracle, JDA, i2, ILOG, Preactor и др., обычно реализуют ограниченные методы программирования, основанные на комбинаторном поиске вариантов в сочетании с некоторой эвристикой 1, 2. Эти методы и инструменты разработаны в соответствии с предположением, что входные заказы и ресурсы для их выполнения известны заранее и не меняются в процессе планирования и выполнения плана. Но в реальной жизни ситуация совершенно другая появились новые заказы, заказ отменен или перенесен, оборудование сломалось, работник отсутствует, не хватает детали и т. д. В результате на практике многие классические методы планирования и оптимизации ресурсов имеют ряд существенных ограничений не учитывают сложность современных производственных предприятий, работающих с тысячами заказов и ресурсов, и не отражают интересы многих участников, вовлеченных в процесс производства не предоставляют возможности для адаптивного планирования в реальном времени, что требует динамического разрешения конфликта в зависимости от ситуации при планировании с поддержкой взаимозависимости между всеми заказами и операциями предполагают все заказы и ресурсы идентичными, но на практике каждый из них имеет свои собственные индивидуальные критерии, предпочтения и ограничения, которые могут изменяться в ходе работы не предоставляют инструментов формализации и накопления знаний, которые специфичны для отдельного предприятия и влияют на качество планирования, например, набор навыков каждого работника не позволяют оператору легко и в интерактивной форме настраивать процесс планирования, а также интерактивно дорабатывать результаты планирования и т. д. Поэтому многие диспетчеры цехов до сих пор на практике используют Excel-таблицы для ручного планирования и оптимизации ресурсов. В отличие от традиционных систем планирования ресурсов предприятий, работающих в пакетном режиме в рамках ежедневных, еженедельных, ежемесячных циклов планирования, предлагаемая система, в зависимости от возникающих событий, постоянно функционирует на сервере в режиме реального времени, позволяя адаптивно проводить перепланирование выбранных заказов и ресурсов, на которые оказывают влияние приходящие события. Разработанный метод адаптивного планирования в реальном времени основан на мультиагентной технологии 3, 4 с использованием онтологии, которая включает типичные классы оборудования, технические характеристики структуры продукции и технологические процессы наборы связанных операций, навыки работников и т. д. Адаптивность означает, что даже небольшое событие может вызвать неожиданно длинную цепь изменений в планах, находящихся в неустойчивом равновесии система никогда не останавливается, и даже влиять на план всего цеха. Но на практике эти волны изменений ограничены премиями и штрафами виртуального рынка агентов и могут быстро затухать или быть принудительно остановлены после определенного числа шагов. План работ цеха строится не просто как статичный файл данных, полученный в виде классического комбинаторного поиска, но как баланс интересов вовлеченных в процесс агентов потребностей и возможностей, достигаемый путем выявления конфликтов и проведения переговоров агентов. В процессе переговоров система учитывает текущее состояние планов, значимость заказов, структуру продукции, технологические процессы, навыки работников, доступность оборудования, материалов и инструментов, последовательность работы и время выполнения операций. При необходимости диспетчер цеха может активно вмешаться в план в интерактивном режиме в любое время, проведя ручную доработку плана по принципу drag drop потянуть и бросить, при этом для всех зависимых операций план будет автоматически изменен. Результаты планирования для работников отражаются на сенсорных терминалах, поддерживающих возможность интерактивной коммуникации с менеджерами, инженерами и рабочими. Все эти функции дают возможность существенно сократить сложность планирования и сделать его более быстрым, адекватным, точным, достоверным, а также удобным для пользователя. Пользователи могут имитировать приход нового заказа и проверить, как он будет размещен в текущем производственном плане и как повлияет на другие заказы, например, сдвинет или вытеснит размещенный ранее менее значимый заказ или приведет к задержке выполнения других заказов. Рассматриваемая система работает автономно и предлагает следующие возможности по управлению ресурсами сохранение характеристик оборудования, процессов и технологии автоматический импорт продукции и технологических процессов из CAD-систем введение нового заказа или других важных событий в любое время моделирование и оценку того, как новый заказ влияет на предыдущие заказы, его планирование и запуск на исполнение проверку стоимости этого заказа в новых условиях адаптивное и гибкое перераспределение и перепланирование ресурсов проактивную оптимизацию производственного плана при наличии времени визуализацию сформированного плана в режиме реального времени поддержку применения нескольких стратегий планирования с различными критериями интерактивное улучшение планов для всех ресурсов связь с пользователями для координации и согласования действий назначение задач на каждый рабочий день по каждому рабочему в режиме реального времени динамическое сменно-суточное задание мониторинг и контроль выполнения задач регистрацию обратной связи от рабочих по задачам начало остановка задержка выполнение оперативный контроль разницы между производственным планом и фактом выполнения перепланирование в случае роста разрыва между планом и фактом автоматические отчеты на бизнес-радаре в реальном времени. В систему могут быть интегрированы существующие программы по складскому учету, расчету заработной платы, бухгалтерскому учету и отчетности и т. д. Система адаптивного планирования рис. 1 построена на основе мультиагентной технологии, использующей концепцию виртуального рынка для организации коммуникации между агентами, а также онтологию для представления знаний предметной области и описания моделей ситуаций сцен, возникающих в процессе планирования 3, 4. Virtual World of Resource-Demand Networks Virtual Market место работы агентов ПВ-сети, в котором запускаются и исполняются экземпляры классов агентов. Агенты могут под управлением исполняющей системы создаваться и уничтожаться в мире, существовать в мире, принимать и передавать сообщения, обращаться в сцену для чтения информации, записывать информацию в сцену, подписываться на события и получать уведомления и т. д. Ontology структура данных, представляющая собой модель знаний предметной области, которая используется для построения моделей начальных ситуаций или их корректировки. Имеются базовые онтологии, которые могут дополняться специализированными для предметной области понятиями и отношениями, а также специальными расширениями для каждого отдельного предприятия. Архитектура системы состоит из четырех основных уровней платформы, продукта, предметной области, приложения см. рис. 1. Run Time MultiAgent Execution System подсистема, обеспечивающая асинхронное выполнение программ агентов при переходе из одного состояния в другое диспетчер агентов и передачу сообщений между агентами, при котором агент получает квант времени на обработку событий и далее возвращает управление диспетчеру для продвижения следующих агентов, т. е. агенты работают как сопрограммы. Event Queue подсистема, обеспечивающая накопление событий, приходящих из внешнего мира, и их последовательную обработку. Система управляется событиями, при каждом событии сохраняется метка времени его поступления. Порядок поступления событий на обработку регулируется, когда следующее событие поступает после завершения обработки предыдущего, при этом в первую очередь выбираются приоритетные события и т. д. Ontology Editor позволяет вручную корректировать начальную сцену или вносить в нее изменения в ходе работы. Basic Virtual Market Domain-Specific Extensions содержат базовые и специализированные компоненты, обеспечивающие работу классов агентов ПВ-сети и их переговоры на виртуальном рынке например, выявление конфликтов, определение зон перекрытия, расчет сдвигов и т. п., доступ к сцене, содержащей формализованную модель ситуации, а также эластичную обработку критериев, предпочтений и ограничений агентов, расчеты микроэкономики и поддержку счетов агентов и другие функции. 3rd Party Integration Components компоненты, которые позволяют выполнять дополнительные функции для предметной области например, расчет расстояний по карте для грузовиков и т. д.. Scene of the World основные структуры данных, которые содержат формализованную модель ситуации во внешнем мире, могут уточняться через онтологию и корректироваться событиями. Сцена содержит первоначальное описание ситуации, которое далее постепенно трансформируется в решение проблемы с учетом поступающих событий. В результате сцена содержит новый план действий для пользователя водителя грузовика, мастера, рабочего и т. д.. Data base позволяет сохранять исходные и промежуточные сцены, а также сцены с результатом решения проблемы. Ключевая логика системы планирования реализована в составе агентов, которые функционируют от имени заказов, продукции, работников, станков, материалов и т. д. В процессе жизненного цикла агенты могут реагировать на события, но также функционировать проактивно, выявляя в плане проблемы и пытаясь их решить. Список разработанных ключевых агентов представлен в таблице. Основные направления переговоров между агентами показаны на рис. 2. План цеха представляет собой сцену мира, которая формируется в виде семантической сети объектов и отношений онтологии планирования, связывающих заказы и операции, операции и работников и т. д. рис. 3. Данные связи постоянно исследуются агентами и помогают им для ограничения комбинаторного поиска и нахождения допустимых вариантов через анализ топологии плана связок операций. В системе на экране отображаются все заказы цеха с текущим статусом и различными фильтрами для их визуализации рис. 4. Типовые статусы заказов не начат, планируется, начат, выполнен, в процессе подготовки, остановлен, задерживается, отложен и т. д. Очередь событий дает возможность пользователям вводить информацию о новых событиях и запускать процесс перепланирования, например, ввод в производство нового заказа, компоненты которого отображены слева рис. 5. Комбинация диаграмм Ганта и Перта показывает взаимосвязь между операциями по сборке. Пользователь может выбрать любую операцию и с помощью метода dragdrop перетащить ее с одного работника на другого, объединить или разделить операции, скорректировать план по событию, что вызовет соответствующую автоматическую цепь изменений во всем плане. Если работник не имеет достаточных навыков для выполнения операции, в случае задержек или других проблем система выделит эту операцию красным цветом и выдаст предупредительное сообщение пользователю. Система Smart Factory внедрена в ОАО Кузнецов одно из крупнейших российских предприятий по сборке и ремонту авиационных и ракетных двигателей. В качестве пилотного выбран важнейший для предприятия цех 18, отвечающий за сборку сложных компонент, таких как турбостартеры. Ожидаемые результаты внедрения увеличение производительности цеха на 510 в зависимости от месяца с тем же количеством ресурсов быстрый переход от бумажных документов к цифровым технологиям управления цехом подъем прозрачности производственных процессов до 95 с целью обеспечить более эффективное использование ресурсов и их контроль полная автоматизация процессов планирования и координации для повышения производительности управленческой работы цеха интегрирование с существующей на заводе ERP-системой, в которой рассчитывается заработная плата работников с анализом плана-факта, имеется информация по материально-техническому снабжению и т. д. обеспечение быстрой реакции на непредсказуемые события новый заказ, поломка оборудования и т. д. в целях автоматического обновления плана цеха в зависимости от возникающих событий так, чтобы он становился более реалистичным и мог быть использован для прогнозирования узких мест в заказах по отношению к ресурсам индивидуальное планирование всех ресурсов и заказов уменьшение негативного человеческого фактора приписки, ошибки и т. д. и повышение позитивного за счет более гибкого, надежного, правильного и точного процесса принятия решений значительное сокращение сложности в управлении ресурсами цеха сейчас ежедневные задачи для сотрудников делаются вручную. По оценке топ-менеджмента завода, главным результатом проекта должно стать достижение полной прозрачности при планировании ресурсов в цехе. Это позволит увеличить эффективность использования ресурсов и соблюдать сроки работ по заказам за счет своевременного выявления всех узких мест и быстрого на них реагирования в режиме реального времени. Ожидается, что экономия от перехода к управлению в режиме реального времени обеспечит полный возврат инвестиций примерно за 1,4 года. Инт еллектуальная система Smart Factory обеспечивает поддержку принятия решений для управления ресурсами в режиме реального времени, что помогает улучшить качество и обеспечить соблюдение заданных сроков выполнения работ, а также снизить затраты и уменьшить риски. На следующем этапе развития системы планируется разработка адаптивной p2p сети мультиагентных планировщиков, функционирующих в реальном времени и взаимодействующих друг с другом с помощью шины данных предприятия, в целях поддержки высокой производительности, масштабируемости, гибкости и надежности работы системы. Предлагаемый подход может быть также эффективно использован для решения задач моделирования производственных процессов в реальном времени. Работа выполнена при финансовой поддержке Министерства образования и науки РФ, государственный контракт ГК 07.524.12.4022. 