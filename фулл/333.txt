МАТЕМАТИЧЕСКАЯ МОДЕЛЬ ПОЛЬЗОВАТЕЛЬСКОЙ СЕТИ-НА-КРИСТАЛЛЕ 

Развитие микроэлектроники обеспечило возможность реализации сложных электронных систем в интегральном исполнении. При разработке этих систем выбирают такие САПР, интегральные технологии и маршруты проектирования, которые позволят сократить сроки проектирования, повысить надежность и качество получаемого решения. Для повышения эффективности процесса проектирования предлагаются различные методологии, например, система на кристалле (SoC – system on a chip), система в корпусе (SiP – system in a package), многокристальные модульные системы (MCM – multi chip module) и др. Для проектирования сложных мультипроцессорных систем на кристалле (MPSoC – Multiprocessors System on a Chip) была предложена технология «Сеть-на-кристалле» (NoC – network on a chip). Архитектуры специализированных приложений MPSoC включают многочисленные однородные вычислительные ядра и модули памяти. Каждое ядро обеспечивает ограниченный набор прикладных функциональных возможностей. Для таких проектов можно представить однозначные схемы межъядерной коммуникации. Технологию NoC используют при проектировании для построения коммуникационной среды, обеспечивающей взаимодействие модулей системы. NoC состоит из маршрутизаторов, физически связанных друг с другом. Каждое вычислительное ядро и модули памяти подключены к NoC через интерфейс ресурса к сети (RNI-interface). В общем случае технология NoC предполагает использование однородной топологии – решетки, которая обеспечивает подключение к каждому коммутатору одинакового числа ядер, образующих домен. Домены системы взаимодействуют и представляют регулярную структуру. Альтернативным решением является использование неоднородной топологии, что предполагает учет на этапе проектирования специфических особенностей ядер разрабатываемой системы. Выбор количества маршрутизаторов и способа коммутации выполняют с целью минимизации задержки сигналов, площади кристалла и уровня энергопотребления. Использование неоднородной топологии ориентировано на проектирование специализированных приложений, обладающих минимальной универсальностью. Предложена математическая модель пользовательской сети-на-кристалле (NoC). Приведен алгоритм поиска кратчайшего пути в графе.  Представлены полученные результаты работы алгоритма для оптимизации топологии NoC.

 Для решения проблем коммуникации архитектур мультипроцессорных вычислительных систем в работах 1, 2 предложена сеть-на-кристалле . Она состоит из физически связанных маршрутизаторов. Каждое ядро вычисления или хранения взаимодействует с NoC через сетевой интерфейс ресурса. NoC изменяема, поддерживает коммуникацию, основанную на пакетной коммутации, через многократные домены синхронизации, а также высокую полосу пропускания, что позволяет использовать параллельные коммуникационные технологии. Одной из основных проблем при проектировании специализированных приложений по технологии NoC является высокое энергопотребление кристаллом. Авторами предложен математический аппарат описания модели NoC, пригодный для решения задачи оптимизации структуры сети с целью минимизации энергопотребления. Для описания сети-на-кристалле использован математический аппарат теории графов. Дополнительно введены следующие параметры, которые используются при автоматизированном проектировании топологии NoC. Архитектура маршрутизатора характеризуется следующими параметрами мощность, потребляемая на одной полосе пропускания трафика, поступающего в направлении входа для любого порта маршрутизатора мощность, потребляемая на одной полосе пропускания трафика, поступающего в направлении выхода для любого порта маршрутизатора. Модель мощности физического канала передачи данных, где обозначает мощность, потребляемую на одну полосу пропускания трафика, поступающего через канал, на единицу длины канала. Общая топологическая структура ядер системного уровня. Максимальное расстояние между маршрутизаторами D. С математической точки зрения цель проектирования пользовательской NoC состоит в том, чтобы построить ее архитектуру и минимизировать расход энергии. Минимизацию расхода энергии выражаем как где dist манхэттенское расстояние между двумя маршрутизаторами j и l 3, 4. Минимизация энергопотребления происходит за счет синтеза оптимального маршрута между двумя узлами в сети и уменьшения количества маршрутизаторов . Пока v U, пусть v U вершина с минимальным dv. Добавим вершину v к U. Здесь v элемент множества вершин графа V E множество ребер графа wi, j вес ребра ij a вершина, от которой ищутся расстояния до других вершин U множество посещенных вершин du результирующая переменная, значение которой по окончании работы алгоритма равно длине кратчайшего пути из a в u. Количество маршрутизаторов уменьшаем за счет объединения близко стоящих друг к другу маршрутизаторов в один маршрутизатор. После построения минимальных путей в каждом маршрутизаторе переходим к построению минимальных путей между маршрутизаторами, в результате получим окончательную топологию. Для нахождения минимальных путей между маршрутизаторами используем тот же алгоритм, что и при поиске минимального пути внутри маршрутизатора, но со следующими обозначениями V множество маршрутизаторов E множество связей между маршрутизаторами wi, j вес связи ij a маршрутизатор, от которого ведется поиск U множество посещенных маршрутизаторов du по окончании работы алгоритма равно длине кратчайшего пути из a до u pu по окончании работы алгоритма содержит кратчайший путь из a в u. После нахождения кратчайшего пути между маршрутизаторами кратчайший путь между ядрами можно найти следующим образом. Вначале необходимо задать параметры отправителя и получателя . Если src и des находятся внутри одного маршрутизатора, тогда используем найденные ранее минимальные пути внутри маршрутизатора и передаем данные по ним. Если же src и des находятся в разных маршрутизаторах, тогда сначала сформируем минимальный путь между маршрутизаторами, а потом локально внутри каждого маршрутизатора. Так как src и des находятся в разных маршрутизаторах, сначала строится путь между маршрутизаторами. Рассмотрим пример работы алгоритма со следующими ограничениями максимальная длина пути 2,5 мм, количество портов на маршрутизаторе 3. Алгоритм включает пять шагов. Для каждого шага приводятся значения потребляемой энергии, количество связей, общая длина путей и количество маршрутизаторов 6, 7. Очевидно, что после оптимизации топологии количество потребляемой энергии сократилось почти в 1,5 раза, количество связей в 2 раза, длина путей уменьшилась с 6,5 мм до 5мм. Проведенный анализ показал, что предложенный алгоритм позволяет получить топологию NoC с энергопотреблением на 30 ниже, чем NoC из 1. В работе предложены математическая модель и алгоритм минимизации длины путей и энергопотребления сетей-на-кристалле с пользовательской топологией. Было проведено сравнение алгоритма синтеза NoC из 1 и предложенного алгоритма. Результатом является выигрыш в энергопотреблении на 30 . 