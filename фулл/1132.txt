МАТЕМАТИЧЕСКАЯ МОДЕЛЬ  СЛУЖБЫ КАТАЛОГОВ 

Постановка проблемы:  при обращении к службе каталогов множества сервисов (прокси-сервера, файлового сервера и т. д.) сервер каталога должен обрабатывать тысячи записей. Чем быстрее сервер каталога обработает  запрос, тем быстрее данные будут обработаны следующим сервисом, запросившим информацию. В высоконагруженных локальных вычислительных сетях временная характеристика службы каталогов — важный параметр работы всей  сети. Целью работы является построение математической модели каталогов для моделирования поведения данного  сервиса с последующим анализом результатов.  Методы:   проведен анализ исходного кода службы каталогов OpenLDAP, структуры хранения данных каталога и характеристик дисковых систем.  Результаты:  определены типы операций  с записями каталога: чтение, запись, удаление. Определены условия работы каталога в высоконагруженных локальных  вычислительных сетях, например, количество записей каталога, настройки кэширования, параметры используемой базы данных и структуры хранения данных. Определена временная характеристика каталога как суммарное значение  временных затрат дисковой системы и центрального процессора. Детально расписана каждая составляющая временной характеристики. Сформулирована математическая модель службы каталогов. Представлены результаты, полученные теоретическим и эмпирическим методами.  Практическая значимость:  данная модель может применяться для  моделирования поведения службы каталогов при построении высоконагруженных локальных вычислительных сетей или  для оптимизации работы в существующих решениях. Ключевые слова  — служба каталогов, базы данных, математическая модель, временная характеристика. 

Каталог простой способ упорядочения чего угодно. Каталоги прочно вошли в нашу жизнь. Вы пользуетесь каталогом, отыскивая номер в телефонной книге. То же самое вы делаете, когда организуете файлы и папки на жестком диске своего компьютера. И служба каталогов тоже является неким набором информации, базой данных сетевых ресурсов 1. Для служб каталогов характерны следующие типы операций чтение, запись, удаление 2. Время операций напрямую связано с количеством записей в каталоге чем больше записей, тем больше время. Основная задача каталога хранение и поиск различных данных. В случае службы каталогов следует учитывать, что чем меньше время операций, тем быстрее происходят последующие действия, связанные с полученными данными аутентификация, авторизация, работа почтовых сервисов, работы файловых сервисов и т. д. Подробнее о действиях с полученными данными описано в более ранних публикациях 3, 4. Время операций основная характеристика службы каталогов 5. Предлагаем рассмотреть работу службы каталогов с такими условиями на сервере выполняется только служба каталога количество записей более 10 000, т. е. служба работает в высоконагруженной локальной вычислительной сети служба каталогов использует для хранения записей нереляционную базу данных BDB опции кэширования отключены для службы каталогов, BDB, файловой системы BDB хранит записи блоками по 4 и 16 КБ 6 структура хранения данных имеет вид граф-дерева, где все записи расположены в одной ветке 7. Можно сделать предположение, что временная характеристика такой службы каталогов будет зависеть от времени занятости дисковой системы, процессорного времени операции и может быть представлена суммой, 1 где время операции время занятости дисковой системы время процесса в режиме пользователя. Для расчета времени занятости дисковой системы воспользуемся формулой, где размер записи количество записей в ветке каталога скорость операции дисковой системы. Скорость операции дисковой системы равна произведению функционального значения операций вводавывода за секунду времени и размера записываемогочитаемого блока данных 8 1024, где функциональное значение операций вводавывода за секунду времени размер блока в BDB. C учетом того, что фактическое значение операций вводавывода зависит от общего количества операций вводавывода, получим 9, 2 где общее количество для дисковой системы процент операций чтения процент операций записи значение пенальти для RAID. Чтобы перевести значение из килобайт в секунду в мегабайты в секунду, выражение 2 следует поделить на 1024 1024. Общее количество операций вводавывода является произведением значения операций ввода вывода заданного производителем носителя и количества носителей, где количество операций вводавывода в секунду, заданных производителем количество носителей 9. Время процесса в режиме пользователя вычисляется на основании данных статуса процесса, где изначальное время выполнения процесса в режиме задачи текущее время выполнения процесса в режиме задачи изначальное время выполнения процесса в режиме ядра текущее время выполнения процесса в режиме ядра количество тиков за секунду. В операционных системах семейства GNU Linux исходные данные расположены в файле procpidstat 10. С учетом всех преобразований исходная зависимость 1 имеет вид 1024 . Значение в данной модели ограничено условием, где выделяемый размер под базу данных каталога. Рассмотрим тип операции чтение. Исходные данные 12 560 0,0014 МБ 70 1 100 0 0 16 КБ 1127 988 501 437 100 000 0,0014 12 560 102470 1 100 70 1 0 0 16 1127 988 501 437100 000 18 006,016112 000 0,002 0,1627. Эмпирические данные были получены с помощью команды time операционной системы GNULinux 0,163 с. Используя представленную модель службы каталогов, можно спрогнозировать временные затраты на ту или иную операцию каталога. Видно, что временные затраты сильно зависят от размера записи, количества записей в ветке поиска и параметров дисковой системы. Зная это, можно оптимизировать работу службы каталогов по выбранным временным критериям. Предлагаемые способы оптимизации изменение структуры хранения данных каталога ветвлением в ширину уменьшение размера записи выбор более производительной дисковой системы. Различие теоретических и эмпирических значений обусловлено округлением вывода данных команды time. 