АЛГОРИТМ  РАСПОЗНАВАНИЯ  КОНФИГУРАЦИЙ  ЗВЕЗД 

Предлагается процедура распознавания звезд, основанная на сравнении наблюдаемой конфигурации звезд с множеством эталонных конфигураций, задаваемых по каталогу. Показано, что при произвольной ориентации искусственного спутника Земли алгоритм вычисления угловых расстояний между звездами конфигурации и ускоренного перебора эталонов реализуется в режиме реального времени и не требует больших объемов памяти. 

Управление угловым положением искусственного спутника Земли ИСЗ его ориентация 1 может базироваться на измерении угловых положений наблюдаемых звезд. Информационный подход к ориентации ИСЗ 2 предполагает выработку направляющих косинусов для определения матрицы перехода связанной с ИСЗ системы координат к базовой, имеющей общее начало со связанной системой. Кинематические параметры могут быть измерены при одновременной фиксации как минимум двух неколлинеарных векторов, ориентация которых относительно базовой системы координат известна 2, 3. Фиксация линий визирования на две и более звезды позволяет рассчитать углы рыскания, тангажа и крена, характеризующие взаимное положение связанной и базовой систем координат. В качестве базовой, как правило, используется орбитальная система координат рис. 1. Оптические изображения наблюдаемых звезд, например ПЗС-матрицей рис. 2, преобразуются в последовательности импульсных электрических сигналов, из которых отбираются подходящие для распознавания звезд. Распознавание наблюдаемых звезд их идентификация с указанными в каталогах 4 позволяет оценить текущую ориентацию ИСЗ и выработать управляющие сигналы для придания нужной. Стандартные оптико-электронные преобразователи обеспечивают достаточные значения отношения сигналшум при наблюдении звезд 56, общее количество которых велико тысячи 5, 6. Распознавание нескольких наблюдаемых звезд на этом фоне при отсутствии априорных сведений возможно при использовании некоторой процедуры с приемлемыми вычислительной сложностью и требованиями к объему памяти. Процесс ориентации может начинаться в произвольной точке орбиты при неизвестном угловом положении ИСЗ, т. е. ось оптической системы может быть направлена в любую точку сферы, а изображение участка звездного неба может быть повернуто на любой угол относительно соответствующего стандартного изображения из звездного каталога. Одним из условий быстрого распознавания звезд является его инвариантность нормализация преобразование к должна быть исключена. В работе предлагается инвариантный к алгоритм распознавания звезд в системе ориентации с погрешностями порядка угловых минут и оцениваются требования к памяти. Наиболее достоверным методом распознавания групп звезд считается сравнение оценок угловых расстояний с их эталонами 6, 7. Процедура распознавания базируется на инвариантности взаимных угловых расстояний между звездами с номерами и относительно углового положения идеальной оптической системы, в которой значения одинаковы в центре и на краях изображения. Звезды из каталога 4 ярче 5 всего 1620 звезд нумеруются, образуя рабочий каталог. Угловые расстояния хранятся в градусах, а не в косинусах углов, как в работе 6. Угол, измеряемый с погрешностью порядка угловых минут картографирование, посадка и стыковка ИСЗ 2, в любом из этих форматов записывается в двух байтах, и экономии памяти при переходе от углов к косинусам нет. Собственные движения звезд не учитываются данные о положении звезд соответствуют эпохе каталога HIPPARCOS 4 1991,25. Эталонными являются значения для всех пар звезд. При распознавании оцениваются угловые расстояния между парами наиболее ярких звезд, и оценки сравниваются с эталонными значениями в блоке оценивания см. рис. 2, вырабатываются Инвариантность к изображению достигается введением конфигураций звезд совокупности нескольких пар с одной общей центральной звездой. Эталонной конфигурацией является множество номеров звезд из рабочего каталога и соответствующих им взаимных угловых расстояний . Условие уникальности угловых расстояний 6, приводящее к необходимости их измерений с погрешностями в угловые секунды, снимается в пределах 2 угловые расстояния могут повторяться. Пример эталонной конфигурации, включающей три яркие звезды из созвездия Ориона и попавшую в поле зрения звезду Альдебаран из созвездия Тельца, показан на рис. 3 шесть угловых расстояний, . Видимые звездные величины для Ori 0,18, для Ori 0,45, для Tau 0,87, для Ori 1,54 . На рис. 3 указаны индексы звезд, включенных в, и их номера из рабочего каталога. Например, метка 0 322 для звезды Ригель означает индекс 0 центральная в конфигурации, 322 ее номер в рабочем каталоге метка 2 273 для Альдебарана 2 номер в конфигурации, 273 номер в рабочем каталоге. Эталонные конфигурации не хранятся в памяти они формируются на заключительных этапах распознавания. Множество возможных конфигураций можно сформировать из множества оценок угловых расстояний Оценки позволяют также по рабочему каталогу получить множество допустимых эталонных конфигураций. Теперь распознавание заключается в сравнении с для выделения . Если это равенство выполняется для одной конфигурации, распознавание однозначно. Процедура упрощается, если в оставить одну конфигурацию можно организовать эффективный просмотр рабочего каталога и формирование эталонных конфигураций. Алгоритм распознавания включает следующие этапы 1 формирование исходной конфигурации наблюдаемых звезд 2 выделение базы исходной конфигурации 3 формирование баз-кандидатов 4 формирование эталонных конфигурацийкандидатов 5 сопоставление исходной конфигурации с эталонными распознавание. Исходная конфигурация формируется выбором центральной наиболее яркой звезды, которой присваивается индекс 0, и базовых звезд с индексами 1, . Базовые звезды выбираются в окрестности центральной звезды по признаку убывания блеска. Например, для созвездия Ориона при измерении угловых расстояний с ошибкой N0, 20 6, исходная конфигурация 18,606 26,494 14,789 21,389 7,530 15,754 3 может соответствовать наблюдениям и измерениям, показанным на рис. 4. Поскольку блеск первых четырех звезд Ori, Ori, Tau, Ori различается не более чем на 1,5, их сигналы должны отбираться после оценки блеска с соответствующей точностью. Яркие планеты и объекты исключаются из конфигураций по признакам слишком большого блеска. База исходной конфигурации состоит из угловых расстояний между центральной звездой и базовыми на рис. 4 база База-кандидат множество звезд из рабочего каталога с угловыми расстояниями, близкими к . Базы-кандидаты графически могут отличаться от и формироваться вокруг разных центральных звезд рис. 5 кроме центральной звезды Ригель в каталоге нашлись звезды 22 Ori и HIP87936, образующие 18,587 26,513 14,774 и 18,583 26,483 14,797 . Ниже множество номеров центральных звезд обозначено, набор множеств номеров базовых звезд, соответствующих каждой центральной звезде, . Для всех пар звезд 0, 1, 2, из базы конфигурации исходных пар формируются множества соответствующих им эталонных пар из рабочего каталога. Так как угловые расстояния в исходных парах измерены с погрешностью, каждой исходной паре могут соответствовать несколько эталонных, . Следовательно, эталонной парой, для исходной пары 0, является любая пара с угловым расстоянием Для формирования множеств удобно использовать дополнительные таблицы таблицу пар, в которой хранятся эталонные номера звезд и и соответствующие им угловые расстояния, а также хеш-таблицу для быстрого доступа к таблице пар. Таблица пар упорядочивается по возрастанию, следовательно, в качестве результата достаточно для каждой пары 0, выделить номера начальных строк и числа строк, которые необходимо будет выбрать из таблицы пар. Общее количество пар для звезд есть число сочетаний Оценка плотности распределения количества пар, полученная по рабочему каталогу, показана точками на рис. 6. Она может аппроксимироваться синусоидальной зависимостью см. рис.6, сплошная линия Тогда количество пар, заключенных в интервале Объем памяти, необходимый для хранения таблицы пар 1 где размеры ячеек для эталонных номеров и размер ячейки, отводимой под хранение взаимного углового расстояния данной пары. Например, при отведении по 2 байт на хранение эталонных номеров и 2 байт на хранение и ограничении размера таблицы пар интервалом 0, 60 1921 кбайт. Хеширование использование хеш-функции и хеш-таблицы предназначено для ускорения поиска эталонных номеров пар звезд. В обычном режиме без хеширования поиск велся бы, начиная с пары с наименьшим взаимным угловым расстоянием. Если в среднем выбиралась бы исходная пара звезд с угловым расстоянием, близким к половине угла зрения оптической системы, то перебирались бы 2 88000 пар звезд. Так как все пары в таблице пар упорядочены по возрастанию взаимного углового расстояния, то поиск интересующей пары можно начинать не с начала таблицы, а с некоторой пары, у которой угловое расстояние близко к исходной пары 0, 1, 2, . Номера строк для таких пар записываются в хеш-таблицу. Для этого весь возможный диапазон угловых расстояний делится на равные промежутки с шагом и каждому такому промежутку ставится в соответствие строка из хештаблицы. Затем в каждую строку хеш-таблицы записываются номера строк таблицы пар, в которых взаимное угловое расстояние наиболее близко сверху к началу каждого промежутка, номер строки хеш-таблицы. Таким образом, если требуется найти пару с некоторым заданным, то хеш-функцией округление до меньшего целого находится номер строки хеш-таблицы, в котором хранится адрес пары номер строки таблицы пар с близким к угловым расстоянием. Далее необходимо перебрать некоторое количество пар, чтобы найти искомую. В примере, рассмотренном на рис. 7, интервал 0,05, а номера строк хеш-таблицы 0, 1, 2 и 261 соответствуют интервалам 0 0,05, 0,05 0,1, 0,1 0,15 и 13,05 13,1 . Объем памяти, отводимый для хранения хештаблицы 2 округление до большего целого, где размер поля адреса номера строки таблицы пар. Шаг удобно выбирать кратным погрешности . Для 4 байт и 0,05 требуется 4,8 кбайт. Список множество эталонных пар т. е. начальный номер и число строк таблицы пар для исходной пары 0, находится с помощью вычисления двух хеш-функций для и Полученный список содержит все пары, у которых а также еще некоторое количество пар, выходящих за рамки заданного интервала вследствие округлений при разбиении пар на интервалы. Лишние пары следует исключить из результирующего списка путем их перебора. При этом для рассматриваемого случая в среднем придется перебирать около пар использование хеширования уменьшает количество вычислений на два порядка. По полученным множествам пар строится таблица баз-кандидатов рис.8. В этой таблице основной столбец соответствует множеству всех возможных эталонных номеров центральной звезды от 0 до 1. Каждой строке основного столбца элементу соответствует подтаблица, содержащая множеств эталонных номеров базовых звезд. Для заполнения таблицы баз-кандидатов перебираются все пары из множеств, и для каждой пары, выполняются следующие операции пусть номер центральной звезды, тогда в множество добавляется -й номер пусть номер центральной звезды, тогда в множество добавляется -й номер Объем памяти, отводимый для хранения таблицы баз-кандидатов 3 где размер ячеек для эталонных номеров количество ячеек, отводимых для хранения множества . Количество ячеек следует выбирать так, чтобы не возникло переполнения множества, иначе может произойти потеря некоторых эталонных конфигураций. При 2 байт, 15 значение 142 кбайт. Эталонные конфигурации-кандидаты формируются дополнением баз-кандидатов угловыми расстояниями между базовыми звездами рис.9. В табл. 1 приведены номера звезд, в табл. 2 угловые расстояния конфигураций-кандидатов для каждой центральной звезды составляется множество возможных комбинаций угловых расстояний см. рис. 8. Выделенные в табл. 1 строки соответствуют конфигурациям, показанным на рис. 9, строка в рамке исходной конфигурации см. рис. 4. Для исходной конфигурации множество при погрешности измерений 0,05 состоит из 28 конфигураций. Распознавание сравнение с с целью выделения единственного эталона . Случаи и 1 считаются ошибками распознавания. В рассматриваемом примере распознавание однозначно. Если в исходную конфигурацию попадает далекая планета или ИСЗ не входящие в каталоги, велика вероятность . Для вычисления расстояния эталонной пары, используется дополнительная таблица матрица угловых расстояний между эталонными парами. симметричная матрица с нулевыми диагональными элементами, поэтому в памяти хранится только верхняя треугольная матрица. Объем памяти для хранения матрицы расстояний 4 Для рассмотренного случая 1620 2564 кбайт. Память, используемая алгоритмом, делится на статическую не изменяющуюся в процессе работы алгоритма и динамическую изменяющуюся. К статической памяти относятся таблица пар, хеш-таблица и матрица расстояний к динамической таблица баз-кандидатов. Объем статической памяти оценивается по формулам 1, 2, 4, динамической по 3. В рассматриваемом примере 4,5 Мбайт, 142 кбайт. Результаты тестирования алгоритма представлены в табл. 3. Погрешности задавались в соответствии с вышеупомянутыми задачами картографирования, ориентации для посадки и стыковки 2. В каждом случае тестирование проводилось для 10 тыс. случайных положений оптической системы. Использовались два критерия выбора звезд наиболее яркие звезды и случайно расположенные звезды. Тестирование проводилось на персональном компьютере с процессором класса Intel Pentium IV 3,0 GHz. Время работы алгоритма не превышало 16 мкс. Распознавание выбранного множества звезд реализуется на базе инвариантной к ориентации ИСЗ конфигурации звезд набором взаимных угловых расстояний между ними. Нормализация исходной конфигурации необходимые поворот и сдвиг изображения к стандартной форме, соответствующей данным звездного каталога, позволит рассчитать ориентацию углы рыскания, тангажа и крена. Рассмотренный алгоритм распознавания конфигурации, состоящей из четырех звезд, достаточно надежен и реализуем в современных вычислительных средах в режиме реального времени. В работе рассматривался пример с наиболее яркими звездами созвездия Ориона и Tau Альдеба