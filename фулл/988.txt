ИНФОРМАЦИОННО-ИЗМЕРИТЕЛЬНЫЕ СИСТЕМЫ ВЕРИФИКАЦИЯ, ВАЛИДАЦИЯ И ТЕСТИРОВАНИЕ  КОМПЬЮТЕРНЫХ МОДЕЛЕЙ  ЛИНЕЙНЫХ ДИНАМИЧЕСКИХ СИСТЕМ 

Рассмотрены задачи верификации, валидации и тестирования компьютерных моделей линейных динамических систем. Показано, что при верификации модели необходимо перед ее запуском выполнить визуальную  проверку, а после запуска — использовать средства верификации применяемых математических пакетов. При  валидации модели целесообразно построить устройство функционального диагностирования. Оно позволит проверять процесс моделирования при любых исходных данных. Валидацию можно провести и при тестовых данных, используя специальные режимы моделирования. Приведены примеры компьютерных моделей, построенных на основе математических описаний моделируемых динамических объектов. Ключевые слова  — верификация, валидация, компьютерные модели, функциональное диагностирование,  линейные динамические системы, устройство функционального диагностирования, тестирование моделей. 

Термины верификация, валидация и тестирование в широком смысле связаны с проверкой качества производимой продукции оборудования, лекарственных препаратов, технологических процессов. Эти термины, особенно два первых, сейчас хорошо известны в области проверки качества программного обеспечения 1. В соответствии со стандартом ISO 90002000 верификация и валидация изготовленного продукта определяются как подтверждения на основе представления объективных свидетельств того, что установленные требования были выполнены верификация и что требования для конкретного применения выполнены валидация. Международный словарь по метрологии 2 определяет верификацию также как предоставление объективных свидетельств того, что данный объект полностью удовлетворяет установленным требованиям. А валидация это верификация, при которой установленные требования связаны с предполагаемым использованием объекта. Таким образом, верификация и валидация предполагают проверку правильности компьютерных моделей КМ как перед запуском, так и в процессе моделирования. Это означает, что необходимо диагностирование моделей. Тестовое диагностирование позволит убедиться в том, что модель удовлетворяет установленным требованиям. Например, методы тестового диагностирования линейных динамических систем 3, 4 могут быть использованы и для тестирования КМ. В работах 5, 6 приведен расчет тестового режима линейной системы управления, который тоже можно использовать при проверке ее КМ. Правильность модели проверяется и с помощью функционального диагностирования. В таком случае можно будет сделать вывод о том, что модель удовлетворяет установленным требованиям, уже непосредственно в процессе моделирования системы. Простейшее функциональное диагностирование может осуществляться методом контроля по модели 3, 6, в котором диагностические признаки получаются как отклонения выходных сигналов КМ от соответствующих сигналов упрощенной модели. Другой метод связан с построением устройства функционального диагностирования 7, 8. При компьютерном моделировании под устройством следует понимать дополнительную схему моделирования. В статье будут даны примеры интерпретации и применения верификации и валидации при компьютерном моделировании линейных динамических систем. Обозначим векторы входных и выходных сигналов моделируемой динамической системы через и, где время функционирования системы. Целью компьютерного моделирования системы является получение на основе математического описания ее основных динамических характеристик. К ним, прежде всего, относятся переходная и весовая характеристики, реакция на гармонический входной сигнал заданной амплитуды и частоты и др. Кроме того, при компьютерном моделировании можно проверить диагностические возможности устройства функционального диагностирования системы, на выходе которого формируется диагностический признак рис. 1. Диагностирование динамической системы будет осуществляться проверкой равенства нулю диагностического признака. Компьютерная модель позволит исследовать влияние помех на величину диагностического признака . Рассмотрим три варианта задания математического описания динамической системы. 1. . Модель динамической системы задана уравнениями состояния 1 где вектор состояния системы постоянные матрицы. Положим, осуществляется моделирование системы автоматического регулирования 4-го порядка, матричное описание которой имеет вид 2 Расчет УФД системы осуществляется на основе метода избыточных переменных 7. В результате КМ системы автоматического регулирования 4-го порядка дополняется УФД с описанием вида Результат компьютерного моделирования системы с УФД представлен на рис. 2, откуда следует, что УФД обеспечивает получение диагностического признака, равного нулю точнее, близкого к нулю из-за погрешностей системы при правильной работе КМ. Таким образом, КМ на основе матричного описания удобна тем, что ее достаточно просто реализовать в любом математическом пакете, например в Simulink. 2. . Модель динамической системы задана матричной передаточной функцией ПФ . Используя введенные обозначения, можно записать уравнение системы в виде где скалярные дробно-рациональные ПФ. Матричная ПФ связана с матрицами описания в пространстве состояний уравнением причем переход от к описанию в пространстве состояний неоднозначен. Скалярная ПФ динамики тяжелого транспортного самолета по каналу тангажа имеет следующий вид 3 Расчет УФД системы осуществляется на основе метода редукции модели 3. В результате редуцированная модель динамики тяжелого транспортного самолета по каналу тангажа характеризуется ПФ вида Переходные характеристики исходной и редуцированной моделей представлены на рис. 3. Диагностический признак получается как разность реакции исходной и редуцированной моделей. Из графиков на рис. 3 следует, что диагностирование будет эффективным только в начале моделирования. Затем переходные характеристики исходной и редуцированной моделей постепенно расходятся. Таким образом, КМ на основе операторного описания тоже может быть реализована, например, в пакете Simulink. 3. . Математическая модель динамической системы может быть задана блок-схемой, которая состоит из линейных блоков с известными ПФ и сумматоров, связывающих указанные блоки. В этом случае уравнения модели можно записать следующим образом, где, входы и выходы линейных блоков, входы и выходы системы диагональная матрица ПФ блоков, матрицы связей. От структурного описания можно перейти к матричной ПФ с помощью формулы 4 Положим, матрицы системы имеют вид Компьютерную модель можно реализовать непосредственным образом в любом математическом пакете. Расчет УФД системы выполним на основе метода диагностирования по модели. ПФ диагностической модели рассчитывается по формуле 4 Результаты моделирования системы в виде реакций ее и диагностической модели на гармонический входной сигнал показаны на рис. 4. Видно, что диагностический признак будет возрастать в точках максимума и минимума реакции КМ на гармоническое воздействие. Таким образом, КМ на основе структурного описания тоже диагностируется и реализуется достаточно простым способом. Все три рассмотренных варианта задания математического описания эквивалентны в том смысле, что, зная один из них, можно перейти к другим. Поэтому для решения задач компьютерного моделирования необходимо ориентироваться на конкретный вид динамической системы. Например, предложенная в работе 9 трехконтурная система подчиненного регулирования электропривода состоит из семи линейных блоков 1-го порядка, охваченных тремя отрицательными обратными связями рис. 5. Для этой системы естественно применить структурное описание. Оно будет содержать матрицу 7-го порядка с ПФ 1-го порядка. Матрицы связей системы будут очень разреженными матрицами. Поэтому сумматоров в модели будет всего три и число входов у них по два. Вид матриц связи следующий Моделирование системы подчиненного регулирования электропривода будет выполнено ниже. Рассмотрим теперь задачи верификации и валидации КМ. При решении задач верификации КМ динамической системы необходимо получить представление о том, что установленные математическим описанием требования были выполнены при реализации модели. Верификацию следует осуществлять до и после запуска модели. До запуска модели, реализованной в виде отдельных блоков, необходимо проверить обязательное наличие выходов у используемых блоков проверить наличие входов у используемых блоков обосновать отсутствие входов у некоторых блоков проверить правильность установки параметров блоков проверить связи блоков. Связи блоков осуществляются в модели с помощью многовходовых сумматоров. Для операторного описания можно предложить следующее правило проверки. Если строка матричной ПФ содержит ненулевых ПФ, то соответствующий выход модели системы должен иметь сумматор с входами. Для структурного описания можно предложить следующее правило проверки. Если строка матрицы и соответствующая строка матрицы содержат вместе единиц, то соответствующий вход блока реализации ПФ должен иметь сумматор с входами. Количество выходных сумматоров определяется аналогичным образом для матрицы . Таким образом, все проверки модели носят визуальный характер. Более информативна верификация после запуска. Положим, для моделирования используется пакет Simulink. Тогда могут быть использованы результаты, получаемые с помощью специальных блоков . Например, блок проверяет факт попадания в заданные пределы того результата моделирования, который подан на вход блока. Всего содержит 11 подобных блоков. За счет усложнения схемы включением этих блоков можно будет проверить качество результатов моделирования. Для верификации модели может быть использована функция . С ее помощью получают параметры математического описания модели. Например, для модели 2 получим После этого можно проверить устойчивость системы Следующий шаг верификации проверка управляемости и наблюдаемости системы Видно, что система 4-го порядка 2 неустойчива правда, степень неустойчивости достаточно мала, управляема и наблюдаема. Все это не должно противоречить полученным ранее результатам исследования системы. Валидация КМ предполагает проверку того, что построена модель, необходимая исследователю. Основной метод валидации базируется на . Он предполагает проверку модели в специальных, тестовых режимах. Однако можно осуществлять проверку и в рабочих режимах, если используются результаты функционального диагностирования. При валидации КМ может быть использован диагностический признак, получаемый с помощью УФД. Так, если по каким-то причинам коэффициент матрицы матричного описания 2 изменился на 10, то переходная характеристика меняется незначительно, а результат работы УФД показан на рис. 6. Диагностический признак КМ говорит о том, что требования для конкретного применения ее, строго говоря, не выполнены, так как значение диагностического признака не равно нулю. Аналогичные результаты получаются и для других приведенных выше КМ. В работе 3 приведен большой список специальных, тестовых режимов для организации проверки систем автоматического управления. Все они могут быть использованы и для проверки КМ динамических систем 10. Рассмотрим некоторые из них. 1. связан с понятием передаточного нуля динамической системы. Подробно расчет нулевого режима, основанного на использовании передаточного нуля, приведен в работе 3. Для того чтобы обеспечить нулевой режим модели, необходимо найти вещественный корень числителя ПФ операторного описания модели передаточный нуль. Входной сигнал будет иметь вид Затем по формуле 5 рассчитываются специальные начальные условия модели. Здесь, матрицы соответствующего матричного описания скалярной системы. Ниже показан этот расчет для модели динамики тяжелого транспортного самолета по каналу тангажа с операторным описанием 3. Передаточный нуль здесь является корнем числителя получен с помощью функции, так как при 0,5456 ПФ 0,5456 0. Значит, в случае, когда входной сигнал модели, вынужденное движение модели будет равно 0. Для того чтобы сделать нулевым собственное движение модели, вызванное скачком входного воздействия в нулевой момент времени, рассчитываем специальные начальные условия по формуле 5. Соответствующие системные матрицы можно получить с помощью функции Расчет и моделирование выполнено в пакете MatLab. Результаты тестирования модели в нулевом режиме представлены на рис. 7, где хорошо видно, что экспоненциальный входной сигнал приводит к нулевой реакции правильной модели и ненулевой реакции неправильной модели. 2. предполагает исследование собственного движения модели, т. е. входной сигнал 0. Рассмотрим матричное описание модели в собственном движении Зададим начальные условия как собственный вектор матрицы для вещественного собственного числа . Тогда выходной сигнал модели будет следующим, где мода системы. Следует обратить внимание, что собственное движение модели в модальном режиме пропорционально этой моде. Это обстоятельство может быть использовано для проверки модели. Выполним расчеты в пакете MatLab для матриц и системы автоматического регулирования 4-го порядка 2. Получим собственное число 1,1158 и собственный вектор 0,3379 0,3028 0,2714 0,8488. Если использовать его как начальные условия модели, то при нулевом входном сигнале получим выходные сигналы 0,2714, 0,8488 . На рис. 8 показаны результаты проверки модели в модальном режиме. Левая осциллограмма получена для расчетной матрицы, а правая для неправильной матрицы . В первом случае модель правильная, во втором нет. 3. . Предлагается подать на входы КМ системы последовательность импульсов, ширина и амплитуды которых рассчитываются так, чтобы модель из нулевых начальных условий за расчетное время вернулась опять в нулевое состояние. Такой сигнал называется комплементарным 11. Соответственно получается и тестовый режим, который приводит к естественному нулевому диагностическому признаку. Расчет комплементарного сигнала осуществляется на основе матрицы системы 11. Пусть ширина импульса в секундах. Тогда составляющие вектора амплитуд комплементарного сигнала рассчитываются по формулам где, 1, собственные числа матрицы . Расчетное время тестирования модели . Расчет и моделирование выполним ниже для системы подчиненного регулирования электропривода. Рассмотрим компьютерное моделирование системы подчиненного регулирования электропривода, структурное описание которой было предложено выше. Согласно работе 9, примем следующие ПФ силовой части фильтра регулирующей части Предположим, что КМ уже построена в пакете Simulink из блоков рис. 9. В качестве УФД используем блок, в котором реализована ПФ из расчета по формуле 4 Необходимо обратить внимание на то, что получилась ПФ системы 4-го порядка. В то же время модель, показанная на рис. 9, по внешнему виду должна иметь 7-й порядок. Результаты моделирования системы с УФД представлены на рис. 10 сплошная линия соответствует модели, а точечная УФД. Следовательно, модель пока правильная, и можно доверять результатам ее исследования. В частности, если необходимо не только построить модель, но и выполнить верификацию и валидацию, то следует провести подготовительную работу. С помощью функции определяются 7 7-матрица коэффициентов системы и 7 1-матрица ее входов Теперь можно рассчитать необходимые данные для нулевого и модального режимов подобно тому, как это было сделано для предыдущих примеров. Результаты тестирования КМ аналогичны результатам, полученным на рис. 7, 8. Следует отметить, что при расчете начальных условий нулевого режима возникают трудности с обращением матрицы. Поэтому результаты нулевого режима оказываются неточными, и показывать их не имеет смысла. Расчет комплементарного сигнала приводится полностью Результаты тестирования системы с помощью комплементарного сигнала представлены на рис. 11, . Понятно, что модель, показанная на рис. 9, действительно правильная. При компьютерном моделировании системы подчиненного регулирования электропривода с указанными выше параметрами теперь можно использовать для верификации построенное УФД, а для валидации рассчитанный комплементарный сигнал. Таким образом, рассмотренные подходы к верификации и валидации линейных динамических систем применены для различных примеров их КМ. Изложен подход к организации процедур верификации, тестирования и валидации КМ динамических систем, описываемых матрицами уравнений состояния, матричными ПФ или структурной схемой. В частном случае моделироваться могут линейные системы автоматического управления. Приведены примеры использования указанных процедур для простых моделей, наглядно демонстрирующих и стандартные приемы верификации, и специальные методы, основанные на применении устройств функционального диагностирования. Все модели реализованы в пакете MatLab с использованием пакета Simulink. Показано, что для линейных динамических систем всегда может быть синтезировано УФД сравнительно небольшой размерности, вырабатывающее диагностический признак для применения при валидации модели системы. Результаты верификации, валидации и тестирования разработанных моделей показали их работоспособность и целесообразность применения при анализе характеристик динамических систем. Работа выполнена по гранту 11-08-00240. 