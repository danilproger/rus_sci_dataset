АЛГОРИТМ УПРАВЛЕНИЯ ДЕРЕВООБРАБАТЫВАЮЩИМ  СТАНКОМ НА ОСНОВЕ АППАРАТА  КОНТУРНОГО АНАЛИЗА ИЗОБРАЖЕНИЙ 

Представлен подход к построению автоматической системы управления деревообрабатывающим станком.  Разработан алгоритм для решения задачи автоматизации процесса дефектоскопии пиломатериалов на основе  анализа формы изображений дефектов. Ключевые слова  — система управления, дефекты древесины, форма изображения, контур, принятие решения. 

Производство и применение деревянных клееных конструкций находятся на этапе динамично устойчивого развития. Временные параметры этого этапа, условия устойчивости развития, тенденции и приоритеты в обеспечении динамики темпов эти и другие задачи требуют системного анализа и программного решения. В современном мире элементы из клееной древесины широко используются в домостроении, мебельном производстве и т. п. Относительно малый вес и высокая прочность конструкции из клееной древесины обеспечивают возможность получения оригинальных архитектурно-дизайнерских решений при отсутствии необходимости в дополнительной отделке. Конструкция из клееной древесины на 5070 прочнее, чем из цельной, это более декоративный материал, в котором отсутствуют трещины, сучки имеют здоровый вид и т. д. Производство клееной древесины сегодня является одной из наиболее высокотехнологичных областей деревообработки 13. При производстве клееных изделий используются мебельные заготовки с удаленными пороками, которые склеиваются по длине, ширине, толщине до получения требуемого образца. Современные методы автоматической дефектоскопии пиломатериалов акустические, рентгеноскопические, гамма-дефектоскопия и др. основаны на измерении плотности древесины. Подобные методы могут с определенной точностью установить наличие дефекта, гораздо труднее его потом классифицировать и определить размеры. Поэтому для поиска дефектов лучше применять фотоэлектрический метод. В настоящей статье представлен алгоритм управления деревообрабатывающим станком, использующий для поиска дефектов аппарат контурного анализа, который позволяет ускорить процесс оптимизации по дефектам и исключить участие человека. Автоматическую вырезку дефектов сучков, смоляных карманов и т. п. из обрезных досок и или торцовку заготовок в заданный размер производит деревообрабатывающий станок рис. 1. Исходное сырье подается поперечным конвейером, проходит через узел очистки и переходит на узел подачи сырья на видеосъемку. Отсканированное сырье попадает на узел подачи сырья на пиление, после чего готовые заготовки сортируются узел сортировки в карманы в соответствующие ячейки. Для анализа дефектов древесины используется оптическая система узел видеосъемки. На основе данных, полученных с камеры, формируются команды для управления деревообрабатывающим станком. В работе 4 рассмотрены подходы к созданию системы идентификации дефектов древесины. В качестве одного из критериев определения дефектов древесины предлагается использовать геометрические формы дефектов, при этом под формой изображения будем понимать информацию, содержащуюся в контуре. Достоинство методов контурного анализа в задачах обработки изображений и распознавания зрительных образов заключается в возможности решать эти задачи с единых позиций теории сигналов. Контуры изображений полностью характеризуют их форму и позволяют создать простые аналитические описания, инвариантные к переносу, повороту и масштабированию изображений. Рассмотрение контуров изображений как комплекснозначных сигналов и представление их в линейном комплекснозначном пространстве позволяют получить инвариантную к преобразованиям переноса, поворота и масштабирования меру близости двух контуров в виде их скалярного произведения. При этом на основании значения самого скалярного произведения можно оценить угол поворота и коэффициент масштабирования. Один из распространенных подходов к выделению контуров изображений в многоградационной по яркости сцене базируется на получении бинарной сцены, в которой формы изображений объектов минимально искажены. При наличии сцены контуры изображений достаточно просто выделяются на основании алгоритма Розенфельда 5 либо любого другого известного алгоритма. Задачи контурного анализа возникают в системе технического зрения при обработке изображений и распознавании зрительных образов. Существует множество форм контуров. Для ряда контуров характерно наличие общих признаков, связанных с некоторыми их общими свойствами. Данные признаки образуют определенный класс форм, и если учесть эту закономерность в выражении для контурного согласованного фильтра, то такой фильтр будет вырабатывать меру схожести с эталоном не для одного конкретного контура, а для целого класса контуров с общими свойствами. Задан ортогональный базис, по которому раскладывается произвольный непрерывный контур, в виде 1 Совокупность при, задает семейство замкнутых непрерывных элементарных контуров. При любые два контура из полного семейства непрерывных элементарных контуров являются ортогональными, т. е. скалярное произведение контуров равно 2 При контуры, образующие базис, являются ортонормированными 3 Элементарные непрерывные контуры, образующие ортонормированный базис, периодичны с периодом и представляют собой окружности радиусом При этом 2 из тех соображений, что период повторения первой гармоники в выражении 1 при 1 равен 2 . На рис. 2 показан элементарный непрерывный контур при 1, задающий окружность. В данном случае используется непрерывный элементарный контур порядка 1 4 Непрерывный элементарный контур можно представить через синфазную и квадратурную компоненты 5 где и коэффициенты сжатия круга по горизонтали и вертикали соответственно. При изменении одного из коэффициентов окружность сжимается по одной из осей. Обычно для различения контуров используют согласованные фильтры, обеспечивающие образование количественной меры схожести между фильтруемым контуром и эталонной формой, определяемой контуром. Исследуем влияние параметров и на спектр окружности. Для этого используется преобразование Фурье. Спектр непрерывного контура определяется по формуле 0, 1, 2, . 6 Подставив выражение 4 в 6, а затем разложив полученное выражение по формуле Эйлера, получим При дальнейшем разложении приходим к следующему выражению Данный интеграл распадается на простейшие, и при дальнейшем разложении происходит переход к обычным синус-косинусным компонентам и коэффициентам перед ними. Для выработки правила распознавания воспользуемся свойством спектра элементарного непрерывного контура см. рис. 2. Видно, что спектр непрерывного элементарного контура содержит только одну ненулевую составляющую. Используя это свойство, можно анализировать спектр контура, сжимая или разжимая его. В этом случае, жертвуя небольшим развалом спектральной функции, получим правило, по которому можно оценить близость формы рассматриваемого объекта к кругу. Исследуем изменение спектра при сжатии контура круга по вертикали и горизонтали. Все спектрограммы представлены в нормированном виде. На рис. 3, показаны спектры контуров при сжатии по горизонтали. Получено, что при сжатии контура в спектрограмме появляется ярко выраженная вторая гармоника, причем, чем больше коэффициент сжатия, тем больше ее уровень. При сжатии по горизонтали получаются идентичные результаты. Исследован спектр контура круга при его растяжении рис. 4, . Анализ полученных спектрограмм показывает, что на рис. 4 проявляется та же зависимость, что и на рис. 3. Таким образом, если один из максимальных отчетов спектра больше второго максимума в несколько раз, а остальные отчеты ниже уровня 0,1 см. рис. 3, то данный контур можно отнести к классу окружностей. Если второй из максимальных отчетов спектра превышает уровень 0,2, а все остальные отчеты ниже уровня 0,1 см. рис. 3, 4, то данный контур можно отнести к симметричному овалу. Произведем поиск дефектов на реальном изображении рис. 5, . На основе локально-оптимальной процедуры формирования порогового уровня получим бинарное изображение и по алгоритму Розенфельда выделим контуры рис. 5, . Найдя спектры каждого контура, произведем их нормирование рис. 6. Анализируя спектрограммы, можно сделать вывод, что контуры К1 и К2 являются дефектами, близкими к круглой форме, а контуры К3К6 к ним не относятся из-за большого развала спектральной функции. Рассмотрим алгоритм управления деревообрабатывающим станком рис. 7. На первом шаге в систему поступает объект сканирования, в нашем случае это пиломатериал, у которого надо удалить дефекты. Оптическая система, состоящая из видеокамеры, производит сьемку объекта сканирования. Все данные поступают в персональный компьютер, где и производится дальнейшая обработка. На полученном изображении выделяются контуры по одному из известных алгоритмов. На следующем шаге производится распознавание контуров либо через спектр контура, либо с использованием аппарата согласованной фильтрации. По результатам обработки при нахождении дефекта ЭВМ формирует управляющие команды для дальнейшего перемещения заготовки и спила дефекта, а также на узел сортировки, который в зависимости от размера получившейся заготовки сталкивает ее в соответствующий карман. Сама по себе заготовка это объемное тело, и дефекты могут быть на разных ее сторонах. Чтобы контролировать все четыре стороны, заготовку поворачивают. На некоторых изображениях появляются различные шумы, причинами которых могут быть не только пыль и опилки, сопровождающие деревообрабатывающее производство, но и ворсистость поверхности материалов и особенности структуры древесины. Устранить опилки с пиломатериала можно при помощи сметающих роликов-щеток. В иных случаях нужно правильно подбирать освещение поверхности пиломатериала, а если это невозможно сделать, следует использовать методы фильтрации шумов. Сами методы фильтрации смазывают изображение, поэтому ими нужно пользоваться в меру. Расстояние от камер до узла пиления является фиксированным, это позволяет с определенной точностью рассчитать расстояние от камеры до узла пиления при распознавании дефекта. Контроль перемещения заготовки по ленте осуществляется по командам с компьютера, который включает соответствующие двигатели перемещения. Одной из важных задач является выбор разрешения изображения. Если разрешение будет слишком большим, то увеличивается время обработки и анализа изображения, что приведет к уменьшению скорости работы системы, а уменьшение изображения может привести, соответственно, к уменьшению информативности данного снимка. В работе представлен алгоритм управления деревообрабатывающим станком. Для решения задачи дефектоскопии используется аппарат контурного анализа. При этом под формой изображения понимается информация, содержащаяся в контуре. Предложен подход определения дефектов круглой и овальной формы, основанный на анализе амплитудного спектра контуров. 