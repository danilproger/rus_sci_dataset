ИСПОЛЬЗОВАНИЕ ТЕХНОЛОГИЙ ВИРТУАЛИЗАЦИИ ВЫЧИСЛИТЕЛЬНЫХ И ГРАФИЧЕСКИХ СЕРВЕРОВ ПРИ ПРОЕКТИРОВАНИИ ТРЕНАЖЕРОВ, ТРЕНАЖЕРНО-МОДЕЛИРУЮЩИХ КОМПЛЕКСОВ И СИСТЕМ ОБУЧЕНИЯ ОПЕРАТОРОВ 

В статье рассматриваются существующие подходы к разработке систем, проблемы, недостатки и пути решения с использованием новых серверных технологий и виртуализации. К недостаткам используемых решений следует отнести малую эффективность использования вычислительных ресурсов и невозможность оперативного перераспределения задач и приложений в случаях нештатных ситуаций и выхода из строя отдельных узлов системы, что является крайне важной проблемой при проектировании высоконагруженных пользовательских систем оперативного контроля, мониторинга и обучения специалистов. Приводится описание передовой технологии NVIDIA VGX для использования в актуальных задачах тренажеростроения при построении 3D-графики реального времени. Применение данной технологии предоставляет новые возможности при проектировании систем обучения и тренажеров с последующей виртуализацией не только процессорных вычислительных, но и графических ресурсов, что обеспечивает новый уровень мобильности пользователей и приложений, получающих данные расчета 3D-моделей на портативные компьютеры, а также параллельную работу множества удаленных пользователей. Предлагаемые компанией NVIDIA решения объединяются в технологии центров обработки данных и облачных вычислений, которые можно использовать при разработке систем обучения и тренажеров нового поколения. 

 Для разработки и проектирования тренажеров, тренажерно-моделирующих комплексов и систем обучения операторов существует ряд стандартных решений и архитектур. К ним можно отнести применение клиент-серверных архитектур, использование набора персональных компьютеров, объединенных в локальную вычислительную сеть, а также высокопроизводительных серверов для выполнения задач моделирования и отработки режимов. Развитие информационных технологий, программной и аппаратной баз вычислительных систем вносит изменения в саму концепцию выполнения вычислений, которые становятся распределенными и удаленными от конечного пользователя. Виртуализация, консолидация приложений, динамическое выделение ресурсов и передача конечного результата в виде форматов на экраны пользователя с возможностями обратной связи является новой и пока недостаточно широко внедряемой в разработки тренажеров технологией. Для анализа существующих подходов, выявления проблемных мест и путей их решения рассмотрим несколько наиболее распространенных задач разработки на основе использования персональных компьютеров в стоечном исполнении, высокопроизводительных графических станций и набора вычислительных серверов. Использование персональных компьютеров в стоечном исполнении. При этом мониторы пультов управления расположены в непосредственной близости от стойки, соединены видеокабелем и отображают данные моделирования и расчет 3D-пространства. Такие решения используются при проектировании отдельных тренажеров, функционально-моделирующих стендов, составных частей образовательных космоцентров. Как правило, в серверную стойку устанавливаются обычные персональные компьютеры, аппаратная составляющая которых не предназначена для функционирования в качестве серверов. Поэтому в таких изделиях наличие стойки обусловливается необходимостью обеспечения бесперебойного питания, централизованного сетевого подключения и концентрации основного оборудования в одном серверном шкафу для удобства обслуживания и эксплуатации. С другой стороны, существует необходимость проводки кабелей видеосигналов до рабочего места с мониторами. При этом накладываются ограничения по длине кабеля для передачи видеосигнала, а также помехи и искажения для такого типа кабелей при прокладке. Следовательно, расстояние от серверной стойки с шумящим оборудованием, выделяющим тепло, до рабочего места оператора исчисляется несколькими метрами. Современные серверные технологии в данном типе архитектуры не применяются. Использование вычислительных серверов без виртуализации. В такой реализации в изделие также включена серверная стойка, в состав которой входят набор серверов моделирования, записи тренировок или занятий, серверов БД. Взаимодействие с пользователями ресурсов осуществляется через локальную вычислительную сеть, непосредственная работа с сервером обучаемого или пользователя не предусмотрена. Архитектура применяется в специализированных тренажерах для решения задач расчета параметров моделирования и хранения БД. Например, один из серверов моделирования, выполняющий расчет параметров моделирования в реальном времени, может быть всегда загружен с точки зрения процессорного времени на 7090 . На жестких дисках серверов, помимо операционной системы, хранятся все прикладное ПО, БД и данные моделирования, при этом при выходе из строя диска или сервера осуществить быстрый перенос ПО на другой вычислительный ресурс практически невозможно. Из современных серверных технологий применяются только серверные операционные системы. Использование высокопроизводительных рабочих мест для 3D-моделирования. В данной реализации объектом применения являются специализированные тренажеры, обучающие системы, развертываемые в специально оснащенных классах систем виртуальной реальности. При этом в учебный класс устанавливается набор персональных компьютеров, оснащенных высокопроизводительными графическими картами для расчета 3D-графики на каждом из рабочих мест. Взаимодействие происходит посредством вычислительной сети и передачи команд между отдельными рабочими местами и местом руководителя обучения. В учебном классе на каждое рабочее место обучаемого должна быть установлена высокопроизводительная графическая станция. Расчет 3D-моделей осуществляется только на рабочем месте, другой потребитель не может воспользоваться результатами визуализации . Взаимодействие и удаленная работа с результатами графических расчетов в настоящее время невозможны, невозможно и применение мобильных устройств для работы с высокопроизводительными 3D-приложениями. Как правило, ПО 3D-моделей на рабочих местах не отличается, поэтому делается несколько дублирующих копий, но вследствие технической невозможности использования единой серверной части для процесса моделирования и отдачи результатов на множество экранов пользователей с обратной связью набор технических средств используется малоэффективно. Современные серверные технологии тоже не применяются. Два первых рассмотренных варианта проектирования и эксплуатации систем, в состав которых входят серверные стойки, показывают наличие проблем в реализации с использованием стандартных персональных компьютеров, низкую эффективность при применении серверов и отсутствие каких-либо современных серверных технологий. Простое наращивание вычислительных мощностей и количества серверных стоек никак не повышает надежность системы, но при этом занимаются новые площади, повышаются энергопотребление и зашумленность помещений. Вариант организации учебного класса в принципе не поддерживает серверные технологии для выполнения своих функциональных задач . С другой стороны, для обучающей системы, например, применяется единый сервер, а обучаемые в классе могут подключаться к web-интерфейсу с любого персонального компьютера, ноутбука, нетбука без необходимости установки специализированного ПО, при этом требования к аппаратной составляющей клиента тоже остаются невысокими. Использование современных серверных технологий и виртуализации. Ключевым понятием современных серверных технологий является применение виртуализации, набора высокопроизводительных серверов и специализированого ПО, поддерживающего выделение ресурсов выполняемым задачам. Виртуализация процесс представления набора вычислительных ресурсов, их логического объединения, который дает какие-либо преимущества перед оригинальной конфигурацией. Это новый взгляд на ресурсы составных частей, не ограниченных реализацией, физической конфигурацией или географическим положением. Виртуализация на уровне операционной системы виртуализирует физический сервер, позволяя запускать изолированные и безопасные виртуальные серверы на одном физическом сервере. Современные серверы и процессоры на аппаратном уровне поддерживают технологии виртуализации, что позволяет одновременно запустить на одном физическом сервере несколько операционных систем со своим ПО моделирования, БД, расчетом систем виртуальной реальности. Появление новых графических серверов предоставляет новые возможности по организации централизованных расчетов и для 3D-графики. Существенным преимуществом является также то, что прикладное и специализированное ПО не требует переработки с переходом на данную технологию, а применение высокоскоростных сетевых обменов обеспечит доставку информации до удаленных потребителей без существенных задержек. Вычислительные серверы и процессоры с аппаратной поддержкой виртуализации широко применяются для решения множества актуальных задач, в том числе в центрах обработки данных, графические серверы в настоящее время являются новинкой и требуют более подробного рассмотрения. Применение специализированных технологий виртуализированных графических расчетов. Многие задачи подготовки специалистов успешно решаются с применением технологий виртуальной реальности и 3D-технологий. Расчет геометрии изображения объектов производится в реальном времени с высокой точностью и детализацией. При этом для рабочих мест операторов используются персональные компьютеры, оснащенные высокопроизводительными графическими картами, выполняющими расчеты совместно с центральным процессором. Развитие технологий и появляющиеся новые задачи подготовки специалистов позволяют разрабатывать принципиально новые решения для тренажеров, тренажерно-моделирующих комплексов, специализированных функционально-моделирующих стендов. Следует отметить, что значительным ограничением в применении мобильных технологий является производительность планшетных компьютеров и других устройств, которой в ряде случае хватает только для просмотра статичных Internet-страниц, администрирования и доступа к БД и к простым форматам управления тренажера. Но целый класс задач, решаемых с использованием виртуальных 3D-технологий, рассчитывающих в реальном времени изображения для данных устройств, принципиально недоступен. К примеру, преподаватель, проводящий занятия в классе виртуальной реальности и имеющий планшетный компьютер, не может увидеть демонстрируемую обучаемыми на их персональных компьютерах картинку . Теоретически это может быть лишь заранее сгенерированная видеозапись низкого разрешения, ее можно проиграть как видеоролик, но не как изображение, генерируемое мощной графической станцией в реальном времени. Другой пример разработка систем виртуальной реальности требует установки для каждого разработчика персонального компьютера, оснащенного одной или несколькими мощными графическими картами, которые используются для рендеринга и обработки 3D-сцен. Применение технологий центров обработки данных для консолидации и виртуализации с последующим выделением необходимых вычислительных ресурсов, как в случае с приложениями, использующими для своего функционирования центральный процессор, невозможно, так как 3D-графика на 90 задействует в расчетах графические процессоры, в то время как серверные процессоры справляются с большинством приложений и могут быть виртуализованы . До недавнего времени подобные задачи были практически нереализуемы. В конце 2012начале 2013 года известная фирма NVIDIA представила инновационную платформу VGX для виртуализированной рабочей станции с полноценной 3D-графикой 1. Основная идея заключается в том, чтобы позволить нескольким пользователям работать с одним графическим чипом, разделить графические ресурсы одного GPU между несколькими виртуальными машинами. В дальнейшем с любого устройства независимо от операционной системы, которая на нем установлена, можно будет получить доступ к любым приложениям. Аппаратная часть платформы представлена двумя видеокартами NVIDIA VGX K1 и K2. Первая оснащена четырьмя графическими процессорами Kepler начального уровня, каждый из которых имеет 192 ядра CUDA и 4 Гбайта видеопамяти, вторая двумя ускорителями Quadro K5000, суммарно насчитывающими 3072 ядра CUDA и 8 Гбайт памяти. Оба решения подключаются к серверам через стандартный интерфейс PCI Express, имеют пассивное охлаждение и поддерживают интерфейсы OpenGL 4.x и Microsoft DirectX 11 23. Устройства лишены каких-либо видеовыходов, это свидетельствует о том, что карты спроектированы для работы в виртуальных средах. На рисунке 4 показана схема использования графических серверов с данными платами для работы с набором удаленных клиентов. Один физический графический сервер может содержать несколько виртуальных машин с гостевыми операционными системами, решающими свои определенные задачи с выделением необходимых общих ресурсов. Дальнейшее взаимодействие осуществляется с использованием проводных и беспроводных вычислительных сетей. Ключевыми показателями упомянутых видеокарт являются количество поддерживаемых пользователей и энергоэффективность. Посредством карты K2 можно разворачивать до 64 удаленных рабочих станций либо предоставлять все вычислительные мощности двум виртуальным машинам, предназначенным для решения ресурсоемких графических задач и запуска приложений с вычислениями на GPU 4. Латентность снижена за счет использования Low Latency Remote Display технологии, включающей поддержку на аппаратном уровне кодировщика данных в видеопоток H.264. Технология VGX еще будет существенно дорабатываться для различных целевых аудиторий и обновляться. Помимо продуктов Citrix, платы совместимы со средствами виртуализации Microsoft и VMware, но эти решения обеспечивают лишь режим удаленного дисплея, а система Citrix XenDesktop 5.6 в сочетании с платой VGX K2 позволит организовать виртуальную графическую станцию. Таким образом, NVIDIA VGX платформа, разработанная специально для корпоративных облачных вычислений, работающих с графикой, а K2 первый GPU, обеспечивающий графику уровня рабочей станции в облаке данных 5. Такие технологии в совокупности с набором вычислительных серверов, виртуализирующих процессорные мощности и оперативную память, представляют собой концепцию единого центра обработки информации. Симбиоз вычислительных и графических серверов, связанных высокоскоростными каналами связи в рамках локальной вычислительной сети такого центра, предоставляет широкие возможности моделирования, обучения персонала и развертывания тренажерно-моделирующих комплексов различной сложности в рамках единой программно-аппаратной инфраструктуры. При этом в данных подходах используются все преимущества экономии пространства, электроэнергии, максимально эффективного распределения ресурсов, повышенной надежности хранения и обработки информации. На основании изложенного можно сделать следующие выводы об использовании современных серверных технологий при проектировании тренажеров, тренажерно-моделирующих комплексов и систем обучения операторов Использование в составе графических серверов программно-аппаратных средств NVIDIA VGX является перспективным и важным шагом для дальнейшей разработки, модернизации существующих и развертывания новых систем виртуальной реальности для подготовки специалистов. Возможность без потерь производительности переместить ПО всех систем виртуальной реальности и моделирования в виртуализированные структуры вычислительных и графических серверов, получить доступ с любого устройства независимо от операционной системы позволит повысить уровень оснащенности, интегрированности решений в тренажерах подготовки персонала и получить качественно новые решения для построения систем, оборудования классов и учебных аудиторий без необходимости закупки персональных компьютеров высокой производительности. Использование инфраструктуры центров обработки данных, повышение плотности пользователей ресурсов, экономия электроэнергии и пространства, оптимальное использование вычислительных и графических ресурсов и высокая надежность аппаратуры позволят снизить расходы на разработку и эксплуатацию систем. Патентованные технологии удаленного дисплея с малой задержкой от NVIDIA значительно улучшат работу пользователя, сокращая задержки, с которыми сталкивается пользователь при взаимодействии с виртуальной машиной . Необходимость изучения новых информационных технологий, основ виртуализации, современных серверных технологий, операционных систем и нового ПО ставит иные задачи проектирования и разработки с использованием современных технологий для разработки тренажеров, космоцентров и систем обучения персонала, которые можно успешно решить с применением предлагаемой архитектуры на основе комбинации вычислительных и графических серверов. 