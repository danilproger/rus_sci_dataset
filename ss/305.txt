ПАРАЛЛЕЛЬНЫЙ ПРОГРАММНЫЙ КОМПЛЕКС  РЕШЕНИЯ НЕГОЛОНОМНЫХ ЗАДАЧ УПРАВЛЕНИЯ 

Описан метод управления нелинейными системами с линейным управлением на основе нильпотентной аппроксимации. Представлен алгоритм приближенного решения конструктивной задачи управления пятимерными системами такого вида в классах кусочно-постоянных и оптимальных управлений для аппроксимирующей системы. Приведенный алгоритм был положен в основу параллельного программного комплекса MotionPlanning235, предназначенного для решения поставленной задачи..

 Перевод механической системы в требуемую конфигурацию является одной из важнейших задач робототехники и инженерии это вывод спутника на орбиту, управление мобильным роботом, вращение твердого тела в руке робота-манипулятора и др. В математике подобная задача формализуется как конструктивная задача управления. Имеется динамика механической системы, описываемая системой дифференциальных уравнений с функциональными параметрами . Требуется найти управляющие воздействия из заданного класса функций, при применении которых система переходит из начального в заданное целевое состояние. В теории управления такие системы называются вполне неголономными. В силу этой анизотропии пространства состояний задача управления для таких систем весьма нетривиальна. В последнее время конструктивная задача управления активно изучается в нелинейной теории управления. Удовлетворительное решение она имеет лишь для некоторых специальных классов систем 2. Идея метода в том, что исходная нелинейная система заменяется приближенной нильпотентной системой, для которой точно решается задача управления. Затем найденные управления подставляются в исходную систему. Если состояние, достигнутое после применения найденного управления, отличается от желаемого в пределах допустимой погрешности, задача считается решенной, иначе процедура повторяется. Управления, точно решающие нильпотентную систему, дают приближенное решение исходной задачи управления в малой окрестности целевой точки. Метод нильпотентной аппроксимации применим к задачам управления общего вида существенно только умение решать задачу управления для нильпотентной аппроксимации. Этот метод предложен в 3. В данной работе рассматривается задача управления нелинейными пятимерными системами общего вида, линейно зависящими от двухмерного управления. Конкретными примерами систем такого вида, которые в робототехнике имеют самостоятельное значение из-за своего прикладного значения, являются система, моделирующая качение шара по плоскости без прокручивания и проскальзывания, и система, моделирующая движение машины с двумя прицепами по плоскости. Алгоритм поиска приближенного управления на основе вычисления траекторий аппроксимирующей системы и его реализация программным комплексом MotionPlanning235. Итак, имеется исходная система в начальном состоянии q. Требуется найти управление, переводящее систему в конечное состояние q с предварительно заданной точностью. Поиск приближенного решения осуществляется следующим образом. 1. В окрестности конечной точки q строится аппроксимирующая система, для которой точно решается задача управления. 2. Найденные управления подставляются в исходную систему. Если достигнутое состояние не попадает вдостигнута. Алгоритм повторяется снова для исходной системы, где в качестве начального состояния выбирается состояние, достигнутое на предыдущей итерации алгоритма, иначе вычисления прекращаются. Модуль NilpotentApproximation235 построения нильпотентной аппроксимации. Локальное приближение управляемой системы другой, более простой, широко используется в теории управления. Обычно в качестве локальной аппроксимации используется линеаризация управляемой системы. Однако для линейных по управлению систем вида линеаризация дает слишком грубое приближение. Так как размерность управления меньше размерности состояния, линеаризация не может быть вполне управляемой. Естественной заменой линейной аппроксимации в этом случае является нильпотентная аппроксимация наиболее простая система, сохраняющая структуру управляемости исходной системы . В данной работе использован алгоритм вычисления нильпотентной аппроксимации для линейных по управлению систем, предложенный в 2. Модуль CPControl235 решения задачи в классе кусочно-постоянных управлений. В ПК MotionPlanning235 реализован модуль CPControl235 решения задачи управления нильпотентной канонической системой с граничными условиями в классе кусочно-постоянных функций. Доказано следующее утверждение. Предложение. В модуле CPControl235 фиксация свободных параметров осуществляется так, чтобы в соответствующей траектории не было больших отклонений, а именно, используется критерий maxu min. Модуль OptimalControl235 решения задачи в классе оптимальных управлений. Для управляемой системы с граничными условиями рассматривается задача оптимального управления с естественным интегральным критерием min. u u dt Эта задача известна в теории управления как обобщенная задача Дидоны, а в субримановой геометрии как субриманова задача с вектором роста . Она имеет богатую историю и была детально теоретически изучена в 4. Основным результатом теоретических исследований явилось описание структуры экспоненциального отображения и первых времен Максвелла вдоль экстремальных траекторий. Явно решить эту систему практически невозможно из-за сложности получившихся формул, поэтому предложено использовать численные методы. Приведем некоторые результаты из статьи 4, необходимые для дальнейшего изложения. Семейство экстремальных траекторий в задаче оптимального управления параметризуется экспоненциальным отображением exp, переводящим пару в соответствующую точку экстремальной траектории. В свою очередь, каждая область L разбивается на непересекающиеся множества C и C, в которых экспоненциальное отображение задается разными формулами. Задача построения оптимального синтеза состоит в обращении экспоненциального отображения. При этом разбиение L на L и M на M известно, а разбиение на C неизвестно. Факторизация задачи по этой группе уменьшает размерность задачи с пяти до трех. Известно, что при любой правой части система имеет единственный корень. Для решения поставленной задачи был разработан модуль OptimalControl235. Схема его работы представлена на рисунке 2. Пользователь легко может организовать параллельное вычисление корня на нескольких ядрах процессора. Для этого требуется указать системе Mathematica 8 количество ядер и изменить при необходимости функцию SolveHen . Проведенное обширное тестирование показало, что в большинстве случаев первым результат выдает АlgorithmA или АlgorithmB, хотя и бывают ситуации, когда гибридные методы справляются с задачей быстрее. Поэтому по умолчанию предлагается делить доступные ядра поровну между AlgorithmA и АlgorithmB. Отметим, что одновременный запуск одного и того же алгоритма на разных ядрах имеет смысл, так как во всех алгоритмах используется генератор случайных начальных приближений. Так как основное время вычисления занимает выбор удачного начального приближения, использование нескольких ядер дает существенное ускорение. Дополнительные функции ПК Motionlanning235. Речь идет о следующих функциях 1. 2. PlotTrajectoryNatPartrajectory, q0, q1, T строит разным цветом графики пяти компонент заданной траектории trajectory за время t0, T, а также отмечает на нем заданные состояния q0 и q1. Эта функция может использоваться для визуальной оценки достигнутого состояния и найденных траекторий. Пользователь может включить режим работы ПК, в котором графики найденных траекторий будут выводиться на экран на каждой итерации. 3. PlotTrajectoryOtklNatPartrajectory, q0, q1, T строит разным цветом графики отклонений пяти компонент заданной траектории trajectory за время t0, T от состояния q1. 4. В результате на жестком диске создается последовательность из N кадров. Последовательность кадров это упорядоченный набор изображений. png, который впоследствии легко может быть собран в видеофайл стандартными утилитами. Размер изображения является параметром, доступным пользователю . Помимо положения машины и прицепов, на каждый кадр пунктиром наносится состояние q1. 5. AnimateBalltrajectory, T, q0, q1, N визуализирует качение без прокручиваний и проскальзываний сферы по траектории trajectory . Пример использования ПК MotionPlanning235. Продемонстрируем работу ПК MotionPlaning235 на задаче о перемещении по плоскости машины с двумя прицепами. Здесь координаты центра машины на плоскости угол, задающий ориентацию машины на плоскости угол, задающий положение первого прицепа относительно машины угол, задающий положение второго прицепа относительно первого прицепа. На рисунках 3 и 4 приведены результаты работы модулей CPControl235 и OptimalControl235. В случае применения кусочно-постоянных управлений алгоритму потребовалось шесть итераций для достижения требуемой точности, а для оптимальных управлений четыре. При использовании кусочно-постоянных управлений система совершает больший маневр . Комплекс испытан на двух прикладных задачах . В случаях, когда граничные условия не были слишком далеки, комплекс успешно решал поставленную задачу управления. При далеких граничных условиях алгоритм не сходился, что соответствует теоретическому обоснованию метода . В будущем планируется расширить функционал ПК для решения глобальной задачи управления путем ее сведения к последовательности локальных задач. 