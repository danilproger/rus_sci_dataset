УНИВЕРСАЛЬНАЯ ПРОГРАММА МОНИТОРИНГА ТЕХНОЛОГИЧЕСКИХ ПРОЦЕССОВ 

Описана архитектура программной системы мониторинга технологических процессов, состоящей из трех модулей: для создания схемы производственного процесса, для работы с хранилищами данных и для обработки и анализа данных. Работа приложения демонстрируется на примере процесса производства полиакрилонитрильных нитей..

 Целью производства является получение однородной высококачественной продукции. Для этого необходимы четкая организация технологического процесса и его своевременное регулирование с учетом имеющихся обратных связей. Основным инструментом установления обратной связи является мониторинг, заключающийся в систематическом или непрерывном сборе информации о параметрах объекта для определения тенденций их изменения. Цель настоящей работы создание универсального программного инструмента для технолога, осуществляющего сбор, обработку и анализ данных о технологическом процессе. Этот инструмент позволяет создавать из типовых элементов схему производственного процесса, адаптируя к нему систему. На основе схемы производственного процесса создаются хранилище данных и соответствующие инструменты для регистрации параметров и анализа накопленных данных. Таким образом, для разработки программной системы мониторинга необходимо решить следующие задачи 1 реализация инструмента для создания схемы производственного процесса на основе типовых элементов 2 создание хранилища значений параметров производственного процесса и инструментов для регистрации этих значений 3 создание инструментов для обработки и анализа данных о производственном процессе. Приложение для мониторинга можно разбить на три модуля, каждый из которых предназначен для решения одной из поставленных задач. Задачи и характер их решения имеют различную природу и мало пересекаются между собой, что позволяет сделать модули минимально зависимыми друг от друга. С точки зрения пользователя систему мониторинга можно рассматривать как отдельные приложения, используемые различными специалистами в разное время. Первым этапом работы с системой является создание схемы производственного процесса. Это выполняет технолог до начала эксплуатации системы. Затем операторы и обслуживающий персонал регистрируют значения отслеживаемых параметров. У пользователей нет необходимости изменять схему, поэтому данный модуль приложения можно воспринимать как электронный журнал для записи значений параметров. В процессе работы системы может возникнуть потребность изменить схему технологического процесса или свойства ее отдельных элементов. Обработкой и анализом накопленных данных занимается технолог производства или научный консультант. Они используют третий модуль приложения для мониторинга, который представляет собой постоянно расширяемый набор инструментов для анализа данных. Модули приложения показаны на рисунке 1. Приложение реализовано на платформе. Net на языке C. Каждый модуль включает в себя несколько проектов, проекты каждого модуля реализуют модель данных, бизнес-логику и интерфейс пользователя. Для проектов, реализующих бизнеслогику различных модулей приложения, следует придерживаться правила, по которому модули приложения не должны зависеть от модулей более высокого уровня. То есть, например, модуль управления схемой производственного процесса не должен зависеть от модуля управления журналами. Производственный процесс это совокупность всех действий людей и средств производства, направленных на изготовление продукции 1. Производственный процесс можно рассматривать как прохождение предмета труда через несколько стадий, в ходе которых он меняет свои свойства. Для обозначения любого предмета труда в приложении мониторинга используется термин материал. В процессе производства может происходить превращение одного материала в другой или качественное изменение свойств какого-либо материала. Можно выделить три вида материала сырье, продукция и полуфабрикаты. Та часть производственного процесса, где происходят обработка иили изменение материала, называется участком. В роли участка могут выступать аппарат, станок, цех или любое другое структурное подразделение предприятия. Главной характеристикой участка является то, что на нем обрабатывается материал. Участок может иметь входы и выходы, называемые материальными потоками. Каждый поток характеризуется материалом, который перемещается с одного участка на другой. Материальные потоки соединяют участки в единый производственный процесс. Схема производственного процесса включает в себя классы. . Необходимо отметить материальные потоки только в тех местах, где, во-первых, качество материала интересно с точки зрения влияния на качество конечной продукции, а во-вторых, имеются возможности для измерения параметров материала. Все технологические операции между выделенными материальными потоками объединяются в участки, даже если они включают в себя несколько различных машин и аппаратов. Например, процесс производства углеродного волокна упрощенно можно представить так. Акрилонитрил смешивается с растворителем и подается в реактор. Там происходит процесс полимеризации, в результате получается прядильный раствор. Этот раствор подается в демономеризатор, в котором его свойства изменяются, а затем в формовочную машину. На выходе получается волокно. С точки зрения предложенного подхода производственный процесс получения углеродного волокна состоит из трех участков полимеризация, демономеризация и формование. В ходе производственного процесса обрабатываются четыре материала акрилонитрил, растворитель, прядильный раствор и волокно. Движение этих материалов образует пять материальных потоков. Если на производстве имеется несколько реакторов полимеризации, то первый участок может состоять из множества линий. Таким образом, в рамках системы мониторинга производственный процесс представляет собой последовательность участков, на вход которых подаются материалы, а на выходе получаются другие материалы или те же, но с измененными свойствами. Как видно из диаграммы на рисунке 2, участок и материал очень похожие объекты. Одним из будущих изменений системы может стать отказ от интуитивно непонятных терминов участок, линия и материальный поток. Проектирование схемы может сводиться к тому, что пользователь сначала создает коллекцию элементов схемы производственного процесса, а затем на основе собственных элементов собирает схему. Основная задача предложенной системы регистрация параметров производственного процесса. Атрибутами участков и материалов являются параметры, а параметрами линий и материальных потоков параметры соответствующих участков и материалов. Кроме того, можно реализовать параметры, принадлежащие отдельным линиям или потокам. Параметры могут быть числовыми, строковыми, временными и пр. В зависимости от типа элемента производственного процесса, которому принадлежит параметр, можно выделить 1 входныевыходные параметры параметры материалов и параметры материальных потоков 2 параметры технологического режима параметры участков и параметры линий. По типу данных параметры делятся на целые числа, вещественные числа, текст и дата. С выделением двух классов параметров возникает типичная проблема объектно-ориентированной разработки на языке, не поддерживающем множественное наследование. При проектировании класса параметра можно использовать наследование для отражения одной классификации и композицию для отражения другой. Решить проблему помогут рекомендации Бертрана Мейера 2. 1. Правило изменений не используйте наследование для описания отношения, воспринимаемого как является, если компоненты соответствующего объекта могут изменять тип в процессе выполнения. 2. Правило полиморфизма наследование подходит для описания отношения, воспринимаемого как является, если для сущностей может возникнуть потребность присоединения к объектам различных типов. Удобно иметь возможность изменять тип данных параметра в ходе проектирования схемы производственного процесса. Кроме того, параметр может изменить свой тип данных в процессе эволюции системы. С другой стороны, нецелесообразно изменять объект, которому принадлежит параметр. При последующей обработке удобно использовать параметры различных объектов процесса как полиморфную сущность. Другим модулям приложения нет необходимости отличать участок и материал, им удобнее рассматривать эти сущности как контейнер параметров. Таким образом, определено, что класс параметра должен иметь наследование, отражающее классификацию параметров с точки зрения их принадлежности различным элементам схемы производственного процесса. Кроме этого, существует иерархия классов, описывающих тип данных параметра. Реализованы два способа хранения схемы технологического процесса. Схему можно сериализовать в формат xml. Это позволяет сохранять ее, не привязываясь к конкретной БД параметров. При формировании БД схему можно хранить в таблицах самой базы, тем самым создавая дополнительные поля, имеющие отношение не к конкретной схеме технологического процесса, а к ее реализации на конкретном производстве. После реализации схемы производственного процесса и описания параметров, значения которых надо обрабатывать и анализировать, необходимо разработать механизм для регистрации и хранения значений параметров производственного процесса. При реализации второго модуля приложения центральным понятием является журнал коллекция записей о состоянии параметров одного элемента производственного процесса. Каждая запись в нем привязана к определенному моменту времени. В зависимости от предложенного способа декомпозиции производственного процесса журналы могут быть двух видов журналы линий и журналы потоков. Принципиально они ничем не отличаются друг от друга и поэтому описываются одним классом . Для удобства созданы классы, наследующие Journal и содержащие ссылки на элементы схемы производственного процесса, для которых реализован журнал. Журналы линий одного участка или потоков одного материала частично имеют общую структуру, которая характеризуется параметрами участка или материала. Различия между журналами определяются параметрами, принадлежащими отдельным участкам и потокам. Может возникнуть необходимость работать с параметром как с атрибутом участка или материала в целом, а не с конкретной линией или потоком. Например, если возникнет желание проследить, как изменялось значение параметра на всех линиях участка сразу, следует ввести понятие группы журналов . В качестве объектов, непосредственно хранящих записи о значениях параметров, решено использовать объекты DataTable, являющиеся частью технологии ADO.Net. Авторы реализовали класс JournalTable, наследующий непосредственно сам DataTable, и классы, наследующие некоторые из его компонентов . При использовании БД для каждого журнала создается отдельная таблица базы, структура которой соответствует структуре журнала. Для выборки данных по определенным критериям использована технология LINQ, предоставляющая удобный способ обработки коллекций данных. На основе созданной выборки приложение строит графики и гистограммы, рассчитывает статистические оценки. Приложение для мониторинга предоставляет следующие возможности анализа данных построение графиков изменения параметра во времени и графиков зависимости между параметрами с определением корреляции и регрессии. Проанализируем данные на примере опытного производства ПАН нити в 80-е годы прошлого столетия с некоторыми изменениями. В БД созданы два участка с восемью и тремя линиями соответственно. Параметры участка формования включают разрывную нагрузку нити нагрузка, разрывное удлинение нити удлинение, крутка, концентрация прядильного раствора, вязкость рабочая прядильного раствора, число сменяемых фильер в сутки фильеры, номер синтеза полимера, номер смески полимера, идущего на растворение, вязкость удельная растворяемой смески полимера, зольность растворяемой смески полимера, параметры диметилформамида, из которого готовится прядильный раствор ДМФ, пыль количество пылевидной фракции полимера в данной партии полимера, текс линейная плотность измеряемой нити, выработка нити на данной линии . Количество параметров в программе можно изменять. В ходе анализа технологического процесса можно установить незначительно влияющие параметры, исключить их из текущей БД и завести новые в поиске более значимых параметров. На участке термообработки использованы параметры нагрузка, удлинение, крутка и текс термообработанной нити. Опытная БД составляет более 9 000 записей. Статистическая обработка таких больших выборок позволяет делать выводы с большой достоверностью согласно закону больших чисел. По мере работы производства с применением такой программы происходят все большая отработка и оптимизация технологического процесса. Приведем пример использования программы для оперативного анализа работы производства. Приложение для мониторинга позволило сравнить работу различных машин. На рисунке 6 показана зависимость удлинения от разрывной нагрузки нити, полученной на четырех различных формовочных машинах. На основе приведенных графиков технологом были сделаны следующие выводы. Это свидетельствует о дефектности структуры нити. Чем больше коэффициент b, тем выше разнородность структуры нити. Данная зависимость разная на различных машинах. Это говорит о том, что разные машины при вроде бы одинаковом технологическом режиме производят волокно, различное по своей структуре. Различается и среднеквадратическое отклонение на разных машинах. Оно варьируется от 1,08 до 0,75, то есть в пределах 30 . Различны средние значения величин нагрузки и удлинения на разных машинах они варьируются для нагрузки на 1,2 и для удлинения на 0,6, что составляет примерно 3 и 5 соответственно. Отметим, что данное отличие величин наиболее достоверно при большом объеме выборки и определяется различием машин. Следующим шагом в развитии системы должно стать создание экспертной системы для построения базы правил корректировки параметров технологического процесса на основе интеллектуального анализа данных этого процесса. База правил позволила бы хранить и накапливать опыт и знания эксперта по ведению технологического процесса. Кроме того, ее использование могло бы помочь эксперту-технологу в настройке параметров процесса, оптимизировать эту процедуру с учетом внешних воздействий, например, изменений, связанных с выбором станков или сырья. 