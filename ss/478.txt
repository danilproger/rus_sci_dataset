РЕАЛИЗАЦИЯ ИНТЕЛЛЕКТУАЛЬНЫХ СИСТЕМ РЕАЛЬНОГО ВРЕМЕНИ НА ОСНОВЕ СЕТЕЙ ПЕТРИ С ПОДДЕРЖКОЙ ТЕМПОРАЛЬНЫХ ЗАВИСИМОСТЕЙ 

Рассматривается использование аппарата цветных сетей Петри в интеллектуальных системах реального времени. Сети Петри позволяют естественно описывать синхронизацию,параллелизм, конфликт и причинную зависимость, а также наглядно представлять структуру и поведение сложной технической или организационной системы. Однако существенным недостатком классических сетей Петри является сложность моделирования функционирования систем реального времени, когда необходимо учитывать фактор времени и временные (темпоральные) зависимости. Предлагается новое расширение – цветные сети Петри с поддержкой темпоральной логики Аллена, позволяющие моделировать как количественные, так и качественные временные зависимости. Данная логика характеризуется достаточной выразительностью и наличием полиномиальных алгоритмов вывода, что позволяет применять ее в системах типа интеллектуальных систем поддержки принятия решений реального времени. В работе даны описание и пример использования разработанного базового программного средства для данного класса сетей Петри.

 Средства моделирования и анализа сложных параллельных и распределенных систем, в том числе систем реального времени, характерными представителями которых являются интеллектуальные системы поддержки принятия решений ИСППР реального времени РВ, вызывают большой интерес 1, 2. Актуальность этих средств обусловлена в первую очередь высоким риском возникновения ошибок на стадии проектирования подобных систем и чрезвычайно высокой ценой за эти ошибки на стадии эксплуатации. Сети Петри давно зарекомендовали себя как удобный, наглядный и в то же время математически строгий формализм для моделирования и анализа распределенных систем, однако при моделировании функционирования реальных систем необходимо явно учитывать фактор времени и временные зависимости, что довольно сложно в теории классических СП. Известные расширения СП позволяют учитывать количественные временные зависимости, в то время как в ИСППР РВ часто необходимо иметь средства представления и оперирования качественными зависимостями. Оптимальным вариантом является инструментальная среда, позволяющая оперировать зависимостями обоих типов. В данной работе рассматривается возможность организации работы с качественными временными зависимостями и предлагается расширение аппарата цветных СП ЦСП РВ с поддержкой темпоральной интервальной логики Аллена. Цветные сети Петри как средство моделирования процессов в ИСППР РВ ИСППР РВ в общем случае является динамической нестационарной нелинейной системой. При выборе математической модели для моделирования таких систем необходимо учитывать эти свойства, а также необходимость отображать не только закономерности функционирования, но и структурные характеристики системы. Для выявления конструктивных закономерностей системы необходимо добиться максимальной визуальной выразительности. Поэтому в качестве базовой модели была выбрана одна из графоориентированных сред моделирования ЦСП 3. В работе 3 показано, что для каждой ЦСП можно построить обычную СП и наоборот. Однако на практике ЦСП представляют собой более компактный и удобный язык моделирования, чем обычные СП. ЦСП РВ являются функциональным подклассом ЦСП, ориентированным на моделирование и анализ систем реального времени 4. По сравнению с ЦСП в них используются другие модель времени и приоритеты переходов, на них наложены некоторые структурные ограничения. Временные метки в ЦСП РВ ассоциируются с местами. Положительное значение временной метки описывает, как долго токен в соответствующем месте будет недоступным для любого перехода. Токен доступен для перехода, если значение временной метки меньше либо равно нулю. Например, равенство метки трем означает, что возраст токена три временные единицы . Для иллюстрации главных аспектов ЦСП РВ приведем модель автоматической остановки поезда 4. В кабине машиниста каждые 60 секунд загорается световой сигнал, чтобы проверить, контролирует ли он идущий поезд. Если машинист проигнорирует этот сигнал, через 6 секунд включается звуковой сигнал. Затем, если машинист не деактивирует его в течение 3 секунд, срабатывает механизм аварийного торможения. Соответствующая ЦСП РВ представлена на рисунке 1. Данная ЦСП РВ содержит шесть мест и пять переходов. Задана начальная маркировка, начальные значения временных меток равны нулю и опущены. Переход Disactivate имеет приоритет 1, остальные переходы 0 . Весовые и временные выражения дуг разделены знаком . Если временное выражение равно 0, оно опущено. Анализ свойств сети может осуществляться с помощью маркировки узлов графа и меток дуг.Каждая метка дуги представляет собой пару, состоящую из перехода в некоторой подстановке и течения времени. Второй элемент пары можно рассматривать как вес дуги, определяющий время, затраченное на переход от одного состояния к другому. Ясно, что выразительность представления увеличится при наличии средств интеграции, позволяющих выражать как количественные, так и качественные временные зависимости. Рассмотренный аппарат ЦСП РВ предполагает работу с количественными временными зависимостями, поэтому для эффективного использования ЦСП РВ применительно к ИСППР РВ необходимо решить задачу представления и оперирования также и качественными временными зависимостями. Современные методы представления временных зависимостей можно разбить на два класса основанные на моделировании изменений во времени и основанные на явном моделировании времени. Второй класс обладает большими выразительными возможностями. Методы и модели этого класса можно различать по способу введения фактора времени. В основном это различные темпоральные логики, которые базируются либо на модальных логиках, если время учитывается в семантике путем усложнения интерпретации, либо на модификации логики первого порядка, если время учитывается в синтаксисе. В качестве временных примитивов используются моменты или интервалы времени. Алгоритмы вывода в темпоральных логиках, являющихся расширением логики предикатов первого порядка, могут базироваться на модификациях классических алгоритмов вывода в этих логиках, например темпоральной резолюции, но эффективность этих алгоритмов вывода довольно низкая. Однако активно используемая в настоящее время темпоральная интервальная логика Аллена 5, 6 характеризуется достаточной выразительностью и наличием полиномиальных алгоритмов вывода, что обусловливает ее практическое применение в интеллектуальных системах типа ИСППР РВ. В качестве временных примитивов в ней используются интервалы, позволяющие отображать информацию о текущей ситуации не только в тот или иной момент времени, но и на том или ином временном интервале. Обозначим Int множество всех временных интервалов, а переменную, определяющую интервал, ассоциирующийся с местом p, будем обозначать именем этого места. Для корректного оперирования временными интервалами переопределим некоторые элементы ЦСП РВ 7. Модель системы остановки поезда на основе данного аппарата представлена на рисунке 2. Применение логики Аллена привело к сужению множества цветов и разбиению сети на две несвязанные подсети, одна из которых определяет работу механизма аварийного торможения, а другая моделирует действия машиниста. Формулы логики Аллена применены в данном случае как защитные функции переходов DisactLS и DisactSS, обозначающих своевременную реакцию человека на световой и звуковой сигналы соответственно. Главным преимуществом в данном случае является возможность задавать не конкретное время реакции, как в случае ЦСП РВ, а интервалы, на которых машинист может деактивировать систему и каждый из которых определяет дальнейшее поведение модели. Таким образом, включение в модель аппарата интервальных темпоральных логик позволило отразить неопределенность, присущую задаче, что является одним из основополагающих принципов в ИСППР РВ. Разработка инструментария и практическое моделирование Компьютерное моделирование ИСППР РВ актуально для теоретических исследований и для практического применения. Создание соответствующего инструментария представляет серьезную проблему, так как среда разработки должна поддерживать концепцию реального времени, а также достаточную универсальность разрабатываемых моделей. В отличие от систем, ориентированных на какую-то одну методологию или на конкретную предметную область, G2 интегрирует в себе множество взаимодополняющих методов искусственного интеллекта, что упрощает и ускоряет процесс разработки приложений. Программные продукты, разработанные с помощью G2, не зависят от аппаратного обеспечения и полностью переносимы. Возможность простого манипулирования графическим представлением объектов и составление схем, являющихся отображением технологических цепочек или алгоритмов обработки данных, обеспечивают базовые средства для построения проблемно-ориентированных языков визуального программирования и разработки достаточно эффективного инструментария для систем РВ на основе ЦСП РВ с поддержкой темпоральной логики Аллена. В качестве примера рассмотрим модель системы остановки поезда, созданной в среде G2. На переходах деактивации стоят защитные функции оценки истинности атомарных формул логики Аллена Driver d LightSig на переходе DisactLS Driver d SoundGig на переходе DisactSS. Переход DisactLS сработает, если место Driver станет удовлетворять условию доступности перехода Activity в тот момент, когда место LightSig удовлетворяет условию доступности перехода DisactLS аналогично для перехода DisactSS. Важно, чтобы приоритет перехода DisactSS был выше приоритета DisactLS, иначе неизбежно возникнет конфликт приоритетов при реагировании машиниста в момент включенных звукового и светового сигналов. Значения защитных функций переходов вычисляются через внешние функции G2, определенные разработчиком. Моделирование поведения машиниста осуществляется путем корректировки временного выражения дуги ActivityDriver. Существуют три варианта поведения машиниста относительно системы 1 если машинист реагирует на сигнал в течение первых 6 секунд, срабатывает переход DisactLS, световой сигнал LightSig выключается, а звуковой SoundSig не успевает включиться по переходу TurnOnSS 2 при реагировании машиниста в период с 7-й до 9-й секунды включительно срабатывает переход DisactSS, выключая оба сигнала LightSig и SoundSig 3 после срабатывания на 9-й секунде перехода TurnOnBr момент реакции машиниста становится несущественным переходы деактивации сработают, однако механизм торможения Brake к этому моменту будет уже запущен. Проведем симуляцию при 9-секундной задержке реакции машиниста. В начальный момент параллельно срабатывают два независимых перехода TurnOnLS и Activity, изменив состояние сети на новое. Далее в течение 6 секунд ни один переход не становится допустимым, а по истечении этого времени срабатывает переход TurnOnSS, меняя цвет токена в месте SoundSig. Через 3 секунды после этого становятся допустимыми два перехода TurnOnBr и DisactSS, но, поскольку изначально приоритет последнего был установлен более высоким, сработает переход деактивации. При этом поменяются токены в местах LightSig и SoundSig, что не позволит сработать переходу TurnOnBr. Далее в течение 51 секунды система останется стабильной, а единственным изменением будет непрерывное уменьшение временных меток с установленным шагом в 1 секунду. Затем модель вернется к исходному состоянию и сработают переходы при таймерах. Изменяя значение временной метки дуги ActivityDriver, можно исследовать и другие возможные варианты работы системы. В представленной работе исследованы временные подклассы сетей Петри в применении к моделированию процессов в ИСППР, включая ИСППР РВ. Предложено расширение подкласса ЦСП РВ в плане поддержки темпоральной логики Аллена с возможностью моделирования как количественных, так и качественных временных задержек. Исследована возможность моделирования сетей Петри с временными ограничениями в инструментальной среде конструирования интеллектуальных систем реального времени G2. На основе результатов анализа разработаны базовые программные средства моделирования с использованием ЦСП РВ с поддержкой темпоральной логики, даны их описание и пример использования. В заключение отметим, что представленная работа выполняется в плане исследований кафедры прикладной математики НИУ МЭИ по тематике разработки методов, моделей и базовых инструментальных программных средств конструирования ИСППР РВ для мониторинга и управления сложными объектами и процессами. 